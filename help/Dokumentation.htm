<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="de" dir="ltr" lang="de"><head>
	<link rel="shortcut icon" href="http://kvwmap.geoinformatik.uni-rostock.de/favicon.ico">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="KEYWORDS" content="Dokumentation">
<meta name="robots" content="index,follow">
<link rel="shortcut icon" href="http://kvwmap.geoinformatik.uni-rostock.de/favicon.ico">
    <title>Dokumentation - kvwmap</title>
    <style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "/skins/monobook/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" href="Dokumentation-Dateien/commonPrint.css">
    <!--[if lt IE 5.5000]><style type="text/css">@import "/skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "/skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if gte IE 6]><style type="text/css">@import "/skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="/skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="Dokumentation-Dateien/index.php"></script>    <script type="text/javascript" src="Dokumentation-Dateien/wikibits.js"></script>
    <style type="text/css">/*<![CDATA[*/
@import "/index.php?title=MediaWiki:Monobook.css&action=raw&ctype=text/css&smaxage=18000";
@import "/index.php?title=-&action=raw&gen=css&maxage=18000";
/*]]>*/</style>              </head>
  <body class="ns-0">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="top"></a>
	  	  <h1 class="firstHeading">Dokumentation</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">aus kvwmap, der freien Wissensdatenbank</h3>
	    <div id="contentSub"></div>
	    	    	    <!-- start content -->
	    <table id="toc" class="toc"><tbody><tr><td><div id="toctitle"><h2>Inhaltsverzeichnis</h2> <span class="toctoggle">[<a href="javascript:toggleToc()" class="internal" id="togglelink">Verbergen</a>]</span></div>
<ul>
<li class="toclevel-1"><a href="#.C3.9Cbersicht"><span class="tocnumber">1</span> <span class="toctext">Übersicht</span></a>
<ul>
<li class="toclevel-2"><a href="#Hintergr.C3.BCnde_f.C3.BCr_die_Entwicklung"><span class="tocnumber">1.1</span> <span class="toctext">Hintergründe für die Entwicklung</span></a></li>
<li class="toclevel-2"><a href="#Funktionalit.C3.A4t_im_Client"><span class="tocnumber">1.2</span> <span class="toctext">Funktionalität im Client</span></a>
<ul>
<li class="toclevel-3"><a href="#Anzeige"><span class="tocnumber">1.2.1</span> <span class="toctext">Anzeige</span></a></li>
<li class="toclevel-3"><a href="#Navigation"><span class="tocnumber">1.2.2</span> <span class="toctext">Navigation</span></a></li>
<li class="toclevel-3"><a href="#Legendenfunktionen"><span class="tocnumber">1.2.3</span> <span class="toctext">Legendenfunktionen</span></a></li>
<li class="toclevel-3"><a href="#Abfragen"><span class="tocnumber">1.2.4</span> <span class="toctext">Abfragen</span></a></li>
<li class="toclevel-3"><a href="#Suche"><span class="tocnumber">1.2.5</span> <span class="toctext">Suche</span></a></li>
<li class="toclevel-3"><a href="#Messen"><span class="tocnumber">1.2.6</span> <span class="toctext">Messen</span></a></li>
<li class="toclevel-3"><a href="#Redlining"><span class="tocnumber">1.2.7</span> <span class="toctext">Redlining</span></a></li>
<li class="toclevel-3"><a href="#Geometrie-Editor"><span class="tocnumber">1.2.8</span> <span class="toctext">Geometrie-Editor</span></a></li>
<li class="toclevel-3"><a href="#Generischer_Layereditor"><span class="tocnumber">1.2.9</span> <span class="toctext">Generischer Layereditor</span></a>
<ul>
<li class="toclevel-4"><a href="#Die_Rechteverwaltung_des_generischen_Layereditors"><span class="tocnumber">1.2.9.1</span> <span class="toctext">Die Rechteverwaltung des generischen Layereditors</span></a></li>
<li class="toclevel-4"><a href="#Bearbeitung_von_Sachdaten"><span class="tocnumber">1.2.9.2</span> <span class="toctext">Bearbeitung von Sachdaten</span></a>
<ul>
<li class="toclevel-5"><a href="#Text"><span class="tocnumber">1.2.9.2.1</span> <span class="toctext">Text</span></a></li>
<li class="toclevel-5"><a href="#Textfeld"><span class="tocnumber">1.2.9.2.2</span> <span class="toctext">Textfeld</span></a></li>
<li class="toclevel-5"><a href="#Auswahlfeld"><span class="tocnumber">1.2.9.2.3</span> <span class="toctext">Auswahlfeld</span></a></li>
<li class="toclevel-5"><a href="#SubformPK"><span class="tocnumber">1.2.9.2.4</span> <span class="toctext">SubformPK</span></a></li>
<li class="toclevel-5"><a href="#SubformFK"><span class="tocnumber">1.2.9.2.5</span> <span class="toctext">SubformFK</span></a></li>
<li class="toclevel-5"><a href="#SubformEmbeddedPK"><span class="tocnumber">1.2.9.2.6</span> <span class="toctext">SubformEmbeddedPK</span></a></li>
<li class="toclevel-5"><a href="#Time"><span class="tocnumber">1.2.9.2.7</span> <span class="toctext">Time</span></a></li>
<li class="toclevel-5"><a href="#Dokument"><span class="tocnumber">1.2.9.2.8</span> <span class="toctext">Dokument</span></a></li>
<li class="toclevel-5"><a href="#Link"><span class="tocnumber">1.2.9.2.9</span> <span class="toctext">Link</span></a></li>
<li class="toclevel-5"><a href="#dynamischer_Link"><span class="tocnumber">1.2.9.2.10</span> <span class="toctext">dynamischer Link</span></a></li>
<li class="toclevel-5"><a href="#User"><span class="tocnumber">1.2.9.2.11</span> <span class="toctext">User</span></a></li>
</ul>
</li>
<li class="toclevel-4"><a href="#Bearbeitung_von_Geometriedaten"><span class="tocnumber">1.2.9.3</span> <span class="toctext">Bearbeitung von Geometriedaten</span></a></li>
<li class="toclevel-4"><a href="#Layer-Suche"><span class="tocnumber">1.2.9.4</span> <span class="toctext">Layer-Suche</span></a></li>
</ul>
</li>
<li class="toclevel-3"><a href="#Import.2FExport-Funktionen"><span class="tocnumber">1.2.10</span> <span class="toctext">Import/Export-Funktionen</span></a>
<ul>
<li class="toclevel-4"><a href="#Shape-Export"><span class="tocnumber">1.2.10.1</span> <span class="toctext">Shape-Export</span></a></li>
<li class="toclevel-4"><a href="#Shape-Import"><span class="tocnumber">1.2.10.2</span> <span class="toctext">Shape-Import</span></a></li>
</ul>
</li>
<li class="toclevel-3"><a href="#Kartenausschnitt_speichern.2Fabrufen"><span class="tocnumber">1.2.11</span> <span class="toctext">Kartenausschnitt speichern/abrufen</span></a></li>
<li class="toclevel-3"><a href="#Drucken"><span class="tocnumber">1.2.12</span> <span class="toctext">Drucken</span></a></li>
<li class="toclevel-3"><a href="#Weitere_Funktionalit.C3.A4ten"><span class="tocnumber">1.2.13</span> <span class="toctext">Weitere Funktionalitäten</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#Funktionen_auf_dem_Server"><span class="tocnumber">1.3</span> <span class="toctext">Funktionen auf dem Server</span></a></li>
<li class="toclevel-2"><a href="#Fachschalen"><span class="tocnumber">1.4</span> <span class="toctext">Fachschalen</span></a>
<ul>
<li class="toclevel-3"><a href="#.C3.84nderung_der_Eigent.C3.BCmeradressen"><span class="tocnumber">1.4.1</span> <span class="toctext">Änderung der Eigentümeradressen</span></a></li>
<li class="toclevel-3"><a href="#Bauleitplanungs.C3.A4nderung"><span class="tocnumber">1.4.2</span> <span class="toctext">Bauleitplanungsänderung</span></a></li>
<li class="toclevel-3"><a href="#Notizen"><span class="tocnumber">1.4.3</span> <span class="toctext">Notizen</span></a></li>
<li class="toclevel-3"><a href="#Kataster"><span class="tocnumber">1.4.4</span> <span class="toctext">Kataster</span></a></li>
<li class="toclevel-3"><a href="#Nachweisverwaltung"><span class="tocnumber">1.4.5</span> <span class="toctext">Nachweisverwaltung</span></a></li>
<li class="toclevel-3"><a href="#Bodenrichtwerterfassung"><span class="tocnumber">1.4.6</span> <span class="toctext">Bodenrichtwerterfassung</span></a></li>
<li class="toclevel-3"><a href="#Fl.C3.A4chenversiegelung"><span class="tocnumber">1.4.7</span> <span class="toctext">Flächenversiegelung</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#Aufbau_des_PHP-Skript"><span class="tocnumber">1.5</span> <span class="toctext">Aufbau des PHP-Skript</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Installation"><span class="tocnumber">2</span> <span class="toctext">Installation</span></a>
<ul>
<li class="toclevel-2"><a href="#Voraussetzungen"><span class="tocnumber">2.1</span> <span class="toctext">Voraussetzungen</span></a>
<ul>
<li class="toclevel-3"><a href="#Serverseite"><span class="tocnumber">2.1.1</span> <span class="toctext">Serverseite</span></a></li>
<li class="toclevel-3"><a href="#Clientseite"><span class="tocnumber">2.1.2</span> <span class="toctext">Clientseite</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#UMN-MapServer"><span class="tocnumber">2.2</span> <span class="toctext">UMN-MapServer</span></a></li>
<li class="toclevel-2"><a href="#PostgreSQL_mit_PostGIS_Erweiterung"><span class="tocnumber">2.3</span> <span class="toctext">PostgreSQL mit PostGIS Erweiterung</span></a>
<ul>
<li class="toclevel-3"><a href="#PostgreSQL"><span class="tocnumber">2.3.1</span> <span class="toctext">PostgreSQL</span></a></li>
<li class="toclevel-3"><a href="#PROJ"><span class="tocnumber">2.3.2</span> <span class="toctext">PROJ</span></a></li>
<li class="toclevel-3"><a href="#GEOS"><span class="tocnumber">2.3.3</span> <span class="toctext">GEOS</span></a></li>
<li class="toclevel-3"><a href="#PostGIS"><span class="tocnumber">2.3.4</span> <span class="toctext">PostGIS</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#MySQL"><span class="tocnumber">2.4</span> <span class="toctext">MySQL</span></a></li>
<li class="toclevel-2"><a href="#Schritte_zur_Installation_von_kvwmap"><span class="tocnumber">2.5</span> <span class="toctext">Schritte zur Installation von kvwmap</span></a>
<ul>
<li class="toclevel-3"><a href="#Verzeichnisse"><span class="tocnumber">2.5.1</span> <span class="toctext">Verzeichnisse</span></a></li>
<li class="toclevel-3"><a href="#config.php"><span class="tocnumber">2.5.2</span> <span class="toctext">config.php</span></a></li>
<li class="toclevel-3"><a href="#Datenbankeintr.C3.A4ge_f.C3.BCr_die_Anzeige_im_Client"><span class="tocnumber">2.5.3</span> <span class="toctext">Datenbankeinträge für die Anzeige im Client</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#Installation_mit_ms4w"><span class="tocnumber">2.6</span> <span class="toctext">Installation mit ms4w</span></a></li>
<li class="toclevel-2"><a href="#Installation_mit_fgs"><span class="tocnumber">2.7</span> <span class="toctext">Installation mit fgs</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Administration"><span class="tocnumber">3</span> <span class="toctext">Administration</span></a>
<ul>
<li class="toclevel-2"><a href="#Allgemeines_zur_Datenverwaltung"><span class="tocnumber">3.1</span> <span class="toctext">Allgemeines zur Datenverwaltung</span></a></li>
<li class="toclevel-2"><a href="#Stelle"><span class="tocnumber">3.2</span> <span class="toctext">Stelle</span></a>
<ul>
<li class="toclevel-3"><a href="#Stelle_anlegen"><span class="tocnumber">3.2.1</span> <span class="toctext">Stelle anlegen</span></a></li>
<li class="toclevel-3"><a href="#Stellen_anzeigen"><span class="tocnumber">3.2.2</span> <span class="toctext">Stellen anzeigen</span></a></li>
<li class="toclevel-3"><a href="#Stellen_.C3.A4ndern"><span class="tocnumber">3.2.3</span> <span class="toctext">Stellen ändern</span></a></li>
<li class="toclevel-3"><a href="#Maximale_Ausdehnung_des_Kartenfensters_f.C3.BCr_eine_Stelle_.C3.A4ndern"><span class="tocnumber">3.2.4</span> <span class="toctext">Maximale Ausdehnung des Kartenfensters für eine Stelle ändern</span></a></li>
<li class="toclevel-3"><a href="#Filterverwaltung"><span class="tocnumber">3.2.5</span> <span class="toctext">Filterverwaltung</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#Nutzerverwaltung"><span class="tocnumber">3.3</span> <span class="toctext">Nutzerverwaltung</span></a>
<ul>
<li class="toclevel-3"><a href="#Authentifizierung_.C3.BCber_PHP"><span class="tocnumber">3.3.1</span> <span class="toctext">Authentifizierung über PHP</span></a></li>
<li class="toclevel-3"><a href="#Authentifizierung_.C3.BCber_den_Web-Server"><span class="tocnumber">3.3.2</span> <span class="toctext">Authentifizierung über den Web-Server</span></a>
<ul>
<li class="toclevel-4"><a href="#Authentifizierung_mit_Apache_und_MySQL"><span class="tocnumber">3.3.2.1</span> <span class="toctext">Authentifizierung mit Apache und MySQL</span></a></li>
</ul>
</li>
<li class="toclevel-3"><a href="#Nutzer_anlegen"><span class="tocnumber">3.3.3</span> <span class="toctext">Nutzer anlegen</span></a></li>
<li class="toclevel-3"><a href="#Nutzer_.C3.A4ndern"><span class="tocnumber">3.3.4</span> <span class="toctext">Nutzer ändern</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#Layer"><span class="tocnumber">3.4</span> <span class="toctext">Layer</span></a>
<ul>
<li class="toclevel-3"><a href="#Zeichnungsreihenfolge_von_Layern_.C3.84ndern"><span class="tocnumber">3.4.1</span> <span class="toctext">Zeichnungsreihenfolge von Layern Ändern</span></a></li>
<li class="toclevel-3"><a href="#Layer_zu_einer_Stelle_hinzuf.C3.BCgen"><span class="tocnumber">3.4.2</span> <span class="toctext">Layer zu einer Stelle hinzufügen</span></a></li>
<li class="toclevel-3"><a href="#Neuen_Layer_anlegen"><span class="tocnumber">3.4.3</span> <span class="toctext">Neuen Layer anlegen</span></a>
<ul>
<li class="toclevel-4"><a href="#Vektor_Layer"><span class="tocnumber">3.4.3.1</span> <span class="toctext">Vektor Layer</span></a></li>
<li class="toclevel-4"><a href="#RasterLayer"><span class="tocnumber">3.4.3.2</span> <span class="toctext">RasterLayer</span></a></li>
</ul>
</li>
<li class="toclevel-3"><a href="#Beschriftung_f.C3.BCr_Layer_anlegen"><span class="tocnumber">3.4.4</span> <span class="toctext">Beschriftung für Layer anlegen</span></a></li>
<li class="toclevel-3"><a href="#Neue_Klasse_f.C3.BCr_Layer_anlegen"><span class="tocnumber">3.4.5</span> <span class="toctext">Neue Klasse für Layer anlegen</span></a></li>
<li class="toclevel-3"><a href="#Neuen_Layer_aus_PostGIS_anlegen"><span class="tocnumber">3.4.6</span> <span class="toctext">Neuen Layer aus PostGIS anlegen</span></a></li>
<li class="toclevel-3"><a href="#WMS-Layer_anlegen"><span class="tocnumber">3.4.7</span> <span class="toctext">WMS-Layer anlegen</span></a></li>
<li class="toclevel-3"><a href="#SQL-Skriptunterst.C3.BCtzung_zum_Anlegen_eines_neuen_Layers"><span class="tocnumber">3.4.8</span> <span class="toctext">SQL-Skriptunterstützung zum Anlegen eines neuen Layers</span></a></li>
<li class="toclevel-3"><a href="#Metadatenlayer"><span class="tocnumber">3.4.9</span> <span class="toctext">Metadatenlayer</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#Men.C3.BCverwaltung"><span class="tocnumber">3.5</span> <span class="toctext">Menüverwaltung</span></a>
<ul>
<li class="toclevel-3"><a href="#Neuen_Men.C3.BCpunkt_anlegen"><span class="tocnumber">3.5.1</span> <span class="toctext">Neuen Menüpunkt anlegen</span></a></li>
<li class="toclevel-3"><a href="#Zuordnen_des_Men.C3.BCs_zur_Stelle"><span class="tocnumber">3.5.2</span> <span class="toctext">Zuordnen des Menüs zur Stelle</span></a></li>
<li class="toclevel-3"><a href="#.C3.84ndern_der_Zuordnung_von_Men.C3.BCpunkten_zu_Obermen.C3.BCs"><span class="tocnumber">3.5.3</span> <span class="toctext">Ändern der Zuordnung von Menüpunkten zu Obermenüs</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#Druckrahmenverwaltung"><span class="tocnumber">3.6</span> <span class="toctext">Druckrahmenverwaltung</span></a></li>
<li class="toclevel-2"><a href="#Datenbankadministration"><span class="tocnumber">3.7</span> <span class="toctext">Datenbankadministration</span></a>
<ul>
<li class="toclevel-3"><a href="#Datensicherung_MySQL"><span class="tocnumber">3.7.1</span> <span class="toctext">Datensicherung MySQL</span></a></li>
<li class="toclevel-3"><a href="#Datensicherung_PostgreSQL.2FPostGIS"><span class="tocnumber">3.7.2</span> <span class="toctext">Datensicherung PostgreSQL/PostGIS</span></a></li>
<li class="toclevel-3"><a href="#Referenz_zur_MySQL-Datenbank_von_kvwmap"><span class="tocnumber">3.7.3</span> <span class="toctext">Referenz zur MySQL-Datenbank von kvwmap</span></a>
<ul>
<li class="toclevel-4"><a href="#Tabelle_.22classes.22"><span class="tocnumber">3.7.3.1</span> <span class="toctext">Tabelle "classes"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22colors.22"><span class="tocnumber">3.7.3.2</span> <span class="toctext">Tabelle "colors"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22datendrucklayouts.22"><span class="tocnumber">3.7.3.3</span> <span class="toctext">Tabelle "datendrucklayouts"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22ddl2freitexte.22"><span class="tocnumber">3.7.3.4</span> <span class="toctext">Tabelle "ddl2freitexte"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22ddl2stelle.22"><span class="tocnumber">3.7.3.5</span> <span class="toctext">Tabelle "ddl2stelle"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22ddl_elemente.22"><span class="tocnumber">3.7.3.6</span> <span class="toctext">Tabelle "ddl_elemente"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22druckausschnitte.22"><span class="tocnumber">3.7.3.7</span> <span class="toctext">Tabelle "druckausschnitte"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22druckfreibilder.22"><span class="tocnumber">3.7.3.8</span> <span class="toctext">Tabelle "druckfreibilder"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22druckfreitexte.22"><span class="tocnumber">3.7.3.9</span> <span class="toctext">Tabelle "druckfreitexte"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22druckrahmen.22"><span class="tocnumber">3.7.3.10</span> <span class="toctext">Tabelle "druckrahmen"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22druckrahmen2freibilder.22"><span class="tocnumber">3.7.3.11</span> <span class="toctext">Tabelle "druckrahmen2freibilder"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22druckrahmen2freitexte.22"><span class="tocnumber">3.7.3.12</span> <span class="toctext">Tabelle "druckrahmen2freitexte"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22druckrahmen2stelle.22"><span class="tocnumber">3.7.3.13</span> <span class="toctext">Tabelle "druckrahmen2stelle"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22labels.22"><span class="tocnumber">3.7.3.14</span> <span class="toctext">Tabelle "labels"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22layer.22"><span class="tocnumber">3.7.3.15</span> <span class="toctext">Tabelle "layer"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22layer_attributes.22"><span class="tocnumber">3.7.3.16</span> <span class="toctext">Tabelle "layer_attributes"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22layer_attributes2stelle.22"><span class="tocnumber">3.7.3.17</span> <span class="toctext">Tabelle "layer_attributes2stelle"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22m_grids.22"><span class="tocnumber">3.7.3.18</span> <span class="toctext">Tabelle "m_grids"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22m_grids2used_layer.22"><span class="tocnumber">3.7.3.19</span> <span class="toctext">Tabelle "m_grids2used_layer"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22referenzkarten.22"><span class="tocnumber">3.7.3.20</span> <span class="toctext">Tabelle "referenzkarten"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22rolle.22"><span class="tocnumber">3.7.3.21</span> <span class="toctext">Tabelle "rolle"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22rollenlayer.22"><span class="tocnumber">3.7.3.22</span> <span class="toctext">Tabelle "rollenlayer"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22rolle_nachweise.22"><span class="tocnumber">3.7.3.23</span> <span class="toctext">Tabelle "rolle_nachweise"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22stelle.22"><span class="tocnumber">3.7.3.24</span> <span class="toctext">Tabelle "stelle"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22stelle_gemeinden.22"><span class="tocnumber">3.7.3.25</span> <span class="toctext">Tabelle "stelle_gemeinden"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22styles.22"><span class="tocnumber">3.7.3.26</span> <span class="toctext">Tabelle "styles"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22used_layer.22"><span class="tocnumber">3.7.3.27</span> <span class="toctext">Tabelle "used_layer"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22user.22"><span class="tocnumber">3.7.3.28</span> <span class="toctext">Tabelle "user"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22u_attributfilter2used_layer.22"><span class="tocnumber">3.7.3.29</span> <span class="toctext">Tabelle "u_attributfilter2used_layer"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22u_consume.22"><span class="tocnumber">3.7.3.30</span> <span class="toctext">Tabelle "u_consume"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22u_consume2comments.22"><span class="tocnumber">3.7.3.31</span> <span class="toctext">Tabelle "u_consume2comments"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22u_consume2layer.22"><span class="tocnumber">3.7.3.32</span> <span class="toctext">Tabelle "u_consume2layer"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22u_consumeALB.22"><span class="tocnumber">3.7.3.33</span> <span class="toctext">Tabelle "u_consumeALB"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22u_consumeALK.22"><span class="tocnumber">3.7.3.34</span> <span class="toctext">Tabelle "u_consumeALK"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22u_funktion2stelle.22"><span class="tocnumber">3.7.3.35</span> <span class="toctext">Tabelle "u_funktion2stelle"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22u_funktionen.22"><span class="tocnumber">3.7.3.36</span> <span class="toctext">Tabelle "u_funktionen"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22u_groups.22"><span class="tocnumber">3.7.3.37</span> <span class="toctext">Tabelle "u_groups"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22u_groups2rolle.22"><span class="tocnumber">3.7.3.38</span> <span class="toctext">Tabelle "u_groups2rolle"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22u_labels2classes.22"><span class="tocnumber">3.7.3.39</span> <span class="toctext">Tabelle "u_labels2classes"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22u_menue2rolle.22"><span class="tocnumber">3.7.3.40</span> <span class="toctext">Tabelle "u_menue2rolle"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22u_menue2stelle.22"><span class="tocnumber">3.7.3.41</span> <span class="toctext">Tabelle "u_menue2stelle"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22u_menues.22"><span class="tocnumber">3.7.3.42</span> <span class="toctext">Tabelle "u_menues"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22u_rolle2used_layer.22"><span class="tocnumber">3.7.3.43</span> <span class="toctext">Tabelle "u_rolle2used_layer"</span></a></li>
<li class="toclevel-4"><a href="#Tabelle_.22u_styles2classes.22"><span class="tocnumber">3.7.3.44</span> <span class="toctext">Tabelle "u_styles2classes"</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2"><a href="#API_Doc"><span class="tocnumber">3.8</span> <span class="toctext">API Doc</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Benutzung_von_kvwmap"><span class="tocnumber">4</span> <span class="toctext">Benutzung von kvwmap</span></a>
<ul>
<li class="toclevel-2"><a href="#Stelle_W.C3.A4hlen"><span class="tocnumber">4.1</span> <span class="toctext">Stelle Wählen</span></a></li>
<li class="toclevel-2"><a href="#Drucken_in_PDF"><span class="tocnumber">4.2</span> <span class="toctext">Drucken in PDF</span></a></li>
<li class="toclevel-2"><a href="#Metadaten"><span class="tocnumber">4.3</span> <span class="toctext">Metadaten</span></a>
<ul>
<li class="toclevel-3"><a href="#Eingabe"><span class="tocnumber">4.3.1</span> <span class="toctext">Eingabe</span></a></li>
<li class="toclevel-3"><a href="#Suche_2"><span class="tocnumber">4.3.2</span> <span class="toctext">Suche</span></a></li>
<li class="toclevel-3"><a href="#Anzeige_2"><span class="tocnumber">4.3.3</span> <span class="toctext">Anzeige</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#Layer_aus_Mapdatei_laden"><span class="tocnumber">4.4</span> <span class="toctext">Layer aus Mapdatei laden</span></a></li>
<li class="toclevel-2"><a href="#ALB-.C3.84nderung"><span class="tocnumber">4.5</span> <span class="toctext">ALB-Änderung</span></a></li>
<li class="toclevel-2"><a href="#ALK-Aktualisieren"><span class="tocnumber">4.6</span> <span class="toctext">ALK-Aktualisieren</span></a>
<ul>
<li class="toclevel-3"><a href="#Mit_Shapefiles"><span class="tocnumber">4.6.1</span> <span class="toctext">Mit Shapefiles</span></a></li>
<li class="toclevel-3"><a href="#Mit_EDBS-Dateien_.28BZSN.29"><span class="tocnumber">4.6.2</span> <span class="toctext">Mit EDBS-Dateien (BZSN)</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#WMS-Konformit.C3.A4t"><span class="tocnumber">4.7</span> <span class="toctext">WMS-Konformität</span></a></li>
<li class="toclevel-2"><a href="#ESRI-Shape_Import"><span class="tocnumber">4.8</span> <span class="toctext">ESRI-Shape Import</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Weitere_Hilfe"><span class="tocnumber">5</span> <span class="toctext">Weitere Hilfe</span></a></li>
</ul>
</td></tr></tbody></table>
<p><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "Anzeigen"; var tocHideText = "Verbergen"; showTocToggle(); } </script>
</p><p><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Kvwmapping" title="Kvwmapping">Weitere Informationen im kvwmap Forum</a>
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=1" title="Dokumentation">bearbeiten</a>]</div><a name=".C3.9Cbersicht"></a><h1> Übersicht </h1>
<p>kvwmap setzt unter anderem auf Apache, UMN-MapServer, php-Mapscript, 
MySQL, Postgres mit PostGIS und EDBS2WKT auf und beinhaltet WLDGE2SQL. <br>
Dank an dieser Stelle für die Bereitstellung der genannten Software.
</p><p>Dieses Manual wurde erstellt unter Mitwirkung von
</p>
<dl><dd>Peter Korduan, Markus Hentschel, Hauke Christoph, Heinz Schmidt
</dd></dl>
<p>An der Entwicklung von kvwmap waren und/oder sind bisher beteiligt:
</p>
<dl><dd>Peter Korduan, Stefan Rahn, Hauke Christoph, Conrad Gühler, Swen Hüner, Markus  Hentschel, Holger Riedel, Heinz Schmidt
</dd></dl>
<p>Vielen Dank auch für die Zuarbeiten und Hinweise aus den 
Katasterämtern Bad Doberan, Nordvorpommern, Ücker-Randow, 
Ludwigslust/Schwerin, Parchim, Waren-Müritz, Rügen, 
Mecklenburg-Strelitz/Neubrandenburg und Rostock
</p><p>Dienstleistungen zu kvwmap werden angeboten von:
</p>
<dl><dd>Steinbeis Transfer Zentrum Geoinformatik Rostock/Greifswald <a href="http://www.auf.uni-rostock.de/gg/steinbeis/" class="external text" target="_blank" title="http://www.auf.uni-rostock.de/gg/steinbeis/" rel="nofollow">STZ</a>
</dd><dd><a href="http://www.auf.uni-rostock.de/gg/bill/" class="external text" target="_blank" title="http://www.auf.uni-rostock.de/gg/bill/" rel="nofollow">Prof. Ralf Bill</a>
</dd></dl>
<p><br>
<b>Status des kvwmap-WIKIs:  in Work!!</b>
</p><p>Die Dokumentation erhebt keinen Anspruch auf Vollständigkeit. Sie
 wird sowohl von den Entwicklern als auch von den Anwendern aktualisiert
 und laufend gehalten. Dennoch kann es vorkommen, dass bestimmte Inhalte
 nicht immer ganz zur aktuellsten Version passen. Als registrierter 
Teilnehmer dieses WIKIs können Sie Fehler selbst beheben und die 
Dokumentation auf dem aktuellsten Stand halten. Wenn Sie nicht 
registriert sind, sind Zuarbeiten, Hinweise und Korrekturvorschläge 
selbstverständlich genauso herzlich willkommen. Schreiben Sie an die 
o.g. Personen, die auch in der <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Spezial:Listusers" title="Spezial:Listusers">Teilnehmerliste</a> auftauchen.
</p><p>Die Dokumentation wird in der jeweils aktuellen Version jedem neuen <a href="http://sourceforge.net/project/downloading.php?groupname=kvwmap&amp;filename=kvwmap-1.6.3.zip" class="external text" target="_blank" title="http://sourceforge.net/project/downloading.php?groupname=kvwmap&amp;filename=kvwmap-1.6.3.zip" rel="nofollow">Versionspacket</a> von kvwmap im Unterordner help hinzugefügt.
Für die Richtigkeit und Vollständigkeit der folgenden Angaben wird keine Garantie übernommen.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=2" title="Dokumentation">bearbeiten</a>]</div><a name="Hintergr.C3.BCnde_f.C3.BCr_die_Entwicklung"></a><h2> Hintergründe für die Entwicklung </h2>
<p>Kvwmap ist eine auf den UMN-MapServer aufsetzende Entwicklung zur 
Erfassung, Verarbeitung, Analyse und Präsentation von raumbezogenen 
Information. Die Entwicklung besteht aus einer Reihe von PHP-Skripten, 
einem Schema für eine MySQL-Datenbank zur Speicherung von Benutzerdaten 
und einem Schema für eine PostgreSQL-Datenbank mit PostGIS Aufsatz zur 
Speicherung von raumbezogenen Daten. Die Anwendung nutzt PHP-MapScript 
für den Zugriff auf die Funktionen des UMN-MapServers und die pdf class 
von R&amp;OS zur Erzeugung von PDF-Dokumenten.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=3" title="Dokumentation">bearbeiten</a>]</div><a name="Funktionalit.C3.A4t_im_Client"></a><h2> Funktionalität im Client </h2>
<p>Folgende Funktionalitäten werden von dem Client bereitgestellt:
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=4" title="Dokumentation">bearbeiten</a>]</div><a name="Anzeige"></a><h3> Anzeige </h3>
<dl><dd> Menüs für gruppierte Funktionen und Layer
</dd><dd> Karte und Übersichtskarte
</dd><dd> Maßstabszahl und Maßstabsbalken
</dd><dd> Anzeige welche Layer aktiv und im Abfragemodus sind
</dd><dd> Legenden der Layer, ausschaltbar mit <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Minus.gif" class="image" title="Bild:Minus.gif"><img src="Dokumentation-Dateien/Minus.gif" alt="Bild:Minus.gif" longdesc="/index.php/Bild:Minus.gif" height="9" width="9"></a>
</dd><dd> Menü und Layeranzeige sind ausblendbar mit <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Double_arror_left.png" class="image" title="Bild:Double_arror_left.png"><img src="Dokumentation-Dateien/Double_arror_left.png" alt="Bild:Double_arror_left.png" longdesc="/index.php/Bild:Double_arror_left.png" height="14" width="16"></a> und <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Double_arror_right.png" class="image" title="Bild:Double_arror_right.png"><img src="Dokumentation-Dateien/Double_arror_right.png" alt="Bild:Double_arror_right.png" longdesc="/index.php/Bild:Double_arror_right.png" height="14" width="14"></a>
</dd><dd> Anzeige der Koordinaten an aktueller Cursorposition in Statuszeile <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Statuszeile.png" class="image" title="Bild:statuszeile.png"><img src="Dokumentation-Dateien/Statuszeile.png" alt="Bild:statuszeile.png" longdesc="/index.php/Bild:Statuszeile.png" height="31" width="204"></a> 
</dd><dd> Anzeige kvwmap-Version, Datum, angemeldeter Nutzer und aktuelle Stelle
</dd></dl>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=5" title="Dokumentation">bearbeiten</a>]</div><a name="Navigation"></a><h3> Navigation </h3>
<div class="center"><div class="thumb tnone"><div style="width:790px;"><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Nav-leiste_167.png" class="internal" title="Navigationsleiste des SVG-Clients"><img src="Dokumentation-Dateien/Nav-leiste_167.png" alt="Navigationsleiste des SVG-Clients" longdesc="/index.php/Bild:Nav-leiste_167.png" height="60" width="788"></a>  <div class="thumbcaption">Navigationsleiste des SVG-Clients</div></div></div></div>
<dl><dd> <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Back.png" class="image" title="Bild:Back.png"><img src="Dokumentation-Dateien/Back.png" alt="Bild:Back.png" longdesc="/index.php/Bild:Back.png" height="26" width="25"></a> Vorheriger Ausschnitt (History-Funktion)
</dd><dd> <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Frwd.png" class="image" title="Bild:Frwd.png"><img src="Dokumentation-Dateien/Frwd.png" alt="Bild:Frwd.png" longdesc="/index.php/Bild:Frwd.png" height="26" width="25"></a> Nächsten Ausschnitt (History-Funktion)
</dd><dd> <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Zoomin.png" class="image" title="Bild:Zoomin.png"><img src="Dokumentation-Dateien/Zoomin.png" alt="Bild:Zoomin.png" longdesc="/index.php/Bild:Zoomin.png" height="26" width="25"></a> Zoom in (durch Aufziehen einer Box)
</dd><dd> <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Zoomin.png" class="image" title="Bild:Zoomin.png"><img src="Dokumentation-Dateien/Zoomin.png" alt="Bild:Zoomin.png" longdesc="/index.php/Bild:Zoomin.png" height="26" width="25"></a> Zoom in (durch Klicken i. d. Karte bei wählbarem Zoomfaktor)
</dd><dd> <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Zoomout.png" class="image" title="Bild:Zoomout.png"><img src="Dokumentation-Dateien/Zoomout.png" alt="Bild:Zoomout.png" longdesc="/index.php/Bild:Zoomout.png" height="26" width="25"></a> Zoom out (durch Klicken i. d. Karte bei wählbarem Zoomfaktor)
</dd><dd> <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Pan.png" class="image" title="Bild:Pan.png"><img src="Dokumentation-Dateien/Pan.png" alt="Bild:Pan.png" longdesc="/index.php/Bild:Pan.png" height="26" width="25"></a> Pan (durch Ziehen des Bildschirmausschnittes an eine neue Stelle)
</dd><dd> <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Pan.png" class="image" title="Bild:Pan.png"><img src="Dokumentation-Dateien/Pan.png" alt="Bild:Pan.png" longdesc="/index.php/Bild:Pan.png" height="26" width="25"></a> Zentrieren (der zu klickende Punkt wird in Kartenmitte versetzt)
</dd><dd> <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Jumpto.png" class="image" title="Bild:Jumpto.png"><img src="Dokumentation-Dateien/Jumpto.png" alt="Bild:Jumpto.png" longdesc="/index.php/Bild:Jumpto.png" height="25" width="26"></a> Eingabe eines konkreten Koordinatenpaars ('Koordinatenzoom')
<ul><li> Eingabe eines konkreten Maßstabs 
<dl><dd><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Massstab.png" class="image" title="Bild:Massstab.png"><img src="Dokumentation-Dateien/Massstab.png" alt="Bild:Massstab.png" longdesc="/index.php/Bild:Massstab.png" height="22" width="128"></a>
</dd></dl>
</li><li> Tool-Tipps einblenden 
<dl><dd><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Tooltip.png" class="image" title="Bild:Tooltip.png"><img src="Dokumentation-Dateien/Tooltip.png" alt="Bild:Tooltip.png" longdesc="/index.php/Bild:Tooltip.png" height="17" width="102"></a>
</dd></dl>
</li></ul>
</dd></dl>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=6" title="Dokumentation">bearbeiten</a>]</div><a name="Legendenfunktionen"></a><h3>Legendenfunktionen</h3>
<ul><li> Gruppierung der Layer
<ul><li> Anzeige der Gruppennamen
</li><li> Zuordnung der Layer zu den Gruppen
</li><li> Auf- und Zuklappen der Legende einzelner Gruppen (<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Plus.gif" class="image" title="Bild:Plus.gif"><img src="Dokumentation-Dateien/Plus.gif" alt="Bild:Plus.gif" longdesc="/index.php/Bild:Plus.gif" height="9" width="9"></a>|<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Minus.gif" class="image" title="Bild:Minus.gif"><img src="Dokumentation-Dateien/Minus.gif" alt="Bild:Minus.gif" longdesc="/index.php/Bild:Minus.gif" height="9" width="9"></a> vom Gruppennamen)
</li><li> Gleichzeitiges De- oder Aktivieren aller Layer der Gruppe für die Informationsabfrage <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Pfeil.gif" class="image" title="Bild:Pfeil.gif"><img src="Dokumentation-Dateien/Pfeil.gif" alt="Bild:Pfeil.gif" longdesc="/index.php/Bild:Pfeil.gif" height="11" width="11"></a>
</li><li> Gleichzeitiges Ein- oder Ausschalten der Sichtbarkeit aller Layer der Gruppe <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Pfeil.gif" class="image" title="Bild:Pfeil.gif"><img src="Dokumentation-Dateien/Pfeil.gif" alt="Bild:Pfeil.gif" longdesc="/index.php/Bild:Pfeil.gif" height="11" width="11"></a>
</li></ul>
</li></ul>
<ul><li> Layer
<ul><li> Ein- und Ausschalten des Layers für die Anzeige <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Checkbox.png" class="image" title="Bild:checkbox.png"><img src="Dokumentation-Dateien/Checkbox.png" alt="Bild:checkbox.png" longdesc="/index.php/Bild:Checkbox.png" height="13" width="14"></a>
</li><li> Ein- und Ausschalten des Layers für die Sachdatenabfrage <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Checkbox.png" class="image" title="Bild:checkbox.png"><img src="Dokumentation-Dateien/Checkbox.png" alt="Bild:checkbox.png" longdesc="/index.php/Bild:Checkbox.png" height="13" width="14"></a>
</li><li> Zoom auf die maximale Ausdehnung des Layers (<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:MaxLayerExtent.gif" class="image" title="Bild:maxLayerExtent.gif"><img src="Dokumentation-Dateien/MaxLayerExtent.gif" alt="Bild:maxLayerExtent.gif" longdesc="/index.php/Bild:MaxLayerExtent.gif" height="9" width="9"></a> hinter dem Layernamen,  geht derzeit nur für aktuell eingeblendete PostGIS Layer) 
</li><li> Ein- und Ausschalten der Klassen des Layers (<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Plus.gif" class="image" title="Bild:Plus.gif"><img src="Dokumentation-Dateien/Plus.gif" alt="Bild:Plus.gif" longdesc="/index.php/Bild:Plus.gif" height="9" width="9"></a>|<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Minus.gif" class="image" title="Bild:Minus.gif"><img src="Dokumentation-Dateien/Minus.gif" alt="Bild:Minus.gif" longdesc="/index.php/Bild:Minus.gif" height="9" width="9"></a> hinter dem Layernamen)
</li></ul>
</li></ul>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=7" title="Dokumentation">bearbeiten</a>]</div><a name="Abfragen"></a><h3>Abfragen</h3>
<p>Das Abfrageergebnis wird in einem eigenen Fenster angezeigt. 
Spaltenbezeichnungen und Layouteinstellungen können in Vorlagen 
angepasst werden
</p>
<ul><li> Auswahl der abfragbaren Layer in Legende
</li><li> Anklicken eines entsprechenden Objekts <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Query.png" class="image" title="Bild:Query.png"><img src="Dokumentation-Dateien/Query.png" alt="Bild:Query.png" longdesc="/index.php/Bild:Query.png" height="26" width="25"></a>
</li><li> Aufziehen einer Box um betreffende Objekte <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Query.png" class="image" title="Bild:Query.png"><img src="Dokumentation-Dateien/Query.png" alt="Bild:Query.png" longdesc="/index.php/Bild:Query.png" height="26" width="25"></a>
</li><li> Abfrage eines Objektes und aller angrenzenden Objekte <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Touchquery.png" class="image" title="Bild:Touchquery.png"><img src="Dokumentation-Dateien/Touchquery.png" alt="Bild:Touchquery.png" longdesc="/index.php/Bild:Touchquery.png" height="25" width="25"></a>
</li><li> Klick in die Karte und Angabe eines Abfrageradius' <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Query-radius.png" class="image" title="Bild:query-radius.png"><img src="Dokumentation-Dateien/Query-radius.png" alt="Bild:query-radius.png" longdesc="/index.php/Bild:Query-radius.png" height="25" width="25"></a>
</li><li> Zeichnen eines Abfragepolygons <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Polyquery.jpg" class="image" title="Bild:polyquery.jpg"><img src="Dokumentation-Dateien/Polyquery.jpg" alt="Bild:polyquery.jpg" longdesc="/index.php/Bild:Polyquery.jpg" height="25" width="25"></a>
</li><li> Koordinatenabfrage <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Jumpto.png" class="image" title="Bild:Jumpto.png"><img src="Dokumentation-Dateien/Jumpto.png" alt="Bild:Jumpto.png" longdesc="/index.php/Bild:Jumpto.png" height="25" width="26"></a>
</li><li> Abfrage der ALB-Daten beim Flurstückslayer, Ausgabe in PDF im amtlichen Format 20, 25, 30, 35 und 40
</li></ul>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=8" title="Dokumentation">bearbeiten</a>]</div><a name="Suche"></a><h3>Suche</h3>
<p>Alle Suchfunktionen funktionieren natürlich nur, wenn die 
entsprechenden Daten in kvwmap eingebunden sind und auch in der Stelle 
in der die Suche stattfinden soll verfügbar sind. 
</p>
<ul><li> Flurstücke (Gemeinde-Gemarkung/Flur/Flurstück)
</li><li> Adressen (Gemeinde/Strasse/Hausnummer)
</li><li> Grundbuchblätter (Grundbuchbezirksschlüssel/Grundbuchbezirk-Auswahl/Grundbuchblatt)
</li><li> Namen (Name, Vorname Geburtsname/Firma/geboren 
am/Firmenzusatz/Strasse Hausnummer/PLZ 
Ort/Grundbuchbezirk/Grundbuchblatt/Gemarkung, Gemeinde - Auswahl)
</li><li> Festpunkte (Kilometerquadrat/Punktkennzeichen)
</li></ul>
<dl><dd>Zur nicht exakten Suche im Punktkennzeichen geben Sie den 
Platzhalter % ein. z.B. erhalten Sie alle AP´s aus Kilometerquadrat 
45601234 mit der Eingabe 45601234-1-%
</dd></dl>
<ul><li> Jagdbezirke (laufende Nummer/Name/Art)
</li><li> Metadaten (Was/Wer/Wann/Wo - Suchfenster in Karte oder mit Koordinaten)
</li></ul>
<dl><dd><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Metadatensuche.png" class="image" title=""><img src="Dokumentation-Dateien/700px-Metadatensuche.png" alt="" longdesc="/index.php/Bild:Metadatensuche.png" height="513" width="700"></a>
</dd></dl>
<ul><li> Layer (Layername/zum Layer gehörende Attribute)
</li></ul>
<dl><dd> Mit der Layersuche lassen sich sowohl PostGIS-Layer als auch 
WFS-Layer durchsuchen. Die Suchfunktion ist generisch. Das heißt, das 
Suchfenster wird für die jeweiligen zu durchsuchenden Layer automatisch 
an Hand der vordefinierten Attribute bereitgestellt. Bei WFS-Layern 
stehen alle Sachattribute, die der WFS anbietet für die Suche zur 
Verfügung. Bei PostGIS-Layern können die Attribute durchsucht werden, 
für die der Nutzer mindestens Leserecht hat.
</dd><dd><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Layersuche.png" class="image" title="bild:Layersuche.png"><img src="Dokumentation-Dateien/Layersuche.png" alt="bild:Layersuche.png" longdesc="/index.php/Bild:Layersuche.png" height="386" width="282"></a>
</dd></dl>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=9" title="Dokumentation">bearbeiten</a>]</div><a name="Messen"></a><h3>Messen</h3>
<dl><dd><ul><li> Koordinaten bestimmen
<dl><dd> <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Koordinaten.png" class="image" title="Bild:Koordinaten.png"><img src="Dokumentation-Dateien/Koordinaten.png" alt="Bild:Koordinaten.png" longdesc="/index.php/Bild:Koordinaten.png" height="22" width="260"></a> 
</dd></dl>
</li><li> Streckenmessungen 
<dl><dd> <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Mesure.png" class="image" title="Bild:Mesure.png"><img src="Dokumentation-Dateien/Mesure.png" alt="Bild:Mesure.png" longdesc="/index.php/Bild:Mesure.png" height="26" width="25"></a> <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Tooltip_strecke.png" class="image" title="Bild:Tooltip_strecke.png "><img src="Dokumentation-Dateien/Tooltip_strecke.png" alt="Bild:Tooltip_strecke.png " longdesc="/index.php/Bild:Tooltip_strecke.png" height="17" width="114"></a>
</dd></dl>
</li><li> Flächenmessungen
<dl><dd> <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Polyquery.jpg" class="image" title="Bild:polyquery.jpg"><img src="Dokumentation-Dateien/Polyquery.jpg" alt="Bild:polyquery.jpg" longdesc="/index.php/Bild:Polyquery.jpg" height="25" width="25"></a> <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Flaecheninhalt.gif" class="image" title="Bild:Flaecheninhalt.gif"><img src="Dokumentation-Dateien/Flaecheninhalt.gif" alt="Bild:Flaecheninhalt.gif" longdesc="/index.php/Bild:Flaecheninhalt.gif" height="22" width="132"></a>
</dd></dl>
</li></ul>
</dd></dl>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=10" title="Dokumentation">bearbeiten</a>]</div><a name="Redlining"></a><h3>Redlining</h3>
<dl><dd><ul><li> Freihandpolygon zeichnen  <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Freepolygon.png" class="image" title="Bild:Freepolygon.png"><img src="Dokumentation-Dateien/Freepolygon.png" alt="Bild:Freepolygon.png" longdesc="/index.php/Bild:Freepolygon.png" height="25" width="25"></a>
</li><li> Text hinzufügen  <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Freetext.png" class="image" title="Bild:Freetext.png"><img src="Dokumentation-Dateien/Freetext.png" alt="Bild:Freetext.png" longdesc="/index.php/Bild:Freetext.png" height="25" width="25"></a>
</li><li> Pfeil hinzufügen <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Freearrow.png" class="image" title="Bild:Freearrow.png"><img src="Dokumentation-Dateien/Freearrow.png" alt="Bild:Freearrow.png" longdesc="/index.php/Bild:Freearrow.png" height="25" width="25"></a>
</li></ul>
</dd></dl>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=11" title="Dokumentation">bearbeiten</a>]</div><a name="Geometrie-Editor"></a><h3>Geometrie-Editor</h3>
<p>Im GLE und in vielen Fachschalen ist es möglich, die Geometrie von 
Layern zu bearbeiten bzw. neue Geometrien zu erfassen. Dazu dient der 
Geometrie-Editor. Je nach Geometrietyp des jeweiligen Layers bietet der 
Editor verschiedene Werkzeuge und Funktionen zum Bearbeiten an. <br>
<br>
Um die Geometrie eines Polygon-Layers zu bearbeiten, gibt es 7 verschiedene Werkzeuge:
<br>
<br><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Polyadd.jpg" class="image" title=""><img src="Dokumentation-Dateien/30px-Polyadd.jpg" alt="" longdesc="/index.php/Bild:Polyadd.jpg" height="30" width="30"></a> Polygon hinzufügen
<br><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Polyremove.jpg" class="image" title=""><img src="Dokumentation-Dateien/30px-Polyremove.jpg" alt="" longdesc="/index.php/Bild:Polyremove.jpg" height="30" width="30"></a> Polygon entfernen
<br><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Flurstadd.jpg" class="image" title=""><img src="Dokumentation-Dateien/30px-Flurstadd.jpg" alt="" longdesc="/index.php/Bild:Flurstadd.jpg" height="30" width="30"></a> Geometrie eines Layers selektieren und hinzufügen
<br><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Flurstremove.jpg" class="image" title=""><img src="Dokumentation-Dateien/30px-Flurstremove.jpg" alt="" longdesc="/index.php/Bild:Flurstremove.jpg" height="30" width="30"></a> Geometrie eines Layers selektieren und entfernen
<br><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Buffer.gif" class="image" title=""><img src="Dokumentation-Dateien/30px-Buffer.gif" alt="" longdesc="/index.php/Bild:Buffer.gif" height="30" width="30"></a> die aktuelle Geometrie um eine definierte Breite vergrößern
<br><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Vertexedit.jpg" class="image" title=""><img src="Dokumentation-Dateien/30px-Vertexedit.jpg" alt="" longdesc="/index.php/Bild:Vertexedit.jpg" height="30" width="30"></a> Eckpunkte bearbeiten
<br><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Coord_input.gif" class="image" title=""><img src="Dokumentation-Dateien/30px-Coord_input.gif" alt="" longdesc="/index.php/Bild:Coord_input.gif" height="30" width="30"></a> Koordinate eingeben
<br>
<br>
Um die Geometrie eines Linien-Layers zu bearbeiten, gibt es 4 verschiedene Werkzeuge:
<br>
<br><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Lineedit.gif" class="image" title=""><img src="Dokumentation-Dateien/30px-Lineedit.gif" alt="" longdesc="/index.php/Bild:Lineedit.gif" height="30" width="30"></a> Linien hinzufügen
<br><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Lineedit2.jpg" class="image" title=""><img src="Dokumentation-Dateien/30px-Lineedit2.jpg" alt="" longdesc="/index.php/Bild:Lineedit2.jpg" height="30" width="30"></a> Linien durch Zeichnen eines Polygons entfernen
<br><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Vertexedit.jpg" class="image" title=""><img src="Dokumentation-Dateien/30px-Vertexedit.jpg" alt="" longdesc="/index.php/Bild:Vertexedit.jpg" height="30" width="30"></a> Eckpunkte bearbeiten
<br><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Coord_input.gif" class="image" title=""><img src="Dokumentation-Dateien/30px-Coord_input.gif" alt="" longdesc="/index.php/Bild:Coord_input.gif" height="30" width="30"></a> Koordinate eingeben
<br>
<br>
Um die Geometrie eines Punkt-Layers zu bearbeiten, gibt es 2 Werkzeuge:
<br>
<br><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Pointedit.jpg" class="image" title=""><img src="Dokumentation-Dateien/30px-Pointedit.jpg" alt="" longdesc="/index.php/Bild:Pointedit.jpg" height="30" width="30"></a> Punkt setzen
<br><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Coord_input.gif" class="image" title=""><img src="Dokumentation-Dateien/30px-Coord_input.gif" alt="" longdesc="/index.php/Bild:Coord_input.gif" height="30" width="30"></a> Koordinate eingeben
<br><br>
Die Darstellung der Polygone erfolgt mit SVG und die geometrischen Operationen werden mit AJAX und Postgis realisiert.
</p><p><br><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:GeoEdit.jpg" class="image" title=""><img src="Dokumentation-Dateien/600px-GeoEdit.jpg" alt="" longdesc="/index.php/Bild:GeoEdit.jpg" height="377" width="600"></a><br>
Der Geometrie-Editor bei der Bearbeitung eines Polygonlayer-Datensatzes.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=12" title="Dokumentation">bearbeiten</a>]</div><a name="Generischer_Layereditor"></a><h3>Generischer Layereditor</h3>
<p>Mit dem generischen Layereditor ist es möglich, die Datensätze von 
Postgis-Layern zu bearbeiten und neue Datensätze zu erzeugen. Dabei 
können sowohl die Sachdaten, als auch die Geometrien verändert werden. 
Damit ein Postgis-Layer mit dem generischen Layereditor bearbeitet 
werden kann, müssen folgende Voraussetzungen geschaffen sein:
</p>
<ul><li> Alle Tabellen, auf die der Layer zugreift, müssen oids besitzen
</li><li> Dem Layer darf in der jeweiligen Stelle kein Template zugeordnet sein
</li><li> Um Sach- oder Geometriedaten zu verändern, muß das entsprechende Recht in der Layerattribut-Rechteverwaltung gesetzt sein
</li></ul>
<p>Über den Template-Eintrag lässt sich also steuern, ob für einen Layer
 der generische Layereditor oder ein Snippet zur Sachdatenanzeige 
verwendet werden soll.
</p><p>Es werden sowohl <b>Punkt</b>-, <b>Linien</b>-, als auch <b>Polygon</b>-Layer
 unterstützt. Bei den Polygon- und Linienlayern ist darauf zu achten, 
daß das enforce_geotype constraint die Geometrietypen 'POLYGON' und 
'MULTIPOLYGON' bzw. 'LINESTRING' und 'MULTILINESTRING' unterstützt. 
Damit lassen sich sowohl einfache Polygone und Linenzüge, als auch 
Multipolygone und Multilinienzüge zeichnen und abspeichern.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=13" title="Dokumentation">bearbeiten</a>]</div><a name="Die_Rechteverwaltung_des_generischen_Layereditors"></a><h4>Die Rechteverwaltung des generischen Layereditors</h4>
<p>Wie schon erwähnt, ist es mit dem generischen Layereditor möglich, 
die Daten von Postgis-Layern zu verändern. Damit nicht jeder beliebige 
Nutzer Daten ändert, gibt es ein Rechtesystem, welches jeder Stelle 
Privilegien zuordnet, die den Zugriff auf die Layerattribute regeln. Die
 Rechteverwaltung wird über die go-Variable <b>Layerattribut-Rechteverwaltung</b>
 aufgerufen. Hier wählt man zunächst die gewünschte Stelle aus und 
danach einen Layer. Jetzt werden alle Attribute des Layers untereinander
 aufgelistet. Diese Liste von Attributen ergibt sich aus dem 
Pfad-Statement des Layers. Jedem Attribut ist ein Privileg zugeordnet. 
Zur Auswahl stehen 'nicht sichtbar', 'lesen' und 'editieren'. 
Standardmäßig sind alle Attribute eines Layers nur lesbar. Soll nun ein 
Attribut des Layers für eine Stelle nicht im generischen Layereditor 
angezeigt werden, so setzt man das entsprechende Privileg auf 'nicht 
sichtbar'. Soll ein Attribut bearbeitet werden können, setzt man das 
Privileg auf 'editieren'.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=14" title="Dokumentation">bearbeiten</a>]</div><a name="Bearbeitung_von_Sachdaten"></a><h4>Bearbeitung von Sachdaten</h4>
<p>Um die Sachdaten eines Layers zu bearbeiten, wählt man diesen Layer 
als abfragbar aus und macht eine Sachdatenabfrage auf das gewünschte 
Gebiet. Da dem Layer in dieser Stelle kein Template zur Sachdatenanzeige
 zugeordnet ist (s. Voraussetzungen), wird der generische Layereditor 
aufgerufen, d.h. an Hand der im Pfad-Statement des Layers vorkommenden 
Attribute und der entsprechenden Rechte wird ein Layereditor-Formular 
generisch erzeugt. Man erhält damit eine Tabelle mit den gefundenen 
Datensätzen als Zeilen und den zugehörigen Layerattributen als Spalten. 
In den Attributen, für die das Recht 'editieren' gesetzt ist, kann man 
nun die gewünschten Änderungen an den Datensätzen vornehmen. Mit dem 
Klick auf 'speichern' werden die geänderten Datensätzen in die 
entsprechenden Tabellen geschrieben.
</p><p>Die Formularfelder des Layereditors können verschiedene Typen 
haben. Um einem Attribut manuell einen Formlartyp zuzuweisen, gibt es 
den Attributeditor. Dieser läßt sich im Layereditor (nicht der 
generische, sondern der andere) über den Button 'erweiterte 
Einstellungen' oder über 'go=Attributeditor' aufrufen. Der 
Attributeditor zeigt alle Attribute des Layers an. Folgende 
Formularelementtypen stehen zur Auswahl:
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=15" title="Dokumentation">bearbeiten</a>]</div><a name="Text"></a><h5>Text</h5>
<dl><dd>Im generischen Layereditor erscheint ein einzeiliges Eingabefeld.
</dd></dl>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=16" title="Dokumentation">bearbeiten</a>]</div><a name="Textfeld"></a><h5>Textfeld</h5>
<dl><dd>Im generischen Layereditor erscheint ein mehrzeiliges Eingabefeld.
</dd></dl>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=17" title="Dokumentation">bearbeiten</a>]</div><a name="Auswahlfeld"></a><h5>Auswahlfeld</h5>
<dl><dd>Im generischen Layereditor erscheint ein Auswahlfeld. Die 
Auswahlmöglichkeiten lassen im Feld Optionen festlegen. Dabei wird 
dieselbe Syntax verwendet, wie bei Definition einer enum-spalte in MySQL
 (die Werte dürfen kein Komma enthalten). Also
</dd></dl>
<pre>'Wert1','Wert2','Wert3'
</pre>
<dl><dd>Alternativ kann man die möglichen Werte auch aus einer Tabelle 
auslesen lassen. Dafür muß man im Optionen-Feld das SQL-Statement 
angeben. Das Statement hat dabei folgende Form:
</dd></dl>
<pre>select &lt;Ausgabespalte&gt; as output, &lt;Schlüsselspalte&gt; as value from &lt;Tabellenname&gt;
</pre>
<dl><dd>Beispiel: Man hat eine Tabelle "projekte", mit den Spalten 
"projektnr" und "projektname". Im Auswahlfeld sollen nun die 
Projektnamen aufgelistet werden. Wählt man einen der Projektnamen aus, 
soll nach Absenden des Formulars die zugehörige Projektnummer übergeben 
werden. Dazu muß das SQL-Statement folgendermaßen aussehen:
</dd></dl>
<pre>select projektname as output, projektnr as value from projekte
</pre>
<dl><dd>Um doppelte Nennungen zu vermeiden, verwendet man noch ein "distinct":
</dd></dl>
<pre> select distinct &lt;Ausgabespalte&gt; as output, &lt;Schlüsselspalte&gt; as value from &lt;Tabellenname&gt;
</pre>
<dl><dd>Eine alphabetische Sortierung der Werte (hier Projektnamen) erhält man durch ein angehängtes ORDER BY output
</dd></dl>
<pre> select &lt;Ausgabespalte&gt; as output, &lt;Schlüsselspalte&gt; as value from &lt;Tabellenname&gt; ORDER BY output
</pre>
<dl><dd>Man muss auch nicht unbedingt eine Tabelle anlegen. Sollen z.B. 
als Werte 0 oder 1 gespeichert werden und im Auswahlfeld "nein" oder 
"ja" angezeigt werden kann man folgendes SQL-Statement verwenden:
</dd></dl>
<pre>select 0 as value, 'nein' as output UNION select 1 as value, 'ja' as output
</pre>
<dl><dd>(Achtung: Hier wird nach <i>value</i> sortiert!)
</dd></dl>
<dl><dd><b>Verknüpfungen von Layern</b>
</dd></dl>
<dl><dd>Wenn es einen Layer gibt, der den Daten im Auswahlfeld 
entspricht, hat man die Möglichkeit, beide Layer zu verknüpfen. Dazu 
werden im Optionenfeld nach dem SQL weitere Optionen angehängt. Diese 
werden mit einem ";" eingeleitet. Durch die Angabe von "layer_id=???" 
wird der zweite Layer definiert. Im Beispiel könnte das z.B. so 
aussehen:
</dd></dl>
<pre>select projektname as output, projektnr as value from projekte;layer_id=12
</pre>
<dl><dd>Im GLE erscheint dadurch, wenn das entsprechende Recht gesetzt 
ist, hinter dem Auswahlfeld ein Link "neu". Dieser öffnet ein neues 
Fenster und führt direkt zur Erfassung eines neuen Datensatzes des 
zweiten Layers (im Beispiel ein neues Projekt). Weiterhin hat man die 
Möglichkeit, die Erfassung des neuen Datensatzes auch ohne ein neues 
Fenster zu öffnen direkt im Hauptformular durchzuführen. Dazu fügt man 
im Optionenfeld die Option "embedded" hinzu (durch ein Leerzeichen 
getrennt). Im Beispiel also so:
</dd></dl>
<pre>select projektname as output, projektnr as value from projekte;layer_id=12 embedded
</pre>
<dl><dd>Dadurch erscheint mit dem Klick auf "neu" das Formular zur 
Erfassung des neuen Datensatzes direkt unter dem Auswahlfeld. Man kann 
nun den neuen Datensatz erzeugen und nach dem Klick auf Speichern 
schließt sich das eingebettete Formular und der neue Datensatz wird den 
Auswahlmöglichkeiten des Auswahlfeldes hinzugefügt und selektiert. Diese
 Variante der Layerverknüpfung entspricht einer <b>n:1</b> Beziehung und ist eine Alternative zu "SubformFK".
</dd></dl>
<dl><dd><b>Attributabhängige Auswahllisten</b>
</dd></dl>
<dl><dd>Es ist außerdem möglich attributabhängige Auswahllisten zu definieren. Hier ein Beispiel: Es gibt ein Attribut <b>flur</b>, welches von einem Attribut <b>gemkg</b> abhängig sein soll. Das Feld Optionen des Attributs flur muss z.B. folgendermaßen aussehen:
</dd></dl>
<pre>select flur as value, flur as output from alknflur as f WHERE f.gemkgschl = <b>&lt;requires&gt;gemkg&lt;/requires&gt;</b>
</pre>
<dl><dd>Dieses Attribut liefert eine Liste aller Fluren einer bestimmten Gemarkung. 
</dd><dd>Das Attribut gemkg, welches die Gemarkungen auflistet, hat z.B. folgendes Optionen-Feld:
</dd></dl>
<pre>select gemkgschl as value, gemkgname as output from alb_v_gemarkungen <b>&lt;required by&gt;flur&lt;/required by&gt;</b>
</pre>
<dl><dd>(Sortierungen mit "ORDER BY" am Ende sind möglich.)
</dd></dl>
<dl><dd>Dabei ist darauf zu achten, dass das abhängige Attribut immer 
nach dem anderen im Pfad-Statement aufgezählt wird (hier: flur nach 
gemkg). Also in der logischen Reihenfolge, in der man auch beide 
Auswahlfelder im GLE nacheinander auswählen würde. Die Anzahl der 
abhängigen Attribute ist jedoch nicht auf ein Attribut beschränkt, so 
dass sich auch mehrere abhängige Attribute, durch Komma getrennt, 
definieren lassen.
</dd><dd>Beispiel:
</dd></dl>
<pre> select gemkgschl as value, gemkgname as output from alb_v_gemarkungen <b>&lt;required by&gt;flur,gemeinde&lt;/required by&gt;</b>
</pre>
<p>Das abhängige Attribut muss nicht unbedingt ein Auswahlfeld sein. Es kann auch vom Typ <b>Text</b> sein. Dann wird es nur mit dem ersten Datensatz, die die SQL-Abfrage zurückliefert befüllt.
</p>
<dl><dd>--<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Benutzer:Markus_Hentschel" title="Benutzer:Markus Hentschel">Markus Hentschel</a>
 13:24, 5. Mär 2009 (CET) Das "flur" in "...&lt;required 
by&gt;flur&lt;/required by&gt;" ist der Name des Attributs, nicht das 
"flur" aus "select flur as value..." weiter oben.
</dd></dl>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=18" title="Dokumentation">bearbeiten</a>]</div><a name="SubformPK"></a><h5>SubformPK</h5>
<dl><dd>Mit diesem Formularelementtyp lassen sich 2 Layer miteinander verknüpfen. Das PK steht für <b>Primärschlüssel</b>
 und damit für die Art der Verknüpfung. D.h. hier werden die 
Primärschlüssel des ersten Layers verwendet, um beide Layer zu 
verbinden. Ein Beispiel: Man hat einen Layer 'Verpachtungen' und einen 
zweiten Layer 'verpachtete Flurstücke'. Eine Verpachtung kann mehrere 
Flurstücke umfassen. Das ist auch der Grund, weshalb man hier mit 2 
Layern arbeitet und beide miteinander verknüpft anstatt mehrere 
Attribute 'verpachtetes Flurstück_x' im Layer 'Verpachtungen' anzulegen.
 Beide Layer bilden eine <b>1:n Beziehung</b>, d.h. eine Verpachtung 
kann mehrere Flurstücke haben, ein verpachtetes Flurstück ist aber immer
 genau einer Verpachtung zugeordnet. Und das ist auch der Grund, warum 
man den Primärschlüssel des Layers 'Verpachtungen' als 
Verknüpfungsattribut verwendet. Der Primärschlüssel der Verpachtungen 
sei hier 'lfdnr'. Im Layer 'verpachtete Flurstücke' gibt es auch ein 
Attribut 'lfdnr', darüber sind beide Layer verknüpft. Weiß man die lfdnr
 einer Verpachtung, kann man auch alle zugehörigen Flurstücke abfragen.<br>
</dd><dd>Um 2 Layer auf diese Weise zu verknüpfen, müssen folgende Voraussetzungen erfüllt sein:
<ul><li> Der erste Layer muss ein Primärschlüsselattribut besitzen (z.B. lfdnr).
</li><li> Der zweite Layer muss ein Attribut besitzen, welches genau so heißt wie der Primärschlüssel des ersten Layers (z.B. lfdnr).
</li><li> Außerdem muss es ein Attribut geben, welches einen Bezug zum 
zweiten Layer herstellt. Dieses Attribut dient als eine Art Vorschau auf
 die entsprechenden Datensätze des zweiten Layers. Im o.g. Beispiel wäre
 das z.B. ein Attribut 'Flurstücke'. Im Pfad-Statement kann für dieses 
Attribut eine Aggregationsfunktion verwendet werden, um die verknüpften 
Datensätze zusammenzufassen. Also beispielsweise die Ausgabe der Anzahl 
der Flurstücke oder die Hintereinanderreihung der Flurstückskennzeichen.
</li><li> Für den ersten Layer muss im Attributeditor beim 
Vorschau-Attribut als Typ 'SubformPK' ausgewählt werden. Im Feld 
Optionen wird die Layer-ID des zweiten Layers eingetragen und, durch 
Komma getrennt, das Primärschlüsselattribut (z.B. 152,lfdnr).
</li></ul>
</dd><dd> Wenn beide Layer über mehrere Attribute verknüpft sind, muss 
man die entsprechenden Attribute, mit Kommas getrennt, hinter das 
Primärschlüsselattribut schreiben (z.B. 
152,lfdnr,gemkgschl,flur,flurstkennz).
</dd></dl>
<dl><dd><b>Weitere Optionen</b> (werden mit einem ";" abgetrennt):
<ul><li> no_new_window  -  bewirkt, dass der Link zum verknüpften Layer kein neues Fenster öffnet
</li></ul>
</dd></dl>
<dl><dd> Bei einer 1:n Beziehung möchte man meistens, wenn man im ersten
 Layer einen Datensatz löscht, dass dann auch die nachgeordneten 
Datensätze des zweiten Layers (automatisch) gelöscht werden. Das geht am
 elegantesten, wenn man auf Datenbankebene einen CONSTRAINT in Form 
eines FOREIGN KEY in der Tabelle des <b>zweiten</b> Layers eingefügt:
</dd></dl>
<pre>ALTER TABLE &lt;Name der Tabelle des zweiten Layers&gt;
ADD CONSTRAINT "&lt;irgendein Constraint-Name&gt;" Foreign KEY (&lt;Tabellen-Attributname des zweiten Layers, das der Verknüpfung dient&gt;)
     REFERENCES &lt;Name der Tabelle des ersten Layers&gt; (&lt;Name des Primärschlüsselattributs&gt;) MATCH SIMPLE
     ON UPDATE NO ACTION ON DELETE CASCADE
</pre>
<p>Beispiel:
</p>
<pre> ALTER TABLE flurstuecke_verpachtet
 ADD CONSTRAINT "fkfstverpachtet" Foreign KEY (lfdnr)
     REFERENCES verpachtungen (lfdnr) MATCH SIMPLE
     ON UPDATE NO ACTION ON DELETE CASCADE
</pre>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=19" title="Dokumentation">bearbeiten</a>]</div><a name="SubformFK"></a><h5>SubformFK</h5>
<dl><dd>Auch mit diesem Formularelementtyp lassen sich 2 Layer miteinander verknüpfen. Das FK steht für <b>Fremdschlüssel</b>
 und damit für die Art der Verknüpfung. D.h. hier wird ein 
Fremdschlüssel im ersten Layer verwendet, um beide Layer zu verbinden. 
Der Fremdschlüssel ist der Primärschlüssel des zweiten Layers. Auch hier
 ein Beispiel: Der erste Layer sei wieder 'Verpachtungen'. Der zweite 
ist diesmal ein Layer 'Personen' und verknüpft ist jeweils die Person, 
die die Pacht bezahlt (Zahler). In diesem Fall gibt es eine <b>n:1 Beziehung</b>,
 da eine Verpachtung nur einen Zahler haben kann aber ein Zahler mehrere
 Verpachtungen. Hier kann also nicht der Primärschlüssel der Verpachtung
 als Verknüpfungsattribut verwendet werden, da ein Zahler nicht 
eindeutig einer Verpachtung zugeordnet ist. Stattdessen wird der 
Primärschlüssel des Layers Personen 'pknr' verwendet. Im Layer 
'Verpachtungen' gibt es auch ein entsprechendes Attribut 'pknr' und 
darüber sind beide Layer verknüpft. Weiß man die pknr einer Verpachtung 
kann man den entsprechenden Datensatz im Layer 'Personen' abfragen.
</dd><dd>Um 2 Layer auf diese Weise zu verknüpfen, müssen folgende Voraussetzungen erfüllt sein:
<ul><li> Der zweite Layer muss ein Primärschlüsselattribut besitzen (z.B. pknr).
</li><li> Der erste Layer muss ein entsprechendes Attribut besitzen, welches genauso heißen muss (also auch z.B. pknr).
</li><li> Außerdem muss es ein Attribut geben, welches einen Bezug zum 
zweiten Layer herstellt. Dieses Attribut dient als eine Art Vorschau auf
 den entsprechenden Datensatz des zweiten Layers. Im o.g. Beispiel wäre 
das z.B. ein Attribut 'Zahler'. Im Pfad-Statement können für dieses 
Attribut einige Spalten des zweiten Layers ausgewählt zusammengefasst 
abgefragt werden. Also z.B. der Name und Vorname des Zahlers.
</li><li> Für den ersten Layer muss im Attributeditor beim 
Vorschau-Attribut als Typ 'SubformFK' ausgewählt werden. Im Feld 
Optionen wird die Layer-ID des zweiten Layers eingetragen, durch Komma 
getrennt, das Verknüpfungsattribut des ersten Layers (z.B. 137,pknr).
</li></ul>
</dd></dl>
<dl><dd> Wenn beide Layer über mehrere Attribute verknüpft sind, muss 
man die entsprechenden Attribute, mit Kommas getrennt, hinter das 
Primärschlüsselattribut schreiben (z.B. 481,bezirk,blatt,bvnr)
</dd></dl>
<dl><dd><b>Weitere Optionen</b> (werden mit einem ";" abgetrennt):
<ul><li> no_new_window  -  bewirkt, dass der Link zum verknüpften Layer kein neues Fenster öffnet
</li></ul>
</dd></dl>
<dl><dd>An dieser Stelle sei darauf hingewiesen, dass in kvwmap ein 
Layer nicht notwendigerweise eine Geometrie haben muss. Wie im oben 
genannten Beispiel kann es z.B. einen Layer 'Personen' geben, dessen 
Datensätze dann nur über die Layer-Suche oder über Verknüpfungen mit 
anderen Layern erreichbar sind. Für einen solchen Layer setzt man 
minscale und maxscale einfach auf -1, damit erscheinen diese dann auch 
nicht in der Legende. Das folgende Bild zeigt, wie der GLE für die 3 
verschiedenen Beispiel-Layer aussieht. Hinter den beiden 
Vorschauattributen 'Flurstücke' und 'Zahler' gibt es 2 Links 
'bearbeiten' und 'neu', über die man die entsprechenden Datensätze der 
beiden verknüpften Layer aufrufen, bzw. neue erzeugen kann. 
</dd></dl>
<p><br>
</p>
<dl><dd><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Subformpk.jpg" class="image" title=""><img src="Dokumentation-Dateien/700px-Subformpk.jpg" alt="" longdesc="/index.php/Bild:Subformpk.jpg" height="293" width="700"></a>
</dd></dl>
<p><br>
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=20" title="Dokumentation">bearbeiten</a>]</div><a name="SubformEmbeddedPK"></a><h5>SubformEmbeddedPK</h5>
<dl><dd> Dieser Formularelementtyp kann anstelle des SubfromPK-Typs 
verwendet werden, wenn die Datensätze des verknüpften Layers nicht in 
einer extra Sachdatenanzeige dargestellt werden sollen, sondern in 
Listenform eingebettet innerhalb des Hauptformulars. Es wird eine Liste 
der verknüpften Datensätze angezeigt, wobei hier ein Attribut des 
zweiten Layers als Vorschau verwendet wird. Dieses Attribut ist 
gleichzeitig ein Link, der zur normalen Sachdatenanzeige des Datensatzes
 führt.
</dd><dd> Die Einstellungen im Attribut-Editor sind die gleichen, wie 
bei SubformPK, nur das hier noch der Name des Vorschau-Attributes im 
Optionen-Feld angehangen wird (also z.B.: 152,lfdnr,vorschau_name).
</dd></dl>
<dl><dd>Weitere Optionen (werden mit einem ";" abgetrennt):
<ul><li> no_new_window  -  bewirkt, dass der Link zum verknüpften Layer kein neues Fenster öffnet
</li><li> embedded  -  bewirkt, dass die Formulare des verknüpften Layers direkt im Hauptformular erscheinen:
</li></ul>
</dd></dl>
<dl><dd> <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Subformembeddedpk.gif" class="image" title="Die Datensätze des verknüpften Layers werden in Listenform angezeigt"><img src="Dokumentation-Dateien/450px-Subformembeddedpk.gif" alt="Die Datensätze des verknüpften Layers werden in Listenform angezeigt" longdesc="/index.php/Bild:Subformembeddedpk.gif" height="339" width="450"></a><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Embeddedsubform.gif" class="image" title="mit der Zusatzoption &quot;embedded&quot; wird das Formular des verknüpften Layers in das Hauptformular integriert"><img src="Dokumentation-Dateien/450px-Embeddedsubform.gif" alt="mit der Zusatzoption &quot;embedded&quot; wird das Formular des verknüpften Layers in das Hauptformular integriert" longdesc="/index.php/Bild:Embeddedsubform.gif" height="512" width="450"></a>
</dd></dl>
<p><br>
</p>
<dl><dd> Ist das Vorschau-Attribut im verknüpften Layer vom Typ 
"Dokument", so werden die Vorschau-Bilder der jeweiligen Dokumente 
untereinander in Listenform angezeigt:
</dd></dl>
<dl><dd> <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Dokumente.jpg" class="image" title="rand"><img src="Dokumentation-Dateien/Dokumente.jpg" alt="rand" longdesc="/index.php/Bild:Dokumente.jpg" height="357" width="478"></a>
</dd></dl>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=21" title="Dokumentation">bearbeiten</a>]</div><a name="Time"></a><h5>Time</h5>
<dl><dd>Hier kann nichts eingegeben werden, stattdessen wird die aktuelle Zeit in dem Attribut gespeichert.
</dd></dl>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=22" title="Dokumentation">bearbeiten</a>]</div><a name="Dokument"></a><h5>Dokument</h5>
<dl><dd>Hier kann eine beliebige Datei hochgeladen werden. Die Dateien 
werden im Ordner 'CUSTOM_IMAGE_PATH' abgelegt. Je nach Dateityp 
erscheint in der Sachdatenanzeige ein passendes Vorschaubild mit einem 
Link auf das Original.
</dd></dl>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=23" title="Dokumentation">bearbeiten</a>]</div><a name="Link"></a><h5>Link</h5>
<dl><dd>Hier kann eine URL angegeben werden. Sie erscheint als Link über
 dem Eingabefeld. Bei nur Leserecht erscheint nur der Link. Im 
Optionenfeld kann ein Linktext eingegeben werden, wird nichts 
eingegeben, wird der letzte Teil der Linkadresse als Linktext angezeigt.
</dd></dl>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=24" title="Dokumentation">bearbeiten</a>]</div><a name="dynamischer_Link"></a><h5>dynamischer Link</h5>
<dl><dd>Der dynamische Link ermöglicht es, eine URL aufzurufen, die von 
bestimmten Attributen des Layers abhängig ist. D.h. die URL besteht zum 
einen aus festen Teilen, die immer gleich sind und aus variablen Teilen,
 welche sich aus den Attributwerten des jeweiligen Datensatzes ergeben. 
Der dynamische Link wird im Unterschied zum normalen Link-Typ nicht in 
einer PostGIS-Datenbanktabelle gespeichert, d.h. hier wird keine 
Tabellenspalte benötigt, stattdessen wird ein Pseudo-Attribut in das 
Pfad-Statement aufgenommen. Die dynamische URL zu diesem Attribut wird 
im Attributeditor im Optionenfeld definiert. Die variablen Teile der 
URL, die dann später durch die Attributwerte ersetzt werden, werden in 
der Form <i>$&lt;attributname&gt;</i> in die URL aufgenommen. 
</dd></dl>
<dl><dd>Ein Beispiel: Man hat einen Layer Schulen. Dieser besitzt u.a. zwei Attribute <b>lat</b> und <b>long</b>,
 für die geografische Breite und Höhe. Es gibt außerdem eine externe 
Webanwendung, die eine Bushaltestellensuche über einen URL-Aufruf 
anbietet. Man kann nun der Sachdatenanzeige des Layers Schulen einen 
dynamischen Link hinzufügen, welcher alle Bushaltestellen in der 
Umgebung der Schule sucht. Dazu erweitert man das Pfad-Statement des 
Layers Schulen um ein Pseudo-Attribut <b>bushaltestellen</b>. Also z.b. so
</dd></dl>
<pre>SELECT *, '' as bushaltestellen FROM schulen WHERE 1=1
</pre>
<dl><dd>Im Attributeditor kann man nun für das Attribut bushaltestellen 
den Formularelementtyp "dynamischer Link" auswählen. Im Optionenfeld 
trägt man nun folgendes ein:
</dd></dl>
<pre>http://www.bushaltestellensuche.de?latitude=<b>$lat</b>&amp;longitude=<b>$long</b>&amp;umkreis=10
</pre>
<dl><dd>Dadurch erhält man in der Sachdatenanzeige für jede Schule einen Link, der die Bushaltestellen in der Umgebung sucht.
</dd></dl>
<dl><dd>Weitere Optionen (werden mit einem ";" abgetrennt):
<ul><li> &lt;Linktext&gt;  -  nach der URL kann ein Linktext angegeben werden, der dann anstatt der kompletten URL angezeigt wird
</li><li> embedded  -  bewirkt, dass der Link nicht auf eine neue Seite 
verweist, sondern den Inhalt der aufgerufenen Seite direkt im 
Hauptformular anzeigt
</li></ul>
</dd></dl>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=25" title="Dokumentation">bearbeiten</a>]</div><a name="User"></a><h5>User</h5>
<dl><dd>Hier kann nichts eingegeben werden, stattdessen wird der aktuelle Nutzer gespeichert.
</dd></dl>
<p><br>
Standardmäßig sind die Formularfelder vom Typ Text, d.h. es sind 
einzeilige Eingabefelder. Gibt es in einer Postgis-Tabelle zu einem 
Attribut ein check-Constraint, das die möglichen Eingabewerte 
einschränkt, wie z.B. 
</p>
<pre>CONSTRAINT art CHECK (art::text = 'gjb'::text OR art::text = 'ejb'::text OR art::text = 'tjb'::text)
</pre>
<p>so ist das Formularfeld dieses Attributes vom Typ Auswahlfeld.
Das heißt, im Layereditor erscheint ein Auswahlfeld mit den durch das Constraint vorgegebenen Werten als Auswahlmöglichkeiten.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=26" title="Dokumentation">bearbeiten</a>]</div><a name="Bearbeitung_von_Geometriedaten"></a><h4>Bearbeitung von Geometriedaten</h4>
<p>Um die Geometrie eines abgefragten Datensatzes zu bearbeiten, klickt 
man im generischen Layereditor auf den Link 'Geometrie bearbeiten'. Nun 
wird der schon bekannte <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Geometrie-Editor" title="Dokumentation">Geometrieeditor</a>
 geladen, wobei die Geometrie des betroffenenen Datensatzes markiert 
ist. Man kann jetzt wie gewohnt die Geometrie bearbeiten, nach Klick auf
 'Speichern' wird die veränderte Geometrie in die Postgis-Tabelle 
eingetragen. Dabei wird nach dem Speichern wieder auf die gesamte 
Ausdehnung der Geometrie gezoomt. Dies kann gerade bei der Erfassung 
größerer Geometrien hinderlich sein, wenn man auf einen bestimmten Teil 
der Geometrie gezoomt hat und zwischendurch speichern möchte. Dafür gibt
 es den Button 'Zwischenspeichern'. Hier wird die Geometrie auch 
gespeichert, nur wird der Kartenausschnitt danach nicht verändert.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=27" title="Dokumentation">bearbeiten</a>]</div><a name="Layer-Suche"></a><h4>Layer-Suche</h4>
<p>Neben der Abfragemöglichkeit über die Karte kann man auch über eine 
Suchmaske nach Postgis-Layern suchen und die Sachdaten im generischen 
Layereditor anzeigen und bearbeiten. Die go-Variable dazu heißt <b>Layer-Suche</b>.
 Hier stehen alle Layer zur Auswahl, die der aktuellen Stelle zugeordnet
 sind und die abfragbar sind. Nach Auswahl eines Layers kann man als 
Suchparameter die Layerattribute verwenden, für die man mindestens 
Leserecht hat. Es stehen folgende Suchoperatoren zur Verfügung: 
</p>
<table border="0">

<tbody><tr>
<th align="left">=
</th><td> gleich
</td></tr>
<tr>
<th align="left">!=
</th><td> ungleich
</td></tr>
<tr>
<th align="left">&lt;
</th><td> kleiner als
</td></tr>
<tr>
<th align="left">&gt;
</th><td> größer als
</td></tr>
<tr>
<th align="left">ähnlich
</th><td> (SQL: LIKE) hier kann man "_" bzw. "%" als Platzhalter verwenden
</td></tr>
<tr>
<th align="left">nicht ähnlich
</th><td> (SQL: NOT LIKE) hier kann man "_" bzw. "%" als Platzhalter verwenden
</td></tr>
<tr>
<th align="left">ist leer
</th><td> (SQL: IS NULL)
</td></tr>
<tr>
<th align="left">ist nicht leer
</th><td> (SQL: IS NOT NULL)
</td></tr>
<tr>
<th align="left">befindet sich in
</th><td> (SQL: IN) hier können mehrere mögliche Werte durch ein "|" getrennt angegeben werden
</td></tr>
<tr>
<th align="left">zwischen
</th><td> (SQL: BETWEEN) hier kann ein Anfangs- und Endwert angeben werden
</td></tr></tbody></table>
<p>Das Ergebnis der Suche erscheint dann im generischen Layer-Editor.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=28" title="Dokumentation">bearbeiten</a>]</div><a name="Import.2FExport-Funktionen"></a><h3>Import/Export-Funktionen</h3>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=29" title="Dokumentation">bearbeiten</a>]</div><a name="Shape-Export"></a><h4>Shape-Export</h4>
<p>Mit dem Shape-Export lassen sich PostGIS-Layer in eine Shape-Datei 
exportieren. Der Shape-Export wird über die go-Variable "SHP_Export" 
aufgerufen. In einer Liste werden nun alle PostGIS-Layer angezeigt, die 
in der aktuellen Stelle abfragbar sind. Wenn man den zu exportierenden 
Layer auswählt, wird das Data-Statement des Layers geladen. Diese 
"SELECT"-Abfrage wird für den Export verwendet. Bei Bedarf kann man 
dieses Statement anpassen um z.B. zusätzliche Attribute abzufragen oder 
bestimmte Attribute wegzulassen.
</p><p>Es ist außerdem möglich, nicht den gesamten Datenbestand des 
Layers zu exportieren, sondern durch räumliche Auswahl den Export auf 
bestimmte Datensätze zu beschränken. Dazu hat man die Möglichkeit ein 
Polygon zu zeichnen und so bestimmte Datensätze zu selektieren. 
Anschliessend wird durch Klick auf "über Polygon einschränken" die 
"SELECT"-Abfrage um die räumliche Einschränkung erweitert.
</p><p>Nach Klick auf "Shape-Datei erzeugen" wird der Shape-Export 
gestartet. Der Export liefert 3 Dateien, welche in ein zip-Archiv 
gepackt werden, das man dann herunterladen kann. Damit das Zippen 
funktioniert, muss die Konstante "ZIP_PATH" richtig gesetzt sein. Sie 
verweist auf ein Zip-Programm, welches von der Kommandozeile gestartet 
werden kann. Bei Linux-Servern reicht in der Regel "zip". Bei 
Windows-Servern z.B. "c:/programme/Zip/bin/zip.exe".
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=30" title="Dokumentation">bearbeiten</a>]</div><a name="Shape-Import"></a><h4>Shape-Import</h4>
<p>Mit dem Shape-Import lassen sich Shape-Dateien in die PostGIS-DB 
einlesen. Der Shape-Import wird auf Linux-Servern über die go-Variable 
"SHP_Import" aufgerufen. Auf Windows-Servern muss eine vereinfachte 
Version des Shape-Imports verwendet werden. Hier heißt die go-Variable 
"simple_SHP_Import". Um die Shape-Datei einzulesen müssen die 3 Dateien 
vom Typ dbf, shp und shx in eine Zip-Datei gepackt werden. Diese 
Zip-Datei lässt sich dann auf den Server hochladen.
</p><p>Auf dem Server wird die Zip-Datei ausgepackt und die dbf-Datei 
gelesen. Auf einem Linux-Server geschieht das Entpacken mit dem Programm
 "unzip". Auf einem Windows-Server wird die PHP-Funktion "zip_open" 
verwendet. Dafür ist es erforderlich, dass die PHP-Extension 
"php_zip.dll" geladen wird. Standardmäßig ist diese in der php.ini 
auskommentiert.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=31" title="Dokumentation">bearbeiten</a>]</div><a name="Kartenausschnitt_speichern.2Fabrufen"></a><h3>Kartenausschnitt speichern/abrufen</h3>
<p>Unter dem Kartenfenster befinden sich die Links: <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Speichern_w%C3%A4hlen.png" class="image" title="Bild:Speichern_wählen.png"><img src="Dokumentation-Dateien/Speichern_whlen.png" alt="Bild:Speichern_wählen.png" longdesc="/index.php/Bild:Speichern_w%C3%A4hlen.png" height="14" width="129"></a>.
 Sie dienen dem Speichern von Einstellungen des aktuellen Kartenfensters
 und dem Abrufen gespeicherter Einstellungen von Kartenfenstern. 
</p><p>Speichern:
</p>
<ul><li> Um einen bestimmen Kartenauschnitt zu speichern, passen sie das Kartenfenster und die entsprechenden Layern an.
</li><li> Zum Speichern des aktuellen Kartenfenstern wählen Sie den Link "Speichern". 
</li><li> Sie gelangen auf die Oberfläche, in der der gewählte 
Kartenauschnitt gezeigt wird. Darüber befindet sich ein Eingabefeld, in 
dem es möglich ist ein Kommentar zum entsprechenden Kartenausschnitt 
hinzuzufügen. Der Kommentar ist in sofern wichtig, dass nach dem 
Zeitstempel nur so eine eindeutige Identifikation des gespeicherten 
Kartenausschnittes möglich ist. 
</li><li> Durch das betätigen des "Speichern"-Button werden die 
Einstellungen des Kartenausschnittes und der dazugehörige Kommmentar 
gespeichert. 
</li><li> Mit Hilfe des "Zurücksetzen"-Button können Sie die Eingabe im 
Kommentarfeld löschen. Es wird dabei nur das Kommentarfeld 
zurücksgesetzt, ohne den Kartenausschnitt zu speichern. 
</li><li> Mit betätigen des "Abbrechen"-Button beenden sie den Vorgang ohne den Kartenausschnitt zu speichern.
</li></ul>
<p>Wählen:
</p>
<ul><li> Wenn ein gespeicherter Kartenausschnitt geladen werden soll, betätigen Sie dazu den Link "Wählen".
</li><li> Es folgt eine Liste aller gespeicherten Kartenausschnitte des jeweiligen Nutzers.
</li><li> Durch betätigen des entsprechenden Zeitstempels gelangen Sie auf die Oberfläche, mit angepassten Kartenfenster, zurück.
</li></ul>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=32" title="Dokumentation">bearbeiten</a>]</div><a name="Drucken"></a><h3>Drucken</h3>
<p>Drucken eines frei wählbaren Kartenausschnittes unter Angabe des Maßstabes und der Drehung des Druckbereiches, siehe <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Drucken_in_PDF" title="Dokumentation">Drucken in PDF</a>.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=33" title="Dokumentation">bearbeiten</a>]</div><a name="Weitere_Funktionalit.C3.A4ten"></a><h3>Weitere Funktionalitäten</h3>
<ul><li> Kartengröße wahlweise einstellbar
</li><li> Kartenausschnitt als Rasterbild abspeicherbar
</li><li> Bildschirm-Ansichten drucken (Browserfunktionalität)
</li><li> Druck-Voransicht (Browserfunktionalität)
</li><li> Layer wahlweise ein-/ausschaltbar
</li><li> Hilfe-Funktion
</li></ul>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=34" title="Dokumentation">bearbeiten</a>]</div><a name="Funktionen_auf_dem_Server"></a><h2> Funktionen auf dem Server </h2>
<ul><li> Speicherung und Verwaltung der Karteneinstellungen
<dl><dd>  In der MySQL-Datenbank werden die Informationen vorgehalten, 
die für eine Kartenausgabe erforderlich sind. Es handelt sich im 
Wesentlichen um die Daten, die sonst in der Map-Datei für den 
UMN-MapServer enthalten sind, nur dass sie in der Datenbank für 
verschiedene Karten nicht redundant abgespeichert werden.
</dd></dl>
</li><li> Speicherung und Verwaltung von Benutzerdaten
<dl><dd>  In der MySQL-Datenbank werden Daten zu den Benutzern, zu den 
Stellen und zu den Rollen, die die Benutzer in den Stellen einnehmen 
können gespeichert. Folgende Informationen können zu den Nutzern 
gespeichert werden.
</dd></dl>
<ul><li> login-Name, Passwort, Name, Tel., E-Mail, Funktion, letzte besuchte Stelle des Benutzers
</li><li> Bezeichnung, Gültigkeitsdauer, maximale Kartenausdehnung, Referenzkarte, Wappen, Datenbankverbindung, OWS-Metadaten
</li><li> aktuelle Kartenausdehnung, Fenstergröße, Zoomfaktor, 
Referenzsystem, letztes gewähltes Werkzeug, Layoutgestaltung der GUI 
(Skin) können für jeden Benutzer innerhalb der Stelle gespeichert 
werden.
</li></ul>
</li></ul>
<ul><li> Einlesen von ALB-Daten im WLDGE-Format in eine PostgreSQL-Datenbank
</li></ul>
<ul><li> Freie Gestaltung von Menüpunkten und Zusammenfassung von Menüunterpunkten zu Obermenüs.
</li></ul>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=35" title="Dokumentation">bearbeiten</a>]</div><a name="Fachschalen"></a><h2> Fachschalen </h2>
<p>Zu kvwmap gehört eine Reihe von Funktionen, die in Fachschalen 
zusammengefasst wurden. Eine Fachschale beinhaltet thematisch 
zusammengehörende Funktionen zur Erfüllung fachspezifischer Aufgaben. 
Die anderen Funktionen stehen parallel dazu immer zur Verfügung. Die 
benötigten Funktionen können über das frei konfigurierbare Menü 
thematisch zu einer Fachschale und über zugriffsrechtlich über die Rolle
 eines Benutzers in einer Stelle zugeordnet werden.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=36" title="Dokumentation">bearbeiten</a>]</div><a name=".C3.84nderung_der_Eigent.C3.BCmeradressen"></a><h3>Änderung der Eigentümeradressen</h3>
<p>Ab Version 1.6.7 ist es möglich, die in der Sachdatenanzeige der 
Flurstücke angezeigten Eigentümeradressen zu bearbeiten. Die Änderungen 
werden in einer separaten Tabelle gespeichert und können in das 
ESAF64-Format exportiert werden, um damit das ALB zu aktualisieren.
</p><p>Um diese Funktionen nutzen zu können, müssen folgende Voraussetzungen erfüllt sein:
</p>
<ul><li> In der PostgreSQL-DB muß die Tabelle alb_g_namen_temp vorhanden sein (siehe postgis_update.sql).
</li></ul>
<ul><li> In der MySQL-DB muß der folgende Layer angelegt werden:
</li></ul>
<pre> INSERT INTO `layer` VALUES (layer_id???, 'Adressaenderungen', 5, group_id???, 'SELECT * FROM 
 alb_g_namen_temp WHERE 1=1', '', '', '', '', '', 50000, 0, '', 'user=kvwmap 
 password=??? dbname=???', 6, 'lfd_nr', '', 3, 'pixels', '2398', 
 NULL, '0', 'EPSG:2398', '', '1.1.0', 'image/png', 60, NULL);
</pre>
<ul><li> In der config.php muss LAYER_ID_ADRESSAENDERUNGEN die ID des neuen Layers bekommen.
</li></ul>
<ul><li> In der MySQL müssen in u_funktionen die Funktionen <b>Adressaenderungen</b> und <b>export_ESAF64</b>
 eingetragen werden. Die Funktion Adressaenderungen kann den Stellen 
zugewiesen werden, die Adressänderungen vornehmen dürfen. Die Funktion 
export_ESAF64 sollte der Stelle zugewiesen werden, die die gespeicherten
 Änderungen in die ESAF64-Datei exportieren darf (im Normalfall der 
Administrator).
</li><li>In der Rechteverwaltung muß den gewünschten Stellen für den 
Layer Adressaenderungen das Recht zum Erzeugen und Löschen von 
Datensätzen gegeben werden. Die Attribute user_id, datum, name1, name2, 
name3 und name4 sollten nur lesbar sein und die Attribute neu_name3 und 
neu_name4 editierbar.
</li></ul>
<dl><dd>--<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Benutzer:Markus_Hentschel" title="Benutzer:Markus Hentschel">Markus Hentschel</a>
 14:20, 27. Dez 2007 (CET) Günstiger ist es, dem Layer Adressaenderungen
 nur das Recht zum Erzeugen von Datensätzen zu geben und nicht zum 
Löschen. Wenn der Benutzer Datensätze löscht, wird das Fenster nicht 
geschlossen und das ursprüngliche Fenster nicht automatisch 
aktualisiert, was zu Verwirrung führen kann. Sollte ein Benutzer den 
Wunsch verspüren, eine geänderte Adresse löschen zu müssen, kann er ja 
die ursprünglichen Eintragungen wieder herstellen. Das hat im Ergebnis 
den gleichen Effekt.
</dd></dl>
<ul><li>Im Attribut-Editor sollte für die Attribute neu_name3, 
neu_name4, user_id, name1, name2, name3 und name4 das Formularelement 
Text eingestellt werden. Das Attribut datum muß auf den Typ <b>Time</b> gesetzt werden.
</li></ul>
<p>Hat ein Nutzer in einer Stelle das Recht Adressänderungen 
vorzunehmen, so erscheint in der Sachdatenanzeige der Flurstücke neben 
jeder Eigentümeradresse ein Link <b>Adresse aktualisieren</b>. Der Link 
öffnet ein zweites Fenster mit einem Formular zur Eingabe der neuen 
Adresse. Zusätzlich zur Adresse wird die User-ID, das Datum und als 
Schluessel die alten Felder name1 - name4 des Eigentümers gespeichert.
Wurde die Adresse eines Eigentümers bereits geändert, erscheint bei 
Abfrage des entsprechenden Flurstücks unter der alten Adresse die neue 
Adresse mit Angabe des Datums und des Nutzers, welcher die Änderung 
vorgenommen hat. Daneben erscheint ein Link <b>Aktualisierte Adresse ändern</b>, um die neue Adresse zu bearbeiten.
</p><p>Um die neuen Adressen in das ESAF64-Format zu exportieren, ruft man die go-Variable <b>export_ESAF64</b>
 auf. Hier kann man nun die Exportdatei erzeugen und sie anschließend 
herunterladen. Es werden nur Adressen ausgegeben, die sich auf nicht 
historische Grundbuchblätter (aktualitaetsnr='hist') beziehen.
</p><p>Hat man die Exportdatei erzeugt, das ALB damit aktualisiert und 
die neuen ALB-Daten in kvwmap eingespielt, kann man die Tabelle 
alb_g_namen_temp bereinigen. Dazu gibt es auf der ESAF-Export-Seite 
(go-Variable <b>export_ESAF64</b>) einen Button <b>Tabelle bereinigen</b>, der die alten Adressänderungen löscht.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=37" title="Dokumentation">bearbeiten</a>]</div><a name="Bauleitplanungs.C3.A4nderung"></a><h3>Bauleitplanungsänderung</h3>
<p>Bei der Veränderung von B-Pläne etc. soll den Gemeinden, als Träger 
der Bauleitplanung, die Möglichkeit gegeben werden, um die zu 
verändernden Stellen ein Polygon zu zeichnen und somit die betroffenen 
Stellen unkenntlich zu machen. Damit soll gewährleistet werden, dass die
 betroffenen Teile der Pläne als nicht aktuell gekennzeichnet werden und
 somit seitens der Kreisverwaltung keine Falschaussagen getroffen 
werden.
</p><p>Um die Fachschale Bauleitplanungsänderung aufrufen zu können, 
muss es einen entsprechenden Menüpunkt mit der go-Variable 
'bauleitplanung' geben (Tabelle: u_menues). Außderdem muss dieser 
Menüpunkt der Stelle (Tabelle: u_menue2stelle) und dem Nutzer dieser 
Stelle (Tabelle: u_menue2rolle) zugeordnet werden.
In der Fachschale ist es möglich ein Polygon zu zeichnen, um so das 
betroffene Gebiet innerhalb eines B-Planes zu markieren. Desweiteren 
muss eine E-Mail-Adresse angegeben werden, an die eine Mail mit der 
Änderungsbenachrichtigung geschickt wird. Zu dieser Benachrichtung 
gehört die Nummer des bearbeiteten B-Planes und eine Bemerkung zur 
Änderung. Nach dem Absenden des Formulars wird das Polygon gespeichert, 
und die Mail wird automatisch versandt.
</p><p>Damit die geänderten Bereiche in den B-Plänen nicht mehr zu 
sehen, bzw. markiert sind, muss es einen Layer geben, der über dem Layer
 der B-Pläne liegt. Dieser Layer könnte beispielsweise so aussehen:
</p>
<pre>INSERT INTO layer VALUES (106, 'Bauleitaenderungen', 2, 4, "", 'the_geom from (select the_geom,id
from bp_aenderungen where loeschdatum is null) as foo using unique id using
srid=2398', "", "", "", "", 50000, 0, "", 'user=kvwmap password=kvwmap dbname=kvwmapsp',
6, "", "", 3, 'pixels', 0, '2398', 'EPSG:2398', "", '1.1.0', 'image/png', 60, NULL);
</pre>
<p>Für die Darstellung des Layers wird dann natürlich noch eine 
entsprechende Klasse und ein Style benötigt. Damit gewährleistet ist, 
dass dieser Layer stets aktiv ist, wenn der Layer B-Pläne aktiv ist, 
wird in das Feld requires in der Tabelle used_layer folgende Bedingung 
eingetragen: 
</p>
<pre>([B-Plaene]=1)
</pre>
<p>Dadurch ist der Layer Bauleitaenderungen vom Layer B-Pläne abhängig, 
immer aktiv wenn dieser aktiv ist und sein Name nicht in der Legende zu 
sehen. Gibt man der Klasse des Layers Bauleitaenderungen keinen Namen, 
so erscheint auch die Klasse des Layers nicht in der Legende.
</p><p>Um den die gespeicherten Polygone der Bauleitänderung trotzdem 
abfragen zu können, wird ein zweiter Layer angelegt. Dieser sieht z.B. 
so aus:
</p>
<pre>INSERT INTO layer VALUES (112, 'B-Plan Änderungen', 2, 4, 'SELECT id,
username,hinweis,bemerkung,the_geom,datum FROM bp_aenderungen WHERE 1=1', 'the_geom from (select
the_geom,id from bp_aenderungen where loeschdatum is null) as foo using unique id using srid=2398', "",
"", "", "", 50000, 0, "", 'user=kvwmap password=kvwmap dbname=kvwmapsp', 6, "", "", 3, 'pixels', 0,
'2398', 'EPSG:2398', "", '1.1.0', 'image/png', 60, NULL);
</pre>
<p>Dieser Layer ist dann nach Zuweisung von Klasse und Style in der Legende zu sehen und kann auch ausgeschaltet werden.
</p><p>Die Polygone, die man in der Fachschale erstellt hat, lassen sich
 auch wieder löschen, jedoch werden sie nicht wirklich gelöscht, sondern
 nur als gelöscht markiert. Um Polygone löschen zu können, muss es in 
u_funktionen eine Funktion "BplanAenderungLoeschen" geben und diese muss
 der gewünschten Stelle zugeordnet werden. Nach einer Sachdatenabfrage 
auf den Layer "B-Plan Änderungen" lassen sich nun die aufgeführten 
Polygone löschen.
</p><p><br>
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=38" title="Dokumentation">bearbeiten</a>]</div><a name="Notizen"></a><h3>Notizen</h3>
<p>Mit der Funktion Notizen können Textnotizen an jede beliebige 
Position innerhalb des Kartenbereichs einer Stelle gesetzt werden .
</p><p>Voraussetzungen:
</p>
<ul><li>         Der Stelle muss das Menü Notizen zugewiesen worden sein. (Tabelle: u_menue2stelle)
</li><li>         Dem Nutzer muss die Zuordnung der Stelle zum Menü Notizen zugewiesen sein. (Tabelle: u_menue2rolle)
</li><li>         Es muss ein Layer Notizen eingetragen worden sein.
</li><li>         Der Stelle muss der Layer Notizen zugewiesen sein.
</li><li>         Der Layer muss dem Nutzer zugewiesen worden sein.
</li><li>         Ebenso müssen Class und Label sowie die Zuordnung zur 
Klasse und Layer eingetragen sein. Nutzen Sie für all diese Eintragungen
 den Abschnitt Notizen aus mysql_install_help.php aus dem Verzeichnis 
layouts/sql_dumps
</li><li>         Es muss eine Datenquelle in der postgis Datenbank 
vorhanden sein. Das heißt die Tabelle für Notizen muss existieren. Wenn 
nicht kann diese mit dem SQL-Statement aus postgres_install.sql angelegt
 werden. (in layouts/sql_dumps)
</li></ul>
<p>Erst wenn diese Voraussetzungen erfüllt sind, erscheint das Menü zum Anlegen neuer Notizen.
</p>
<div class="center"><div class="floatnone"><span><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Image002.jpg" class="image" title=""><img src="Dokumentation-Dateien/Image002.jpg" alt="" longdesc="/index.php/Bild:Image002.jpg" height="166" width="277"></a></span></div></div>
<p>Klicken Sie auf Notizen und legen eine neue Notiz an. Diese erscheint
 nach dem Absenden und dem aktiv schalten im Kartenfenster. Die zu 
definierende Textposition zeigt auf die Spitze des Bezugspfeils.
</p>
<div class="center"><div class="floatnone"><span><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Image004.jpg" class="image" title=""><img src="Dokumentation-Dateien/Image004.jpg" alt="" longdesc="/index.php/Bild:Image004.jpg" height="439" width="605"></a></span></div></div>
<p>Wenn man Text in mehreren Zeilen haben möchte, muss man im Textfeld mit der Enter-Taste feste Zeilenumbrüche eingeben.
</p>
<div class="center"><div class="floatnone"><span><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Image006.jpg" class="image" title=""><img src="Dokumentation-Dateien/Image006.jpg" alt="" longdesc="/index.php/Bild:Image006.jpg" height="281" width="549"></a></span></div></div>
<p>Wenn man eine Notiz ändern möchte macht man die Abfrageoption des 
Layers Notizen aktiv, wählt den Infoknopf und selektiert in der Karte 
die Notiz, die man ändern möchte. Dort kann man dann auf ändern klicken 
und kommt wieder in das Formular, welches zum anlegen neuer Notizen 
dient.
</p>
<div class="center"><div class="floatnone"><span><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Image008.jpg" class="image" title=""><img src="Dokumentation-Dateien/Image008.jpg" alt="" longdesc="/index.php/Bild:Image008.jpg" height="192" width="604"></a></span></div></div>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=39" title="Dokumentation">bearbeiten</a>]</div><a name="Kataster"></a><h3>Kataster</h3>
<p>Darstellung der ALK und ALB-Daten. Suche nach Flurstücken und 
Adressen aus der ALK und ALB. Automatisierte Fortführung des 
ALB-Bestandes über das einlesen von WLDGE-Dateien mit 
WLDGE2SQL-Konverter. Aktualisierung von ALK-Daten über 
EDBS2WKT-Konverter.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=40" title="Dokumentation">bearbeiten</a>]</div><a name="Nachweisverwaltung"></a><h3>Nachweisverwaltung</h3>
<p>Erfassung, Bearbeitung und Recherche von Daten über Dokumente der 
Katasterverwaltung zur Unterstützung der Auftragsvorbereitung bei 
Katastervermessungen
</p><p><b>Allgemeine Beschreibung der Nachweisverwaltung</b>
</p><p>Die Nachweisverwaltung dient der digitalen Fortführung des 
Liegenschaftskatasters. Mit dieser Anwendung können alle Dokumente, die 
als Nachweis im Liegenschaftskataster geführt werden, zusammen mit Ihren
 beschreibenden Daten eingeflegt und danach recherchiert werden. Zu 
allen Dokumenten, die als Bilddatei vorliegen, wird neben dem Metadaten 
auch der Raumbezug abgespeichert. Der Raumbezug, wird in Form eines 
Polygons realisiert, das auf der Grundlage der ALK zuvor festgelegt und 
zusammen mit den Metadaten in die Datenbank eingepflegt wird. Mit Hilfe 
der Metadaten und des Raumbezugs, können dann die Dokumente recherchiert
 und ausgegeben werden.
</p><p><b>Vorraussetzung für die Nutzung</b>
</p><p>Um die Nachweisverwaltung von kvwmap nutzen zu können müssen folgende Voraussetzungen gegeben sein.
</p>
<ul><li> Es muss eine Stelle eingerichtet worden sein, in der die 
Funktionen der Nachweisverwaltung genutzt werden können. Als praktisch 
erweist es sich, wenn eine Stelle für die Auskunft eingerichtet wird und
 eine für die Einpflege von Dokumenten, bzw. die Änderungsfunktion.
</li><li> Es müssen Menüpunkte (Tabelle: u_menues) für die Funktionen 
der Nachweisverwaltung eingerichtet sein. Dazu kann man die 
entsprechenden SQL-Statements zu „Einträge der Menüpunkte“ in 
mysql_install.sql im Verzeichnis layouts/sql_dumps nutzen. Die ID´s für 
id und obermenue sowie die menueebene müssen natürlich an die eigenen 
Menüpunkte angepasst sein, die man vielleicht schon eingerichtet hat.
</li><li> Die Menüpunkte müssen zu den entsprechenden Stellen zugeordnet sein.
</li><li> Die Nutzer, die die Nachweisverwaltung nutzen können sollen müssen zu den entsprechenden  Stellen zugeordnet sein.
</li><li> Es muss eine PostgreSQL-Datenbank mit PostGIS Aufsatz installiert sein.
</li><li> Die Tabellen für die Nachweisverwaltung müssen mit den 
entsprechenden Rechten in der PostGIS-Datenbank eingerichtet sein. Dazu 
nutzt man am besten die SQL-Vorlagen für die Nachweisverwaltung in der 
Datei postgres_install.sql im Verzeichnis layouts/sql_dumps
</li></ul>
<p><b>Auswählen der Stelle Nachweisverwaltung</b>
</p><p>Wenn Sie die Nachweisverwaltung nutzen möchten, müssen Sie sich 
unter der richtigen Arbeitsstelle im Menü "Stelle wählen" anmelden.
</p><p>Dazu öffnen Sie die Startseite des Kartenserver und klicken auf 
den Link "Menü auswählen" im rechten oberen Teil des Browserfensters.
</p><p>Es öffnet sich ein Fenster mit der Auswahl der Arbeitsstellen. 
Markieren Sie hier bitte die Arbeitsstelle "Nachweisverwaltung" und 
klicken Sie auf den Button "Abschicken" der sich unter dem Auswahlfeld 
der Arbeitsstellen befindet.
</p><p>Mit dem Button "Abbrechen" gelangen Sie wieder auf die Startseite des Kartenservers.
</p><p>Nach der Auswahl der Arbeitsstelle "Nachweisverwaltung" und dem 
betätigen des Button "Abschicken" gelangen Sie auf die Oberfläche der 
Nachweisverwaltung. Im linken Teil des Browser-Fensters hat sich des 
Menu Ihrer Fachschale angepasst und im Kopf des Browser-Fensters steht 
nun "Nachweisverwaltung".
</p>
<div class="center"><div class="floatnone"><span><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Image010.jpg" class="image" title=""><img src="Dokumentation-Dateien/Image010.jpg" alt="" longdesc="/index.php/Bild:Image010.jpg" height="305" width="501"></a></span></div></div>
<ol><li>Schritt: Stelle wählen 
</li><li>Schritt: Arbeitsstelle markieren und abschicken
</li><li>Schritt: Oberfläche der Nachweisverwaltung
</li></ol>
<div class="center"><div class="floatnone"><span><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Image012.jpg" class="image" title=""><img src="Dokumentation-Dateien/Image012.jpg" alt="" longdesc="/index.php/Bild:Image012.jpg" height="441" width="604"></a></span></div></div>
<p><b>Hinzufügen von Dokumenten</b>
</p><p>Um diese Funktion nutzen zu können, müssen Sie sich zuvor unter 
Nachweisverwaltung einwählen. Näheres finden Sie im Abschnitt 
"Einrichten der Stelle" beschrieben.
</p><p>Als nächstes muss der Bereich für das einzupflegende Dokument 
eingerichtet werden. Dazu muss mir Hilfe der Navigationsellemente, im 
Grafikfenster, oder über den Menü-Punkt "Flurstücksuche" der 
ALK-Ausschnitt so einrichtet werden, das später das Polygon für den 
Raumbezug festgelegt werden kann.
</p><p>Wenn Sie den ALK-Ausschnitt richtig festgelegt haben, finden Sie 
auf der rechten Seite des Browser-Fensters eine Menü Leiste mit der 
Rubrik Nachweisverwaltung. Kicken Sie den Menü-Punkt "Dokumente 
hinzufügen" unter der Rubrik Nachweisverwaltung an.
</p><p>Jetzt erscheint die Oberfläche der Dokumenteingabe. Der 
ALK-Auschnitt muss bei diesem Schritt übernommen worden sein.
In den übernommenen Ausschnitt sollte als erstes das Polygon mit den 
entsprechenden Werkzeugen im Grafikfenster festgelegt werden.
</p><p>Danach folgt die Eingabe der beschreibenden Daten und die Wahl 
der Bilddatei für das einzupflegende Dokument. Hierbei ist zu beachten, 
das alle Eingaben getätigt und die hochzuladende Datei ausgewählt werden
 muss. Erst dann kann man den Datensatz mit dem Button "Senden" in die 
Datenbank einpflegen. Ist eine Eingabe fehlerhaft oder gar nicht 
angegeben worden, ändert sich die Hintergrundfarbe und es erscheint eine
 Fehlermeldung
</p><p>Der Eintrag der Daten erfolgt in die Tabelle "n_nachweise", der jeweiligen Datenbank.
</p><p>Sollte ein Nachweis mit einer Fehleingabe in die Datenbank 
eingepflegt worden sein, können Sie, wie unter "Ändern von Nachweisen" 
beschrieben, den Datensatz ändern.
</p><p><b>Recherchieren von Nachweisen</b>
</p><p>Um diese Funktion nutzen zu können, müssen Sie sich zuvor unter 
Nachweisverwaltung einwählen. Näheres finden Sie im Abschnitt 
"Einrichten der Stelle" beschrieben.
</p><p>Sind die erfolgreich unter der Arbeitsstelle Nachweisverwaltung 
angemeldet, erscheint im linken Teil des Browser-Fenster, unter 
Kategorie Nachweisverwaltung, der Menü-Punkt "Dokumentenrecherche".
</p><p>Bevor Sie den Menü-Punkt anwählen, müssen Sie entscheiden, ob sie
 mit Hilfe eines Polygon (Box) recherchieren wollen. Ist das der Fall, 
müssen Sie zuvor den Kartenauschnitt mit Hilfe der "Flurstückssuche" 
oder der Graphikelemente im Grafikfenster zu dem entsprechenden 
Flurstück navigieren.
</p><p>Wählen Sie jetzt den Menü-Punkt an und es öffnet sich die 
Oberfläche für die Dokumentenrecherche. Im Kopf steht 
"Dokumentenabfrage".
</p><p>Zunächst, müssen Sie die Art der Nachweise auswählen, nach dem Sie recherchieren wollen wählen.
</p><p>Als nächstes müssen Sie die Art der Recherche festlegen. 
Standardmäßig ist die Recherche mit Hilfe des Polygon (Box) eingestellt.
 Beachten Sie, das der Kartenausschnitt jetzt nicht mehr angepasst 
werden kann. Reicht der Kartenausschnitt für die Recherche nicht aus, 
müssen Sie erneut ins Menü "Nachweisverwaltung" wechseln und den 
Kartenausschnitt definieren.
</p><p>Bei den weiteren Recherchemethoden kann entweder nach der 
individuellen Nummer eines einzelnen Nachweis gesucht werden oder nach 
den Nachweisen, die unter einer bestimmten Auftragnummer recherchiert 
wurden.
</p>
<div class="center"><div class="floatnone"><span><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Image014.jpg" class="image" title=""><img src="Dokumentation-Dateien/Image014.jpg" alt="" longdesc="/index.php/Bild:Image014.jpg" height="441" width="604"></a></span></div></div>
<p>Nach dem das Polygon festgelegt ist und die Dokumnentenart ausgewählt
 wurde, kann man mit dem Button "Senden" die Recherche-Anfrage an die 
Datenbank senden.
</p><p><b>Das Rechercheergebnis könnte wie folgt aussehen:</b>
</p>
<div class="center"><div class="floatnone"><span><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Image016.jpg" class="image" title=""><img src="Dokumentation-Dateien/Image016.jpg" alt="" longdesc="/index.php/Bild:Image016.jpg" height="441" width="604"></a></span></div></div>
<p>Mit dem Auswahl-Feld "markieren" oder "einblenden" unter dem 
Rechercheergebnis, können Sie durch Massenbearbeitung die 
Dokumentenarten im Rechercheergebnis entsprechend markieren/Markierung 
aufheben oder einblende/ausblenden. Mit dem Auswahl-Feld "markierte" 
können Sie die markeirten Nachweise entweder zu einer Auftragsnummer 
hinzufügen oder entfernen. Die Auftragsnummer muss zuvor über dem 
Rechercheergebnis ausgewählt werden.
</p><p>Achtung: Beim hinzufügen von Nachweisen zu einem Auftrag, 
versichern Sie sich, das die Auftragsnummer über dem Rechercheergebnis 
richtig ausgewählt worden ist!!!
</p><p>Für die Übersichtlichkeit können Sie die Spaltennamen des 
Rechercheergebnis anklicken und entsprechend das Recherchergebnis neu 
sortieren lassen.
</p><p><b>Ändern von Nachweisen</b>
</p><p>Um Dokumente zu ändern muss eine recherche voraus gehen.
</p><p>Recherchieren Sie den Nachweis, das einer Änderung unterzogen 
werden soll, wie zuvor unter "Recherchieren von Nachweisen" beschrieben.
</p><p>In Ihrem Rechercheergebnis finden Sie das zuändernde Dokument, in
 diesen Zeile sich rechts außen drei Ikons für "Ansicht-()", 
"bearbeiten-()" und "löchen-()" befinden. Bewegen Sie den Maus-Cursor 
einfach auf eines der Ikons und kurz danach wird mittels ToolTip die 
Funktion des Ikons angezeigt.
</p><p>Um ein Nachweis zu ändern, klicken Sie auf das Ikon "bearbeiten" 
in der Zeile des zu ändernden Nachweis der Rechercheergebnise. Sie 
gelangen zur Oberfläche der Dokumenteneingabe, wo die beschreibenden 
Daten zusammen mit den Raumbezug (Polygon) zu dem Nachweis angezeigt 
wird.
</p><p>Die beschreibenden Daten und das Polygon können hier 
entsprechend, wie unter "Hinzufügen von Dokumenten" beschrieben, 
geändert werden. Um die Änderung zum Nachweis einzupflegen, betätigen 
Sie den Button "Senden". Wenn die korregierten Angaben richtig 
eingegeben sind, werden die Daten somit neu in die Datenbank 
eingepflegt. Kontrollieren Sie nach dem bearbeiten eines Nachweis Ihre 
Änderung!
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=41" title="Dokumentation">bearbeiten</a>]</div><a name="Bodenrichtwerterfassung"></a><h3>Bodenrichtwerterfassung</h3>
<p>Mit der Fachschale Bodenrichtwerte lassen sich flächenhafte 
Bodenrichtwertzonen nach dem BORIS-MV Datenmodell erfassen. Zum 
Datenmodell gehört eine Tabelle <b>bw_zonen</b>, in der die Datensätze gespeichert werden und einen View <b>bw_boris_view</b>,
 der zum Austausch der Bodenrichtwerte dient. Die entsprechenden 
SQL-Befehle zum Anlegen der Tabelle und des Views finden sich in 
/layouts/sql_dumps/postgis_install.sql bzw. /postgis_update.sql. 
Außerdem gehören zur Fachschale zwei Layer BORIS und BORIS_T. BORIS ist 
ein Polygonlayer, der die Bodenrichtwertzonen darstellt und BORIS_T ist 
ein Punktlayer, der nur für die Beschriftung der Bodenrichtwerte 
verwendet wird. Der Beschriftungsankerpunkt wird nämlich auch in der 
Fachschale erfasst. Die SQL-Skripte zum Erstellen der beiden Layer 
finden sich in der Datei 
/layouts/sql_dumps/mysql_install_help_boris.sql. Die Layer können auch 
anders heißen, wichtig ist nur, dass die Konstante 
LAYERNAME_BODENRICHTWERTE, auf den Namen des Flächenlayers der 
Bodenrichtwerte gesetzt ist.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=42" title="Dokumentation">bearbeiten</a>]</div><a name="Fl.C3.A4chenversiegelung"></a><h3>Flächenversiegelung</h3>
<p>Erfassung und Darstellung von Versiegelungsflächen auf der Grundlage von Luftbildern
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=43" title="Dokumentation">bearbeiten</a>]</div><a name="Aufbau_des_PHP-Skript"></a><h2>Aufbau des PHP-Skript</h2>
<p>Die Anwendung ist so programmiert, dass alle Aufrufe über die Datei 
index.php erfolgen. Die Seiten, die der Benutzer im Browser angezeigt 
bekommt, werden zur Laufzeit durch den Server zusammengesetzt.
</p><p><b>index.php</b>
</p><p>Die Datei index.php startet mit dem Einbinden einer 
Konfigurationsdatei config.php und einer Startdatei start.php, 
unterscheidet und verzweigt in Anwendungsfälle mit einer 
switch-Anweisung und endet mit einer Enddatei end.php. Zur 
Unterscheidung der Anwendungsfälle nutzt das Skript den Parameter $go 
und $go_plus. Wenn $go_plus einen Wert enthält, wird dieser an $go 
angehängt. Wenn $go leer ist, wird ein Standardfall ausgeführt. In den 
jeweiligen Anwendungsfällen (cases), werden die entsprechenden 
Funktionen der Benutzeroberfläche als Methoden der Klasse GUI der 
Klassenbibliothek kvwmap.php aufgerufen.
</p><p><b>config.php</b>
</p><p>Die Konfigurationsdatei enthält verschiedene Voreinstellungen zur
 Konfiguration der Anwendung, die in den PHP-Dateien verwendet werden. 
Die Voreinstellungen werden über das Setzen von Konstanten realisiert. 
Die Konstanten sind thematisch in Gruppen zusammengefasst und umfassen 
z.B. Einstellungen zu Dateipfaden, Layout und WMS-Capabilities 
Metadaten. Des Weiteren wird in der Konfigurationsdatei eingestellt, 
welche Klassenbibliotheken geladen werden sollen und diese eingebunden. 
Dazu gehört auch die Bibliothek php_mapscript.so bzw. dll. Außerdem wird
 ein Debugdatei-Objekt $debug aus der Klasse debugfile der 
Klassenbibliothek kvwmap.php mit einem vorgegebenen Debuglevel 
eingestellt, und Datenbankobjekte für den Zugriff auf die Benutzer-, 
Karten- und Geometriedaten initialisiert.
</p><p><b>start.php</b>
</p><p>In der Startdatei wird zunächst das Objekt für die 
Benutzeroberfläche initialisiert. Die Klasse GUI für die 
Benutzeroberfläche ist in der Klassenbibliothek kvwmap.php enthalten. 
Anschließend werden alle an das Skript übergebenen Variablen aus der 
PHP-Systemvariable $_REQUEST an das Objekt $GUI in das Array $formvars 
übergeben. Wird die PHP-Anwendung über CLI aufgerufen, werden die 
Argumente aus der Kommandozeile an $formvars übergeben. In start.php 
kann eingestellt werden, das wievielte Argument an welches Element von 
$formvars übergeben werden soll.
In weiteren Schritten werden die Datenbankobjekte an $GUI übergeben und 
geöffnet. Zur Identifizierung des zugreifenden Benutzers wird die vom 
Web-Server bereitgestellte PHP-Konstante REDIRECT_REMOTE_USER verwendet.
 An Hand von $login_name werden aus der Benutzerdatenbank alle 
Benutzerdaten ausgelesen und dem Objekt $user  aus der Klassenbibliothek
 user.php zugewiesen, incl. der von ihm zuletzt genutzten Stelle. Soll 
beim aktuellen Aufruf keine neue Stelle eingestellt werden, wird diese 
Stelle für den Benutzer verwendet, ansonsten neu gesetzt. Vor dem 
Erzeugen des Stellenobjektes wird geprüft, ob der Nutzer auf die Stelle 
zugreifen darf. Abschließend wird für den Benutzer die Stelle als Rolle 
gesetzt, ein Menü-Objekt in $GUI-&gt;Menue initiiert und das Menü für 
die Stelle geladen. Je nach Einstellungen erfolgen zwischendurch 
Ausgaben in die Debug-Datei.
</p><p><b>end.php</b>
</p><p>In der Datei end.php werden die offenen Datenbankverbindungen und die Debug-Datei geschlossen.
</p><p><b>kvwmap.php</b>
</p><p>In der Klasse GUI sollten alle Funktionen enthalten sein, die die
 Interaktion des Benutzers mit dem Programm betreffen. Einige allgemeine
 Funktionen, wie das Lesen der Karteninformationen aus der Datenbank 
übernimmt die Klasse GUI, andere fachspezifische Aufgaben werden durch 
separate Objekte übernommen. Das gilt vor allem für die Funktionen der 
Fachschalen.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=44" title="Dokumentation">bearbeiten</a>]</div><a name="Installation"></a><h1>Installation</h1>
<p>Die Installation einer lauffähigen Umgebung kann auf einem Linux- 
oder einem Windows-Server erfolgen. Für Windows-Server steht das <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Installation_mit_ms4w" title="Dokumentation">ms4w-Paket</a> zur Verfügung. Bei Linux-Servern kann die Installation der Komponenten <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#.C3.9Cbersicht_2" title="Dokumentation">einzeln</a> erfolgen (hoher Zeitaufwand, aber bestmögliche Anpassung) oder über das <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Installation_mit_fgs" title="Dokumentation">FGS-Paket</a> (geringer Zeitaufwand, ausreichende Anpassungsmöglichkeiten).
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=45" title="Dokumentation">bearbeiten</a>]</div><a name="Voraussetzungen"></a><h2>Voraussetzungen</h2>
<p>In diesem Abschnitt wird eine Übersicht darüber gegeben, was alles 
für kvwmap installiert werden sollte bzw. aus welchen Komponenten die 
Anwendung besteht.
</p><p>Folgende Komponenten werden für die Nutzung dieses Internet-GIS vorausgesetzt:
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=46" title="Dokumentation">bearbeiten</a>]</div><a name="Serverseite"></a><h3>Serverseite</h3>
<ul><li> Apache - Es ist eine Version &gt;= 2.0.48 eingesetzt werden, 
damit die Umgebungsvariable REDIRECT_REMOTE_USER genutzt werden kann. 
Diese wird zur Identifizierung des Nutzers verwendet. (siehe auch Apache
 bug-report)
<dl><dd>Session sollte z.Z. noch aktiv geschaltet werden, aber die 
Anwendung wird umgestellt, so dass sie ohne Session läuft und alle 
relevanten Parameter der Benutzer in der Datenbank zwischengespeichert 
werden.
</dd></dl>
</li><li> PHP - Die Entwicklung von kvwmap läuft derzeit auf der Version 4.3.7
<dl><dd>Zur Konfiguration von php wurden in unserem Beispiel folgende Parameter gesetzt.
</dd><dd>./configure --enable-force-cgi-redirect 
--with-config-file-path=/opt/lampp/etc --with-regex=system 
*:--with-gd=/usr/local/gd --with-freetype-dir=/usr/local/freetype 
--enable-gd-native-ttf *:--with-png-dir=/usr/local/libpng 
--with-jpeg-dir=/usr/local/libjpeg --with-zlib 
--with-zlib-dir=/usr/local/zlib *:--enable-dbase 
–with-pgsql=/usr/local/pgsql
</dd><dd>      Diese Parameter müssen Sie an Ihr System anpassen oder ggf. ergänzen.
</dd><dd>      Ob PHP richtig kompiliert wurde erkennen Sie durch die 
Ausgabe eines phpinfo() Befehls. Erzeugen Sie dazu eine Datei mit 
folgendem Inhalt in einem Verzeichnis unterhalb von wwwroot.
</dd></dl>
</li></ul>
<pre>     &lt;?php
       phpinfo();
    &nbsp;?&gt;
</pre>
<ul><li><dl><dd>      oder fügen Sie dieses Programmschnipselchen in eine andere php Datei ein.
</dd><dd>      Das sollte dann eine Ausschrift erzeugen, die folgendes beinhaltet:
</dd></dl>
</li></ul>
<div align="center">
<table class="MsoNormalTable" style="border-collapse: collapse;" border="0" cellpadding="0" cellspacing="0">
<tbody><tr style="">
  <td style="border: 1pt solid black; padding: 0cm; background: none repeat scroll 0% 50% silver; width: 450pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="600">
  <p class="MsoNormal" style="margin: 5pt 0cm;"><b style=""><span style="font-size: 13.5pt; font-family: Arial; color: black;">PHP Version 4.3.10</span></b></p>
  </td>
 </tr>
</tbody></table>
</div>
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-size: 12pt; font-family: Arial; color: black;"></span></p>
<div align="center">
<table class="MsoNormalTable" style="border-collapse: collapse;" border="0" cellpadding="0" cellspacing="0">
<tbody><tr style="">
  <td style="border: 1pt solid black; padding: 0cm; background: none repeat scroll 0% 50% lightsteelblue; width: 77.6pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="103">
  <p class="MsoNormal"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">System </span></b></p>
  </td>

  <td style="border-style: solid solid solid none; border-color: black black black -moz-use-text-color; border-width: 1pt 1pt 1pt medium; padding: 0cm; background: none repeat scroll 0% 50% silver; width: 372.4pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="497">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">Linux
  berg 2.6.5-7.97-smp #1 SMP Fri Jul 2 14:21:59 UTC 2004 x86_64 </span></p>
  </td>
 </tr>
 <tr style="">
  <td style="border-style: none solid solid; border-color: -moz-use-text-color black black; border-width: medium 1pt 1pt; padding: 0cm; background: none repeat scroll 0% 50% lightsteelblue; width: 77.6pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="103">
  <p class="MsoNormal"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">Build Date </span></b></p>
  </td>

  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm; background: none repeat scroll 0% 50% silver; width: 372.4pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="497">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">Jul 20
  2005 18:31:02 </span></p>
  </td>
 </tr>
 <tr style="">
  <td style="border-style: none solid solid; border-color: -moz-use-text-color black black; border-width: medium 1pt 1pt; padding: 0cm; background: none repeat scroll 0% 50% lightsteelblue; width: 77.6pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="103">
  <p class="MsoNormal"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">Configure Command </span></b></p>
  </td>

  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm; background: none repeat scroll 0% 50% silver; width: 372.4pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="497">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">'./configure'
  '--enable-force-cgi-redirect' '--with-regex=system' '--enable-dbase'
  '--with-pgsql=/usr/local/pgsql' '--with-gd=/usr/local/gd' </span></p>
  </td>
 </tr>
 <tr style="">
  <td style="border-style: none solid solid; border-color: -moz-use-text-color black black; border-width: medium 1pt 1pt; padding: 0cm; background: none repeat scroll 0% 50% lightsteelblue; width: 77.6pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="103">
  <p class="MsoNormal"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">Server API </span></b></p>
  </td>

  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm; background: none repeat scroll 0% 50% silver; width: 372.4pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="497">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">CGI </span></p>
  </td>
 </tr>
</tbody></table>
</div>
<p><br>
In Configure Command sollte  --with-pgsql=… stehen und weiter unten:
</p>
<div align="center">
<table class="MsoNormalTable" style="border-collapse: collapse;" border="0" cellpadding="0" cellspacing="0">
 <tbody><tr style="">
  <td style="border: 1pt solid black; padding: 0cm 2.25pt; background: none repeat scroll 0% 50% lightsteelblue; width: 275.65pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="368">
  <p class="MsoNormal"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">GD Support </span></b></p>
  </td>
  <td style="border-style: solid solid solid none; border-color: black black black -moz-use-text-color; border-width: 1pt 1pt 1pt medium; padding: 0cm 2.25pt; background: none repeat scroll 0% 50% silver; width: 174.35pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="232">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">enabled
  </span></p>
  </td>
 </tr>
 <tr style="">
  <td style="border-style: none solid solid; border-color: -moz-use-text-color black black; border-width: medium 1pt 1pt; padding: 0cm 2.25pt; background: none repeat scroll 0% 50% lightsteelblue; width: 275.65pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="368">
  <p class="MsoNormal"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">GD Version </span></b></p>
  </td>
  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm 2.25pt; background: none repeat scroll 0% 50% silver; width: 174.35pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="232">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">2.0 or
  higher </span></p>
  </td>
 </tr>
 <tr style="">
  <td style="border-style: none solid solid; border-color: -moz-use-text-color black black; border-width: medium 1pt 1pt; padding: 0cm 2.25pt; background: none repeat scroll 0% 50% lightsteelblue; width: 275.65pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="368">
  <p class="MsoNormal"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">GIF Read Support </span></b></p>
  </td>
  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm 2.25pt; background: none repeat scroll 0% 50% silver; width: 174.35pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="232">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">enabled
  </span></p>
  </td>
 </tr>
 <tr style="">
  <td style="border-style: none solid solid; border-color: -moz-use-text-color black black; border-width: medium 1pt 1pt; padding: 0cm 2.25pt; background: none repeat scroll 0% 50% lightsteelblue; width: 275.65pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="368">
  <p class="MsoNormal"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">GIF Create Support </span></b></p>
  </td>
  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm 2.25pt; background: none repeat scroll 0% 50% silver; width: 174.35pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="232">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">enabled
  </span></p>
  </td>
 </tr>
 <tr style="">
  <td style="border-style: none solid solid; border-color: -moz-use-text-color black black; border-width: medium 1pt 1pt; padding: 0cm 2.25pt; background: none repeat scroll 0% 50% lightsteelblue; width: 275.65pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="368">
  <p class="MsoNormal"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">JPG Support </span></b></p>
  </td>
  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm 2.25pt; background: none repeat scroll 0% 50% silver; width: 174.35pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="232">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">enabled
  </span></p>
  </td>
 </tr>
 <tr style="">
  <td style="border-style: none solid solid; border-color: -moz-use-text-color black black; border-width: medium 1pt 1pt; padding: 0cm 2.25pt; background: none repeat scroll 0% 50% lightsteelblue; width: 275.65pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="368">
  <p class="MsoNormal"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">PNG Support </span></b></p>
  </td>
  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm 2.25pt; background: none repeat scroll 0% 50% silver; width: 174.35pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="232">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">enabled
  </span></p>
  </td>
 </tr>
 <tr style="">
  <td style="border-style: none solid solid; border-color: -moz-use-text-color black black; border-width: medium 1pt 1pt; padding: 0cm 2.25pt; background: none repeat scroll 0% 50% lightsteelblue; width: 275.65pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="368">
  <p class="MsoNormal"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">WBMP Support </span></b></p>
  </td>
  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm 2.25pt; background: none repeat scroll 0% 50% silver; width: 174.35pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="232">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">enabled
  </span></p>
  </td>
 </tr>
</tbody></table>
</div>
<p class="MsoNormal" style="margin: 5pt 0cm; text-align: center;" align="center"><span style="font-size: 15pt; font-family: Arial; color: black;">mysql</span><span style=""></span><b style=""><span style="font-family: Arial;"></span></b></p>
<div align="center">
<table class="MsoNormalTable" style="border-collapse: collapse;" border="0" cellpadding="0" cellspacing="0">

 <tbody><tr style="">
  <td style="border: 1pt solid black; padding: 0cm 2.25pt; background: none repeat scroll 0% 50% silver; width: 275.55pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="367">
  <p class="MsoNormal" style="text-align: center;" align="center"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">MySQL
  Support</span></b></p>
  </td>
  <td style="border-style: solid solid solid none; border-color: black black black -moz-use-text-color; border-width: 1pt 1pt 1pt medium; padding: 0cm 2.25pt; background: none repeat scroll 0% 50% silver; width: 174.45pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="233">
  <p class="MsoNormal" style="text-align: center;" align="center"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">enabled</span></b></p>
  </td>
 </tr>

 <tr style="">
  <td style="border-style: none solid solid; border-color: -moz-use-text-color black black; border-width: medium 1pt 1pt; padding: 0cm 2.25pt; background: none repeat scroll 0% 50% lightsteelblue; width: 275.55pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="367">
  <p class="MsoNormal"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">Active Persistent Links </span></b></p>
  </td>
  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm 2.25pt; background: none repeat scroll 0% 50% silver; width: 174.45pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="233">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">0 </span></p>
  </td>
 </tr>

 <tr style="">
  <td style="border-style: none solid solid; border-color: -moz-use-text-color black black; border-width: medium 1pt 1pt; padding: 0cm 2.25pt; background: none repeat scroll 0% 50% lightsteelblue; width: 275.55pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="367">
  <p class="MsoNormal"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">Active Links </span></b></p>
  </td>
  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm 2.25pt; background: none repeat scroll 0% 50% silver; width: 174.45pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="233">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">0 </span></p>
  </td>
 </tr>

 <tr style="">
  <td style="border-style: none solid solid; border-color: -moz-use-text-color black black; border-width: medium 1pt 1pt; padding: 0cm 2.25pt; background: none repeat scroll 0% 50% lightsteelblue; width: 275.55pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="367">
  <p class="MsoNormal"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">Client API version </span></b></p>
  </td>
  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm 2.25pt; background: none repeat scroll 0% 50% silver; width: 174.45pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="233">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">3.23.49
  </span></p>
  </td>
 </tr>

 <tr style="">
  <td style="border-style: none solid solid; border-color: -moz-use-text-color black black; border-width: medium 1pt 1pt; padding: 0cm 2.25pt; background: none repeat scroll 0% 50% lightsteelblue; width: 275.55pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="367">
  <p class="MsoNormal"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">MYSQL_MODULE_TYPE </span></b></p>
  </td>
  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm 2.25pt; background: none repeat scroll 0% 50% silver; width: 174.45pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="233">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">builtin
  </span></p>
  </td>
 </tr>

 <tr style="">
  <td style="border-style: none solid solid; border-color: -moz-use-text-color black black; border-width: medium 1pt 1pt; padding: 0cm 2.25pt; background: none repeat scroll 0% 50% lightsteelblue; width: 275.55pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="367">
  <p class="MsoNormal"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">MYSQL_SOCKET </span></b></p>
  </td>
  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm 2.25pt; background: none repeat scroll 0% 50% silver; width: 174.45pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="233">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">/tmp/mysql.sock
  </span></p>
  </td>
 </tr>

 <tr style="">
  <td style="border-style: none solid solid; border-color: -moz-use-text-color black black; border-width: medium 1pt 1pt; padding: 0cm 2.25pt; background: none repeat scroll 0% 50% lightsteelblue; width: 275.55pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="367">
  <p class="MsoNormal"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">MYSQL_INCLUDE </span></b></p>
  </td>
  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm 2.25pt; background: none repeat scroll 0% 50% silver; width: 174.45pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="233">
  <p class="MsoNormal"><i style=""><span style="background: silver none repeat scroll 0%; font-size: 9pt; font-family: Arial; color: gray; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;">no value</span></i><span style="font-size: 9pt; font-family: Arial; color: black;"> </span></p>
  </td>

 </tr>
 <tr style="">
  <td style="border-style: none solid solid; border-color: -moz-use-text-color black black; border-width: medium 1pt 1pt; padding: 0cm 2.25pt; background: none repeat scroll 0% 50% lightsteelblue; width: 275.55pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="367">
  <p class="MsoNormal"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">MYSQL_LIBS </span></b></p>
  </td>
  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm 2.25pt; background: none repeat scroll 0% 50% silver; width: 174.45pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="233">
  <p class="MsoNormal"><i style=""><span style="background: silver none repeat scroll 0%; font-size: 9pt; font-family: Arial; color: gray; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;">no value</span></i><span style="font-size: 9pt; font-family: Arial; color: black;"> </span></p>
  </td>
 </tr>
</tbody></table>
</div>
<p class="MsoNormal" style="margin: 5pt 0cm; text-align: center;" align="center"><span style="font-size: 15pt; font-family: Arial; color: black;">pgsql</span><b style=""><span style="font-size: 15pt; font-family: Arial; color: black;"></span></b></p>
<div align="center">
<table class="MsoNormalTable" style="border-collapse: collapse;" border="0" cellpadding="0" cellspacing="0">
 <tbody><tr style="">
  <td style="border: 1pt solid black; padding: 0cm; background: none repeat scroll 0% 50% silver; width: 342.65pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="457">
  <p class="MsoNormal" style="text-align: center;" align="center"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">PostgreSQL
  Support</span></b></p>
  </td>
  <td style="border-style: solid solid solid none; border-color: black black black -moz-use-text-color; border-width: 1pt 1pt 1pt medium; padding: 0cm; background: none repeat scroll 0% 50% silver; width: 107.35pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="143">
  <p class="MsoNormal" style="text-align: center;" align="center"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">enabled</span></b></p>
  </td>
 </tr>
 <tr style="">
  <td style="border-style: none solid solid; border-color: -moz-use-text-color black black; border-width: medium 1pt 1pt; padding: 0cm; background: none repeat scroll 0% 50% lightsteelblue; width: 342.65pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="457">
  <p class="MsoNormal"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">PostgreSQL(libpq) Version
  </span></b></p>
  </td>
  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm; background: none repeat scroll 0% 50% silver; width: 107.35pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="143">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">8.0.1 </span></p>
  </td>
 </tr>
 <tr style="">
  <td style="border-style: none solid solid; border-color: -moz-use-text-color black black; border-width: medium 1pt 1pt; padding: 0cm; background: none repeat scroll 0% 50% lightsteelblue; width: 342.65pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="457">
  <p class="MsoNormal"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">Multibyte character
  support </span></b></p>
  </td>
  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm; background: none repeat scroll 0% 50% silver; width: 107.35pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="143">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">enabled
  </span></p>
  </td>
 </tr>
 <tr style="">
  <td style="border-style: none solid solid; border-color: -moz-use-text-color black black; border-width: medium 1pt 1pt; padding: 0cm; background: none repeat scroll 0% 50% lightsteelblue; width: 342.65pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="457">
  <p class="MsoNormal"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">SSL support </span></b></p>
  </td>
  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm; background: none repeat scroll 0% 50% silver; width: 107.35pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="143">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">enabled
  </span></p>
  </td>
 </tr>
 <tr style="">
  <td style="border-style: none solid solid; border-color: -moz-use-text-color black black; border-width: medium 1pt 1pt; padding: 0cm; background: none repeat scroll 0% 50% lightsteelblue; width: 342.65pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="457">
  <p class="MsoNormal"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">Active Persistent Links </span></b></p>
  </td>
  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm; background: none repeat scroll 0% 50% silver; width: 107.35pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="143">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">0 </span></p>
  </td>
 </tr>
 <tr style="">
  <td style="border-style: none solid solid; border-color: -moz-use-text-color black black; border-width: medium 1pt 1pt; padding: 0cm; background: none repeat scroll 0% 50% lightsteelblue; width: 342.65pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="457">
  <p class="MsoNormal"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">Active Links </span></b></p>
  </td>
  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm; background: none repeat scroll 0% 50% silver; width: 107.35pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="143">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">0 </span></p>
  </td>
 </tr>
</tbody></table>
</div>
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-size: 12pt; font-family: Arial; color: black;"></span></p>
<div align="center">
<table class="MsoNormalTable" style="border-collapse: collapse;" border="0" cellpadding="0" cellspacing="0">
 <tbody><tr style="">
  <td style="border: 1pt solid black; padding: 0cm; background: none repeat scroll 0% 50% silver; width: 234.35pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="312">
  <p class="MsoNormal" style="text-align: center;" align="center"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">Directive</span></b></p>
  </td>
  <td style="border-style: solid solid solid none; border-color: black black black -moz-use-text-color; border-width: 1pt 1pt 1pt medium; padding: 0cm; background: none repeat scroll 0% 50% silver; width: 102.65pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="137">
  <p class="MsoNormal" style="text-align: center;" align="center"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">Local
  Value</span></b></p>
  </td>
  <td style="border-style: solid solid solid none; border-color: black black black -moz-use-text-color; border-width: 1pt 1pt 1pt medium; padding: 0cm; background: none repeat scroll 0% 50% silver; width: 113pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="151">
  <p class="MsoNormal" style="text-align: center;" align="center"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">Master
  Value</span></b></p>
  </td>
 </tr>
 <tr style="">
  <td style="border-style: none solid solid; border-color: -moz-use-text-color black black; border-width: medium 1pt 1pt; padding: 0cm; background: none repeat scroll 0% 50% lightsteelblue; width: 234.35pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="312">
  <p class="MsoNormal"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">pgsql.allow_persistent</span></b></p>
  </td>
  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm; background: none repeat scroll 0% 50% silver; width: 102.65pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="137">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">On</span></p>
  </td>
  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm; background: none repeat scroll 0% 50% silver; width: 113pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="151">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">On</span></p>
  </td>
 </tr>
 <tr style="">
  <td style="border-style: none solid solid; border-color: -moz-use-text-color black black; border-width: medium 1pt 1pt; padding: 0cm; background: none repeat scroll 0% 50% lightsteelblue; width: 234.35pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="312">
  <p class="MsoNormal"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">pgsql.auto_reset_persistent</span></b></p>
  </td>
  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm; background: none repeat scroll 0% 50% silver; width: 102.65pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="137">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">Off</span></p>
  </td>
  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm; background: none repeat scroll 0% 50% silver; width: 113pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="151">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">Off</span></p>
  </td>
 </tr>
 <tr style="">
  <td style="border-style: none solid solid; border-color: -moz-use-text-color black black; border-width: medium 1pt 1pt; padding: 0cm; background: none repeat scroll 0% 50% lightsteelblue; width: 234.35pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="312">
  <p class="MsoNormal"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">pgsql.ignore_notice</span></b></p>
  </td>
  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm; background: none repeat scroll 0% 50% silver; width: 102.65pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="137">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">Off</span></p>
  </td>
  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm; background: none repeat scroll 0% 50% silver; width: 113pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="151">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">Off</span></p>
  </td>
 </tr>

 <tr style="">
  <td style="border-style: none solid solid; border-color: -moz-use-text-color black black; border-width: medium 1pt 1pt; padding: 0cm; background: none repeat scroll 0% 50% lightsteelblue; width: 234.35pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="312">
  <p class="MsoNormal"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">pgsql.log_notice</span></b></p>
  </td>
  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm; background: none repeat scroll 0% 50% silver; width: 102.65pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="137">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">Off</span></p>
  </td>
  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm; background: none repeat scroll 0% 50% silver; width: 113pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="151">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">Off</span></p>
  </td>
 </tr>
 <tr style="">
  <td style="border-style: none solid solid; border-color: -moz-use-text-color black black; border-width: medium 1pt 1pt; padding: 0cm; background: none repeat scroll 0% 50% lightsteelblue; width: 234.35pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="312">
  <p class="MsoNormal"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">pgsql.max_links</span></b></p>
  </td>
  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm; background: none repeat scroll 0% 50% silver; width: 102.65pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="137">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">Unlimited</span></p>
  </td>
  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm; background: none repeat scroll 0% 50% silver; width: 113pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="151">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">Unlimited</span></p>
  </td>
 </tr>
 <tr style="">
  <td style="border-style: none solid solid; border-color: -moz-use-text-color black black; border-width: medium 1pt 1pt; padding: 0cm; background: none repeat scroll 0% 50% lightsteelblue; width: 234.35pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="312">
  <p class="MsoNormal"><b style=""><span style="font-size: 9pt; font-family: Arial; color: black;">pgsql.max_persistent</span></b></p>
  </td>
  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm; background: none repeat scroll 0% 50% silver; width: 102.65pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="137">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">Unlimited</span></p>
  </td>
  <td style="border-style: none solid solid none; border-color: -moz-use-text-color black black -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0cm; background: none repeat scroll 0% 50% silver; width: 113pt; -moz-background-inline-policy: -moz-initial;" valign="bottom" width="151">
  <p class="MsoNormal"><span style="font-size: 9pt; font-family: Arial; color: black;">Unlimited</span></p>
  </td>
 </tr>
</tbody></table>
</div>
<p>Darin erkennt man ob MySQL, GD und PostgreSQL wirklich unterstützt werden und z.B. welche PostgresSQL-Version unterstützt wird.
</p><p>Wenn die Angaben z.B. zu pgsql nicht zu finden sind, sollte man 
php mit --with-pgsql=/pgsql-install-pfad neu kompilieren und wieder die 
entstandene PHP aus /usr/local/php/sapi/cgi ins cgi-bin Verzeichnis vom 
Webserver kopieren und neu testen.
</p><p>Wenn das auch nichts bringt, greift das Lampp vielleicht auf eine
 ganz andere php zu, z.B. auf eine dynamisch geladene Bibliothek 
(libphp4.so). Testen durch das umbenennen von php in cgi-bin in php-bla.
 Danach sollte die Fehlermeldung vom Apache kommen, dass er die 
php-Datei nicht ausführen kann, oder der Quellcode gesendet werden, was 
dem gleich kommt. Dann suchen nach dem wahren Ort wo lampp php ausführt.
</p><p>Informationen darüber findet man in den Anleitungen zum Ausführen von php in
</p><p>Apache. In der httpd.conf steht zum Beispiel:    
</p><p>LoadModule php4_module modules/libphp4.so
Um pgsql in libphp4.so nutzen zu können müsste man die pgsql Unterstützung eben da hinein kompilieren.
Alternativ dazu steht die Variante php als cgi-Version einzurichten mit den entsprechenden Optionen in der httpd.conf:
</p><p><br> 
</p><p>Action php-script /cgi-bin/php
</p><p><br> 
</p>
<ol><li>AddHandler cgi-script .cgi
</li></ol>
<p>AddHandler php-script .php .php3
</p><p><br> 
</p><p>Dann könnte man also php als CGI-Version kompilieren mit:
</p><p>--with-regex=system
</p><p>Dazu zur Sicherheit gibt man an:
</p><p>--enable-force-cgi-redirect
</p><p>Um anzugeben, wo die Konfigurationsdateien zu finden sind:
--with-config-file-path=/opt/lampp/etc
</p><p><br>
Nach dem Kompilieren von PHP gegebenenfalls php.ini anpassen:
</p>
<pre>short_open_tag = On            - erlaubt den verkürzten Tag für php 
session.autostart = 1          - für Authentifizierung über PHP notwendig
session.gc_maxlifetime = xxxx  - Länge der php-Session in Sekunden
</pre>
<ul><li> gd - wenn die Druckrotation funktionieren soll, gd nicht selbst kompilieren, sondern PHP kompilieren mit --with-gd
</li><li> MapServer - Version ab 5.x wird empfohlen
<dl><dd>  Zur Konfiguration von MapServer und damit auch phpMapScript wurden folgende Parameter gesetzt:
</dd><dd>  OUTPUT=PNG OUTPUT=JPEG OUTPUT=WBMP SUPPORTS=PROJ 
SUPPORTS=FREETYPE SUPPORTS=WMS_SERVER SUPPORTS=WMS_CLIENT INPUT=EPPL7 
INPUT=POSTGIS INPUT=GDAL INPUT=SHAPEFILE
</dd><dd>  Welche Optionen für configure wirklich notwendig sind, hängt 
davon ab welche Datenarten und welche Services der MapServer 
unterstützten soll.
</dd></dl>
</li><li> phpMapScript - ist in der Version: 1.194.2.3
<dl><dd>  phpMapScript wird mit installiert, wenn die Option –with-php angegeben wird.
</dd></dl>
</li><li> PDFClass – installieren in www-root Verzeichnis
<dl><dd> Quelle: <a href="http://www.ros.co.nz/pdf/" class="external free" target="_blank" title="http://www.ros.co.nz/pdf/" rel="nofollow">http://www.ros.co.nz/pdf/</a>
</dd></dl>
</li><li> Imagemagick und Ghostscript - zur Druckvorschau und Bildkonvertierung, siehe <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Installation_von_Imagemagick_mit_TIF-Support" title="Installation von Imagemagick mit TIF-Support">Installation von ImageMagick mit JPEG-, PNG- und TIF-Unterstützung</a>
</li><li> MySQL – irgendeine aktuelle Version, verwende noch Tabellentyp
 MyISAM, wer Transaktionen machen will braucht eine Version die InnoDB 
unterstützt.
</li><li> phpMyAdmin
<dl><dd>  Zur Administration der MySQL Datenbank kann phpMyAdmin 
installiert werden. Jedes andere DB-Frontend mit ODBC-Treiber für MySQL 
ist natürlich auch möglich. Ich benutze z.B. auch MS-Access mit 
MySQL-ODBC.
</dd></dl>
</li><li> PostgreSQL - Version 8.x. Ab 8.3 ist die Typgleichheit bei Vergleichen zu beachten.
</li></ul>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=47" title="Dokumentation">bearbeiten</a>]</div><a name="Clientseite"></a><h3>Clientseite</h3>
<ul><li> Browser
<ul><li> <a href="http://www.mozilla.org/de/firefox/%7C" class="external text" target="_blank" title="http://www.mozilla.org/de/firefox/|" rel="nofollow">Firefox</a> ab Version 4.0 (empfohlen)
</li><li> oder Internet Explorer ab Version 7 plus SVG-Plugin [<a href="http://www.adobe.com/svg/viewer/install/mainframed.html%7CAdobe" class="external text" target="_blank" title="http://www.adobe.com/svg/viewer/install/mainframed.html|Adobe" rel="nofollow">SVG Viewer download</a>]
</li><li> oder <a href="http://www.google.com/chrome/%7CGoogle" class="external text" target="_blank" title="http://www.google.com/chrome/|Google" rel="nofollow">Chrome</a>
</li><li> Erfahrungen mit anderen Browsern sind willkommen
</li><li> im Browser muss JavaScript eingeschaltet sein und man muss die <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/%C3%84nderung_des_Textes_in_Stauszeile_durch_JavaScript_in_FireFox_zulassen" title="Änderung des Textes in Stauszeile durch JavaScript in FireFox zulassen">Änderung des Textes in Stauszeile durch JavaScript in FireFox zulassen</a>.
</li></ul>
</li></ul>
<ul><li> pgAdmin III
<dl><dd>  Zur Administration von PostgreSQL würde ich pgAdminIII 
empfehlen, aber es geht natürlich auch pgMyAdmin oder andere 
DB-Frontends mit ODBC für MySQL, z.B. MS-Access
</dd><dd>  Quelle: <a href="http://www.pgadmin.org/" class="external free" target="_blank" title="http://www.pgadmin.org" rel="nofollow">http://www.pgadmin.org</a>
</dd></dl>
</li><li> ODBC-Treiber für PostgreSQL
<dl><dd>  Für den Zugang zum Server von einem lokalen Recher aus, muss der ODBC-Treiber für PostgreSQL installiert werden.
</dd><dd>  Quelle: <a href="http://www.postgresql.org/ftp/odbc/versions" class="external free" target="_blank" title="http://www.postgresql.org/ftp/odbc/versions" rel="nofollow">http://www.postgresql.org/ftp/odbc/versions</a>
</dd></dl>
</li><li> PostGIS – aktuellste Version mit der modifizierten shp2pgsql aus dem Ordner kvwmap/tools
</li><li> EDBS2WKT
<dl><dd>  Konverter zum Einlesen von ALK-Daten in die postgresql Datenbank.
</dd><dd>  Quelle: <a href="http://62.153.231.87/alk/edbs2wkt" class="external free" target="_blank" title="http://62.153.231.87/alk/edbs2wkt" rel="nofollow">http://62.153.231.87/alk/edbs2wkt</a>
</dd><dd>  Vor dem Einlesen von ALK-Daten in die PostGIS-Datenbank sollte eben PostgreSQL mit PostGIS unterstützung installiert sein.
</dd></dl>
</li></ul>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=48" title="Dokumentation">bearbeiten</a>]</div><a name="UMN-MapServer"></a><h2>UMN-MapServer</h2>
<p>Hinweise zur Installation des UMN-MapServers finden Sie unter: <a href="http://mapserver.gis.umn.edu/docs" class="external free" target="_blank" title="http://mapserver.gis.umn.edu/docs" rel="nofollow">http://mapserver.gis.umn.edu/docs</a>
</p><p>Siehe auch: <a href="http://wiki.osgeo.org/index.php/Installation_von_MapServer%2C_Apache_und_PostgreSQL/PostGIS_auf_Debian_4.0" class="external free" target="_blank" title="http://wiki.osgeo.org/index.php/Installation von MapServer, Apache und PostgreSQL/PostGIS auf Debian 4.0" rel="nofollow">http://wiki.osgeo.org/index.php/Installation_von_MapServer%2C_Apache_und_PostgreSQL/PostGIS_auf_Debian_4.0</a>
<a href="http://en.giswiki.org/wiki/UMN_MapServer_Installationsanleitung_von_Kai_Behncke" class="external free" target="_blank" title="http://en.giswiki.org/wiki/UMN MapServer Installationsanleitung von Kai Behncke" rel="nofollow">http://en.giswiki.org/wiki/UMN_MapServer_Installationsanleitung_von_Kai_Behncke</a>
<a href="http://freegis.org/pipermail/mapserver-de/2005-July/001408.html" class="external free" target="_blank" title="http://freegis.org/pipermail/mapserver-de/2005-July/001408.html" rel="nofollow">http://freegis.org/pipermail/mapserver-de/2005-July/001408.html</a>
</p><p>UMN MapServer für Linux ist im Packet FGS und für Windows im Packet ms4w enthalten. Siehe dazu unter: <a href="http://www.maptools.org/fgs" class="external free" target="_blank" title="http://www.maptools.org/fgs" rel="nofollow">http://www.maptools.org/fgs</a> bzw. <a href="http://www.maptools.org/ms4w/" class="external free" target="_blank" title="http://www.maptools.org/ms4w/" rel="nofollow">http://www.maptools.org/ms4w/</a>
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=49" title="Dokumentation">bearbeiten</a>]</div><a name="PostgreSQL_mit_PostGIS_Erweiterung"></a><h2>PostgreSQL mit PostGIS Erweiterung</h2>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=50" title="Dokumentation">bearbeiten</a>]</div><a name="PostgreSQL"></a><h3>PostgreSQL</h3>
<p>Laden Sie sich PostgreSQL von <a href="http://www.postgresql.org/" class="external free" target="_blank" title="http://www.postgresql.org" rel="nofollow">http://www.postgresql.org</a>
</p><p>Zur Installation von PostgreSQL lesen Sie die INSTALL-Anweisung 
im Installationsverzeichnis von postgresql. Führen Sie aber zur Nutzung 
von Geos den configure Befehl folgendermaßen durch:
</p><p>&gt; LDFLAGS=-lstdc++ ./configure
</p><p>an Stelle von einfach nur
</p><p>&gt; ./configure
</p><p>Danach
</p><p>&gt; make
</p><p>&gt; make install
</p><p>Zum Einrichten der Datenbank für kvwmap
</p><p>&gt; adduser postgres
</p><p>Oft ist schon ein postgres user im system vorhanden, dann lassen.
</p><p>Datenverzeichnis anlegen
</p><p>&gt; mkdir /usr/local/pgsql/data
</p><p>Verzeichnis dem user postgres zuweisen
</p><p>&gt; chown postgres /usr/local/pgsql/data
</p><p>Wechseln zum user postgres (als postgres anmelden)
</p><p>&gt; su – postgres
</p><p>Datenbank initialisieren
</p><p>&gt; /usr/local/pgsql/bin/initdb -D /usr/local/pgsql/data
</p><p>Postmaster starten. (Diese Zeile in Startskript von Rechner aufnehmen, sonst immer nach Neustart von Server neu starten)
</p><p>&gt; /usr/local/pgsql/bin/postmaster -D /usr/local/pgsql/data &gt;logfile 2&gt;&amp;1 &amp;
</p><p>Kvwmap Datenbank anlegen.
</p><p>&gt; /usr/local/pgsql/bin/createdb &lt;Datenbankname&gt;
</p><p>Als Datenbankname geben Sie den Namen an, den Sie in der 
config.php im kvwmap-Verzeichnis an die Variable $pgdbname übergeben 
haben. Z.B. kvwmapsp1-4-2
</p><p>Zum Testen in Datenbank einloggen.
</p><p>&gt; /usr/local/pgsql/bin/psql kvwmapsp1-4-2
</p><p>Alle Programme für postgres befinden sich in /usr/local/pgsql/bin.
</p><p>Am besten den Pfad anpassen.
</p><p>&gt; export PATH=$PATH:/usr/local/pgsql/bin
</p><p><br>
Konfiguration:
</p><p>Der Datenbankserver von PostgreSQL wird über die Datei 
postgres.conf konfiguriert. Diese Datei befindet sich im mit „initdb –D 
Verzeichnis“ angelegten data-Verzeichnis, z.B. in /usr/local/pgsql/data.
 Wenn was nicht funktioniert, kann man mal dort nachschauen, ob alles 
korrekt eingestellt ist. z.B. wenn der Zugang zur pgsql Datenbank von 
einem entfernten Rechner aus mit pgAminIII nicht funktioniert liegt das 
entweder daran, dass die Firewall den Port 5432 nicht frei gibt, oder 
die Verbindungen nur vom localhost erlaubt sind. Das kann man mit dem 
Parameter listen_addresses einstellen in der postgres.conf.
Für den Zugriff von entfernten Rechner muss für Postgres der Port 5432 
offen sein (entsprechend /etc/services). In /etc/hosts sollte der 
Rechner eingetragen sein, der zugreifen will. In /etc/hosts.allowed 
können auch Zugangsbeschränkungen eingetragen werden.
</p><p><br> 
Projektdatenbank:
Zur Einbindung von ALK-Daten in eine PostGIS-Datenbank sollte mit 
EDBS2WKT zunächst eine Datenbank neu erstellt werden, die die Tabellen 
für die ALK-Objekte enthält.
Damit man diese Postgres-Datenbank dann mit kvwmap zusammen nutzen kann,
 muss man das Skript postgis_install.sql aus dem Verzeichnis 
/layouts/sql_dump von kvwmap in postgres ausführen. Danach sollten alle 
relevanten Tabellen in der Datenbank enthalten sein.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=51" title="Dokumentation">bearbeiten</a>]</div><a name="PROJ"></a><h3>PROJ</h3>
<p>Wenn Sie PROJ noch nicht für UMN-MapServer installiert haben, laden Sie sich PROJ von <a href="http://www.remotesensing.org:16080/proj" class="external free" target="_blank" title="http://www.remotesensing.org:16080/proj" rel="nofollow">http://www.remotesensing.org:16080/proj</a>
</p><p>Entpacken von proj-version.tar.gz nach /usr/local
</p><p>Erzeugen eines symbolischen Links:
</p>
<ol><li> ln –s proj-version proj
</li></ol>
<p>Installieren mit:
</p>
<ol><li> ./configure
</li></ol>
<ol><li> make
</li></ol>
<ol><li> make install
</li></ol>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=52" title="Dokumentation">bearbeiten</a>]</div><a name="GEOS"></a><h3>GEOS</h3>
<p>Laden Sie sich GEOS von <a href="http://geos.refractions.net/" class="external free" target="_blank" title="http://geos.refractions.net" rel="nofollow">http://geos.refractions.net</a>
</p><p>Entpachen von geos-version.tar.gz nach /usr/local
</p><p>Erzeugen eines symbolischen Links:
</p>
<ol><li> ln –s geos-version geos
</li></ol>
<p>Installieren mit
</p>
<ol><li> ./configure
</li></ol>
<ol><li> make
</li></ol>
<ol><li> make install
</li></ol>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=53" title="Dokumentation">bearbeiten</a>]</div><a name="PostGIS"></a><h3>PostGIS</h3>
<p>Man muss den PostgreSQL Source haben und PostgreSQL installiert haben.
</p><p>Laden Sie sich PostGIS von <a href="http://postgis.refractions.net/" class="external free" target="_blank" title="http://postgis.refractions.net" rel="nofollow">http://postgis.refractions.net</a>
</p><p>Folgen Sie der Installationsanleitung in README.postgis
</p><p>Zur Aktivierung der PROJ und GEOS Unterstützung in 
Makefile.config USE_PROJ und USE_GEOS auf 1 setzen und als Pfade 
/usr/local angeben.
</p><p>Installieren mit: make -&gt; make install
</p><p>Zur Einrichtung der PostGIS Erweiterung für die kvwmap Datenbank:
</p>
<ol><li> createlang plpgsql &lt;Datenbankname&gt;
</li></ol>
<ol><li> psql -f lwpostgis.sql -d &lt;Datenbankname&gt;
</li></ol>
<p>Als Datenbankname geben Sie den Namen an, den Sie in der config.php 
im kvwmap-Verzeichnis an die Variable $pgdbname übergeben haben. Z.B. 
kvwmapsp1-4-2
</p><p>Anlegen der Tabellen für die Koordinatensysteme
</p>
<ol><li> pgsql –f spatial_ref_sys.sql
</li></ol>
<p>Es muss auch ein Benutzer angelegt sein, mit dem Sie von kvwmap aus auf die Datenbank zugreifen. Nutzer hinzufügen:
</p>
<ol><li> createuser –P &lt;Benutzername&gt;
</li></ol>
<p>&lt;Benutzername&gt; ist der Name unter dem Sie auf die Datenbank von
 kvwmap aus zugreifen, z.B. kvwmap Anschließend werden Sie nach einem 
Passwort &lt;Passwort&gt; für den Nutzer gefragt. Der hier angegebene 
Name bzw. Passwort wird dann in der config.php im kvwmap Verzeichnis auf
 die Variable $PostGISdb-&gt;user=’&lt;Benutzername’ bzw. 
$PostGISdb-&gt;passwd='&lt;Passwort&gt;' gesetzt.
2.3.5     Datenbank Sichern und Wiederherstellen
</p><p>Eine PostGIS Datenbank lässt sich mit dem pg_dump Befehl sichern.
 Dabei wird eine sql-Datei erzeugt, die später zur Wiederherstellung 
eines alten Standes verwendet werden kann. Um die Sicherung ausführen zu
 können melden Sie sich am Besten auf Ihrer Konsole als postgres an.
</p>
<ol><li> su postgres
</li></ol>
<p>Anschließend wechseln Sie in ein Verzeichnis, in dem postges Schreibrechte hat, z.B.
</p>
<ol><li> cd /usr/local/pgsql/data
</li></ol>
<p>Dort führen sie den dump Befehl aus.
</p>
<ol><li> ../bin/pg_dump -f &lt;dateinamedersicherung.sql&gt; &lt;datenbankname&gt;
</li></ol>
<p>Zum wiederherstellen müssen Sie die alte Datenbank löschen.
</p>
<ol><li> dropdb &lt;datenbankname&gt;
</li></ol>
<p>Anschließend legt man die Datenbank wieder an, fügt den PostGIS 
Support und die Referenzsystem hinzu und läd dann die Sicherung ein.
</p>
<ol><li> createdb &lt;datenbankname&gt;
</li></ol>
<ol><li> createlang plpgsql &lt;datenbankname&gt;
</li></ol>
<ol><li> psql -f postgis.sql -d &lt;datenbankname&gt;
</li></ol>
<ol><li> psql –f spatial_ref_sys.sql –d &lt;datenbankname&gt;
</li></ol>
<ol><li> psql -f &lt;dateinamedersicherung.sql&gt; -d &lt;datenbankname&gt;
</li></ol>
<ol><li> vacuumdb -z &lt;datenbankname&gt;
</li></ol>
<p>Die Dateien postgis.sql und spatial_ref_sys.sql befinden sich in dem 
share Verzeichnis des pgsql Verzeichnisses. Die letzte Zeile dient dem 
Auffrischen der Tabellen und der Neuorganisation der Indizee und des 
Speicherplatzes.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=54" title="Dokumentation">bearbeiten</a>]</div><a name="MySQL"></a><h2>MySQL</h2>
<p>Installieren Sie auf Ihrem System einen MySQL Server. Folgen Sie den Installationsanleitungen unter: <a href="http://dev.mysql.com/doc/index.html" class="external free" target="_blank" title="http://dev.mysql.com/doc/index.html" rel="nofollow">http://dev.mysql.com/doc/index.html</a>
Führen Sie zum einrichten der der kvwmap-Tabellen die Datei mysql_install.sql aus dem Verzeichnis /layouts/sql_dump
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=55" title="Dokumentation">bearbeiten</a>]</div><a name="Schritte_zur_Installation_von_kvwmap"></a><h2>Schritte zur Installation von kvwmap</h2>
<p>Um kvwmap nutzen zu können müssen die oben beschriebenen Komponenten installiert sein.
</p><p>Nachfolgend werden die Schritte beschrieben, die absolviert 
werden sollten, damit man im Client eine Karte sehen kann. Dazu gehören 
einige Einstellung die den Server betreffen. Diese werden in der Datei 
config.php vorgenommen. Die meißten Einstellungen werden über Konstanten
 vorgenommen. Wenn noch Einstellungen vorgenommen werden müssen, die 
irgentwo anders im Quellcode fest verankert sind lassen Sie es mich 
wissen, dann baue ich das auch als Konstane in die config.php ein.
</p><p>Und es sind eine Reihe von Eintragungen in der MySQL-Datenbank 
vorzunehmen, z.B. das Anlegen einer Steller, Benutzer, Layer, Menüpunkte
 etc.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=56" title="Dokumentation">bearbeiten</a>]</div><a name="Verzeichnisse"></a><h3>Verzeichnisse</h3>
<ul><li> Entpachen sie das Packet kvwmap_Version in das www-root
</li><li> In www-root (z.B. /usr/local/httpd/htdocs) sollten folgende zusätzlichen Verzeichnisse angelegt werden:
</li><li> /tmp – für die dynamisch generierten Bilder vom MapServer. Dies ist der Pfad der in der MapDatei für IMAGEPATH steht.
</li><li> Auf der gleichen Ebene wie www-root (z.B. /usr/local/httpd) sollten folgende Verzeichnisse angelegt werden.
</li><li> /logs – Log- und Debugdateien lässt sich in config.php ändern
</li><li> /var – Datenverzeichnis, lässt sich auch in config.php anpassen.
</li><li> Unter dem Verzeichniss var legen sie standardmäßig /data an und darunter die Verzeichnisse für Ihre Daten
</li></ul>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=57" title="Dokumentation">bearbeiten</a>]</div><a name="config.php"></a><h3>config.php</h3>
<p>Eine Reihe von Einstellungen für das Programm kann über die Werte von
 Konstanten in einer zentralen Konfigurationsdatei der config.php in der
 Wurzel des Programmverzeichnisses erfolgen. Im folgenden werden die 
definierten Konstanten und ihre aktuell eingestellten Werte angezeigt. 
Die Standardwerte stehen in Klammern dahinter. Einige Werte setzen sich 
aus anderen zusammen. Die Konstanten und Werte sind mit Punkt getrennt. 
Die Punkte gehören nicht zum Wert.
</p>
<ul><li> INSTALLPATH = /opt/lampp/ (/opt/lampp/)
</li><li> WWWROOT = /opt/lampp/htdocs/ (INSTALLPATH.htdocs/)
</li><li> URL = 139.30.110.27/ (localhost)
</li><li> LOGPATH = /opt/lampp/logs/ (INSTALLPATH.logs)
</li><li> LAYOUTPATH = /opt/lampp/htdocs/kvwmap_1.4.0/layouts/ (WWWROOT.APPLVERSION.'layouts/)
</li><li> SNIPPETS = /opt/lampp/htdocs/kvwmap_1.4.0/layouts/snippets/ (LAYOUTPATH.snippets/)
</li><li> diese Liste ist unvollständig
</li></ul>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=58" title="Dokumentation">bearbeiten</a>]</div><a name="Datenbankeintr.C3.A4ge_f.C3.BCr_die_Anzeige_im_Client"></a><h3>Datenbankeinträge für die Anzeige im Client</h3>
<p>Um in der Benutzeroberfläche des kvwmap-Clients überhaupt etwas sehen
 zu können, müssen mindestens eine Stelle und ein Benutzer eingetragen 
werden und ein Layer angelegt sein. Eine Beschreibung zur Verwaltung von
 Benutzerdaten und Karteninformationen finden Sie unter Abschnitt 5.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=59" title="Dokumentation">bearbeiten</a>]</div><a name="Installation_mit_ms4w"></a><h2> Installation mit ms4w </h2>
<p>Hier wird die Installation von kvwmap unter MapServer für Windows (ms4w) beschrieben.
</p><p>Voraussetzung ist das aktuelle Packet von ms4w, download unter: <a href="http://www.maptools.org/ms4w/" class="external free" target="_blank" title="http://www.maptools.org/ms4w/" rel="nofollow">http://www.maptools.org/ms4w/</a>
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=60" title="Dokumentation">bearbeiten</a>]</div><a name="Installation_mit_fgs"></a><h2> Installation mit fgs </h2>
<p>Hier wird die Installation von kvwmap in der Free OpenSource GIS Suite (fgs) beschrieben.
</p><p>Voraussetzung ist das aktuelle Packet von fgs, download unter: <a href="http://dl.maptools.org/dl/fgs/releases/1.0/1.0.0/self-installers/" class="external free" target="_blank" title="http://dl.maptools.org/dl/fgs/releases/1.0/1.0.0/self-installers/" rel="nofollow">http://dl.maptools.org/dl/fgs/releases/1.0/1.0.0/self-installers/</a>
</p>
<dl><dd>--<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Benutzer:Markus_Hentschel" title="Benutzer:Markus Hentschel">Markus Hentschel</a> 16:53, 25. Jul 2007 (CEST)<br>
</dd><dd> Vorteil FGS: sehr leichte Installation, leichte Nachinstallation von weiteren Komponenten.
</dd><dd> Nachteil FGS: einige Funktionalitäten gehen nicht, weil alle 
Komponenten vorkompiliert sind und nicht geändert werden können. 
Beispiel: Druck rotieren geht nicht. Bei Mapserver &lt; 5.0: Mapserver 
ist mit den Standardeinstellungen der map.h und mapsymbol.h kompiliert, 
z.B. MS_MAXIMAGESIZE_DEFAULT=2048 oder MS_MAXSYMBOLS=64 (In der neuesten
 FGS-Version 1.0 nicht mehr nötig).
</dd></dl>
<dl><dd>--<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Benutzer:Pkorduan" title="Benutzer:Pkorduan">Pkorduan</a> 14:09, 28. Okt 2007 (CET)
</dd><dd> Weiterer Nachteil bei Version 0.2: Das Modul postgis-lib:1.0.6
 ist ohne proj Unterstützung kompiliert. Selbst von das proj-lib Modul 
für fgs installiert ist, kann postgis trotzdem keine transformationen 
rechnen. Der SQL Befehl transform() funktioniert nicht und somit auch 
keine Koordinatentransformationen mit PostGIS on-the-fly. (Hat nichts 
mit MapServer zu tun. Der transformiert fleißig mit Proj) Wenn man 
kvwmap mit Layern in unterschiedlichen EPSG-Codes verwenden möchte, dann
 muss PostGIS transformieren können. Der Parameter USE_PROJ=1 muss für 
postgis gesetzt sein. Man muss also in dem Fall postgis für fgs neu 
kompilieren (In der neuesten FGS-Version 1.0 nicht mehr nötig).
</dd></dl>
<p>Zum Installieren von FGS bzw. von Modulen innerhalb der FGS-Umgebung siehe auch drei HowTo's:
</p><p><br>
</p>
<ul><li><b><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/FGS_installieren" title="FGS installieren">FGS installieren</a></b>
</li></ul>
<p><br>
</p>
<ul><li><b><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Mapserver_in_der_fgs-dev_Umgebung_kompilieren" title="Mapserver in der fgs-dev Umgebung kompilieren">Mapserver in der fgs-dev Umgebung kompilieren</a></b>
</li></ul>
<ul><li><b><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/PostGIS_in_der_fgs-dev_Umgebung_kompilieren" title="PostGIS in der fgs-dev Umgebung kompilieren">PostGIS in der fgs-dev Umgebung kompilieren</a></b>
</li></ul>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=61" title="Dokumentation">bearbeiten</a>]</div><a name="Administration"></a><h1>Administration</h1>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=62" title="Dokumentation">bearbeiten</a>]</div><a name="Allgemeines_zur_Datenverwaltung"></a><h2>Allgemeines zur Datenverwaltung</h2>
<p>Hinweise zum Anlegen eines TILEINDEX für Rasterdaten
</p>
<ul><li> Die TILEINDEX Datei ist eine Shape-Datei, die die äußeren 
Umringe von mehren Rasterdateien enthält und Verweise auf dessen 
Speicherort. Dies ermöglicht die gekachelte Darstellung von 
flächendeckenden Rasterdaten und verringert die Zeit für die Darstellung
 des Rasterlayers. Man fasst damit auch mehrere Rasterdateien in einem 
Layer zusammen.
</li><li> TILEINDEX erzeugen
</li><li> Legen Sie in ArcView einen neuen Polygonlayer an.
</li><li> Digitalisieren Sie die Rechtecke, die die darzustellenden Grafiken umschließen
</li><li> erzeugen Sie eine neue Spalte vom Typ string mit der am Dateinamen orientierten Länge, z.B. 50 oder besser 100 Zeichen.
</li><li> Die Bezeichnung der Spalte, in der die Verweise auf die 
Rasterdateien stehen, wird für den Parameter TILEITEM in der Map-Datei 
verwendet.
</li></ul>
<p>Anlegen eines TILEINDEX mit „gdaltindex“
</p>
<ul><li> Voraussetzung:
<dl><dd>Es liegen georeferenzierte Rasterdaten z.B. Luftbildkacheln vor.
 Die Georeferenzierung erfolgt bei TIFF-Daten über tfw-Dateien und bei 
JPEG-Daten über jgw-Dateien.
</dd><dd>  Der Inhalt der tfw- und jgw-Dateien ist identisch. Tiff-Daten
 lassen sich somit in JPEG umwandeln, was Speicherplatz spart und 
kürzere Ladezeiten ermöglicht. Die tfw- und tif-Dateien bzw. die jpg- 
und die jgw-Dateien sind sinnvollerweise in einem Verzeichnis unterhalb 
des Datenpfades z.B. /opt/lampp/var/data abzulegen.
</dd></dl>
</li></ul>
<p><br> 
</p>
<ul><li> Erzeugung des Index:
<dl><dd>      Infos über die Befehlssyntax von „gdaltindex“ erhält man 
durch Eingabe des Kommandos „gdaltindex“ ohne Parameter auf der 
Linux-Konsole.
</dd><dd>      Der Tileindex lässt sich einfach im Datenverzeichnis z.B. mit dem Kommando:
</dd></dl>
</li></ul>
<pre>„gdaltindex luftbilder luftbilder/*.jpg“
</pre>
<p>erzeugen. Hierbei ist der Verzeichnisname mit den Daten „luftbilder“ 
und das erzeugte shape-file mit dem Index heißt „luftbilder“. Es werden 3
 Dateien erzeugt. In diesem Beispiel luftbilder.shp, luftbilder.shx und 
luftbilder.dbf.
</p><p><br> 
</p>
<ul><li> Einbindung als Raster-Layer:
<dl><dd>      Es ist ein Rasterlayer in der Tabelle layer 
MySQL-Datenbank anzulegen. Der Tileindex muss jetzt lediglich in der 
Spalte „tileindex“ der Tabelle eingetragen werden. In diesem Beispiel 
ist der Eintrag „luftbilder.shp“ vorzunehmen.
</dd></dl>
</li></ul>
<p><br> 
</p>
<ul><li> Mögliche Probleme:
<dl><dd>      Wenns nicht gleich funktioniert sind zunächst die Rechte 
der Daten zu überprüfen und ggfs. mit „chmod“ z.B. auf 755 zu setzen.
</dd><dd>      Die Erzeugung eines Index über grössere Datenbestände 
kann schon mal etwas dauern. Das Kommando sollte dann aber ohne 
Fehlermeldungen durchlaufen.
</dd></dl>
</li></ul>
<p><br> 
</p><p>Hinweise zur Vergabe von Verzeichnis und Dateinamen
</p><p>Die Verwendung von Umlauten, Leerzeichen, Schrägstrichen oder sonstigen Sonderzeichen sollte vermieden werden.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=63" title="Dokumentation">bearbeiten</a>]</div><a name="Stelle"></a><h2>Stelle</h2>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=64" title="Dokumentation">bearbeiten</a>]</div><a name="Stelle_anlegen"></a><h3>Stelle anlegen</h3>
<p>Zum Anlegen einer neuen Stelle kann der Menüpunkt „Stelle Anlegen“ aus der Menügruppe „Stellenverwaltung“ verwendet werden.
</p><p>Zu einer Stelle können neue Menügruppen, Layer und Benutzer hinzugefügt werden.
</p><p>z.Z. können nur ganze Gruppen von Menüs hinzugefügt werden. Wenn 
einzelne Menüpunkte hinzugefügt werden sollen, am besten den Menüpunkt 
in der Tabelle 
</p><p>u_menues anlegen und einer Gruppe zuordnen, Reihenfolge beachten.
 Anschließend diese Gruppe aus der Stelle löschen und wieder neu 
hinzufügen. Dann werden 
</p><p>alle Untermenüs auch zu der Stelle übernommen.
</p><p>Die Rechte der Nutzer in den Stellen werden allgemein durch die 
Zuordnung der Layer und Menüpunkte geregelt. Die Rechte an extra in der 
Tabelle 
</p><p>u_funktionen eingetragenen Funktionen müssen extra in die Tabelle u_funktionen2stelle eingetragen werden.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=65" title="Dokumentation">bearbeiten</a>]</div><a name="Stellen_anzeigen"></a><h3>Stellen anzeigen</h3>
<p>Über den Menüpunkt „Stellen anzeigen“ der Menügruppe 
Stellenverwaltung können Stellen angezeigt werden, gelöscht und geändert
 werden.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=66" title="Dokumentation">bearbeiten</a>]</div><a name="Stellen_.C3.A4ndern"></a><h3>Stellen ändern</h3>
<p>Zur Änderung von Stellen siehe „Stelle anlegen“.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=67" title="Dokumentation">bearbeiten</a>]</div><a name="Maximale_Ausdehnung_des_Kartenfensters_f.C3.BCr_eine_Stelle_.C3.A4ndern"></a><h3>Maximale Ausdehnung des Kartenfensters für eine Stelle ändern</h3>
<p>Die Koordinaten für die maximale Ausdehnung des Kartenfensters einer 
Stelle läßt sich über die Angaben zu minxmax, minymax, maxxmax, maxymax 
in der 
</p><p>Tabelle stelle in der Zeile der entsprechenden Stelle ändern.
</p><p>Neben der maximalen Ausdehnung kann über das Setzen von Filtern 
(siehe Tabelle 'used_layer' -&gt; Filter) der Inhalt von Layern, dessen 
Objekte in der 
</p><p>PostgreSQL-Datenbank gehalten werden, stellenbezogen weiter eingeschränkt werden. 
</p><p>Einschränkung der Stellen bezüglich Inhalt des Kartenfensters und
 entsprechender räumlicher Anfragen, die mittels Raumbezug (Polygon) 
zuvor festgelegt 
</p><p>werden können, befindet sich z.Z. in der Entwicklung und wird in der nächsten Version zur Verfügung stehen!
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=68" title="Dokumentation">bearbeiten</a>]</div><a name="Filterverwaltung"></a><h3>Filterverwaltung</h3>
<p>Die Filterverwaltung ermöglicht nicht nur das stellenbezogene 
räumliche bzw. inhaltliche Einzuschränken von Layern, sondern auch deren
 Sachdaten. 
</p><p>Dazu wählt man den Menüpunkt „Filterverwaltung“ (go-Variable: 
"Filterverwaltung"). 
Hier wird als nächsten Schritt die entsprechende Stelle und dann der 
betroffene Layer mit Hilfe der Auswahllisten gewählt. Damit wird eine 
Liste von Attributen geladen, über die der Layer eingeschränkt werden 
kann. 
<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Filterverwaltung.jpg" class="image" title="Bild:Filterverwaltung.jpg"><img src="Dokumentation-Dateien/Filterverwaltung.jpg" alt="Bild:Filterverwaltung.jpg" longdesc="/index.php/Bild:Filterverwaltung.jpg" height="452" width="636"></a>
</p><p>Zu jedem Attribut kann jetzt ein Wert festegelegt werden, um den 
der Layer eingeschränkt werden soll. Mit den Operatoren lassen sich die 
Einschränkungen noch flexibler gestallten, wie in den folgenden 
Beispielen gezeigt wird:
</p><p><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Filter1.jpg" class="image" title="Bild:filter1.jpg"><img src="Dokumentation-Dateien/Filter1.jpg" alt="Bild:filter1.jpg" longdesc="/index.php/Bild:Filter1.jpg" height="28" width="387"></a>
</p><p>1.	 
In diesem Beispiel werden nur Informationen vom Layer ausgegeben, die den Wert „132100“ im Attribut „gemkgschl“ aufweisen.
</p><p><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Filter2.jpg" class="image" title="Bild:filter2.jpg"><img src="Dokumentation-Dateien/Filter2.jpg" alt="Bild:filter2.jpg" longdesc="/index.php/Bild:Filter2.jpg" height="28" width="387"></a>
</p><p>2.  
Wie in diesem Beispiel können den Werten auch Platzhalter hinzugefügt 
werden. Hier werden all Layerinformationen ausgegeben, die im Attribut 
„gemkgschl“ mit dem Wert „1321“ beginnen. Platzhalter lässt sich 
beliebig verschieben. 
</p><p>Ist einem Layer eine Geometrie zugeordnet, wird in der Liste der 
Attribute „the_geom“ geladen. In dem Fall ist es möglich die 
Einschränkung zum Layer räumlich durch ein Polygon festzulegen. Dazu 
wählt man als Wert „Polygon“ ( ) an und legt im Anschluss das Polygon im
 Kartenfenster fest. Als Operator kann man zwischen „Intersects“ oder 
„Within“ wählen. „Intersects“ schränkt die Objekte des Layers räumlich 
so ein, dass alle Objekte die vom Polygon geschnitten oder innerhalb des
 Polygons liegen abfragbar sind und dargestellt werden. Der 
„Within“-Operator stellt dabei nur die Objekte dar, die zu 100% 
innerhalb des Polygons liegen.
</p><p>Als letzter Schritt müssen die Einstellungen noch mit dem „Speichern“-Button gesendet bzw. gespeichert werden. 
</p><p>Um die Einschränkungen eines Layer zu ändern, löscht man die 
entsprechenden Werte zu den Attributen oder ersetzt diese durch neue 
Werte. Im Falle einer räumlichen Einschränkung durch ein Polygon reicht 
es, wenn der Wert „Polygon“ zum Attribut „the_geom“ deaktiviert  und die
 Änderung gespeichert wird. Um ein Polygon neu zu übernehmen, aktiviert 
man den Wert „Polygon“, löscht das geladene Polygon und legt ein neues 
Polygon fest, dass dann wieder gespeichert wird. 
</p><p>Die Attribute, die geladen werden entsprechen den Attributen, die
 in dem select-Statement der Tabelle „layer“ in der Spalte „data“ zu 
einem Layer eingetragen sind. Soll ein Layer durch mehr Attribut 
eingeschränkt werden, muss das select-Statement um diese Attribut zuvor 
erweitert werden. Die Attribute entsprechen den Spaltennamen in der 
Tabelle, in der die Objekte des Layers gehalten werden.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=69" title="Dokumentation">bearbeiten</a>]</div><a name="Nutzerverwaltung"></a><h2>Nutzerverwaltung</h2>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=70" title="Dokumentation">bearbeiten</a>]</div><a name="Authentifizierung_.C3.BCber_PHP"></a><h3>Authentifizierung über PHP</h3>
<p>Seit der Version 1.6.5 erfolgt die Authentifizierung über PHP und die
 für die Nutzereinstellungen verwendete MySQL Datenbank. Das PHP Skript 
prüft ob ein Benutzer sich bereits authentifiziert hat, wenn nicht, 
erscheint ein Dialog zur Eingabe von Benutzername und Passwort. Nach 
absenden diese Formulares wird in der MySQL Datenbank von kvwmap 
nachgesehen ob der Benutzername zum Passwort passt.
</p>
<div class="floatright"><span><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Anmeldung.png" class="image" title="Anmeldefenster"><img src="Dokumentation-Dateien/Anmeldung.png" alt="Anmeldefenster" longdesc="/index.php/Bild:Anmeldung.png" height="151" width="242"></a></span></div>
<p>Wenn ja, wird der Benutzername in einer Sessionvariable gespeichert 
und für die Session immer mitgeführt. Damit die Sessionfunktion für PHP 
auch funktioniert, muss in der php.ini die Variable 
session.auto_start=1; gesetzt sein. Danach erfolgen die weiteren 
Prüfungen, die aber dann genauso wie die Prüfung der Authentifizierung 
immer wieder ausgeführt werden. Erst wenn man sich eine bestimmte Zeit 
nicht beim Server gemeldet hat, wird die Session gelöscht und man muss 
sich wieder neu anmelden. Die Dauer der Gültigkeit der Session ist 
standardmäßig bei 24 Minuten (1440 Sekunden). Möchte man das ändern, 
kann man das über den Parameter session.gc_maxlifetime in der php.ini 
Datei. Nach der Änderung Apache neu starten oder graceful. Die 
Authentifizierung erfolgt in der Datei login.php in snippets. Dort kann 
man auch das Layout des Anmeldefensters anpassen. Wenn man seine eigene 
Datei bei update schützen möchte, lege man diese in snippets/custum ab 
und ändere den Pfad auf die Datei login.php in index.php in der Zeile:
</p>
<pre>  include(LAYOUTPATH.'snippets/login.php');
</pre>
<p>PHP Authentifizierung bedeutet also für alle, die kvwmap von 
vorherigen Versionen kennen, dass die Authentifizierung über den 
Web-Server wegfallen kann. Die in der Apache Konfiguration vorgenommenen
 Einschränkungen bezüglich der Authentifizierung können also 
herausgenommen werden, jedoch sollte man überlegen die Restriktionen der
 IP´s oder IP Bereiche weiterhin aufrecht zu erhalten. Also z.B. 
</p>
<pre> Order deny,allow
 Deny from all
 Allow from 139.30.110.0/255.255.255.0 # Ein ganzes Netz freigeben
 Allow from 62.159.207.22 # Einen Einzelnen Rechner freigeben
</pre>
<p>Dies ist unabhängig von der Persönlichen Authentifizierung.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=71" title="Dokumentation">bearbeiten</a>]</div><a name="Authentifizierung_.C3.BCber_den_Web-Server"></a><h3>Authentifizierung über den Web-Server</h3>
<p>Nutzer von kvwmap müssen sich authentifizieren, damit die Anwendung 
weiß wen sie vor sich hat. Alle benutzerseitigen Einstellungen werden 
über den Benutzernamen gesteuert, die der Web-Server liefert, wenn die 
Authentifizierung anerkannt wurde.
</p><p>Es gibt mehrere Möglichkeiten der Authentifizierung mit Apache siehe Dokumentation: <a href="http://httpd.apache.org/docs/2.0/howto/auth.html" class="external free" target="_blank" title="http://httpd.apache.org/docs/2.0/howto/auth.html" rel="nofollow">http://httpd.apache.org/docs/2.0/howto/auth.html</a>
</p><p>Neben der Authentifizierung über das Standardmodul mod_auth kann 
auch mod_auth_mysql verwendet werden. Wir der Name schon sagt erfolgt 
dabei die Authentifizierung über eine MySQL-Datenbank und ist das 
sinnvollerweise die kvwmap-Datenbank, wenn man nicht schon eine andere 
Datenbank mit den Benutzern hat.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=72" title="Dokumentation">bearbeiten</a>]</div><a name="Authentifizierung_mit_Apache_und_MySQL"></a><h4>Authentifizierung mit Apache und MySQL</h4>
<p>mod_auth_mysql.so sollte im Ordner modules vom apache Verzeichnis zu 
finden sein. Wenn nicht downloaden und compilieren nach 
Installanweisungen.
</p>
<dl><dd>--<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Benutzer:HolgerR" title="Benutzer:HolgerR">HolgerR</a> 10:54, 9. Aug 2006 (CEST)
</dd><dd>Unter SuSE Version &gt; 9 müssen apache2-devel und mysql-devel 
installiert sein, damit einerseits apxs2 auf dem System vorhanden ist 
und andererseits die Bibliotheken von mysql zur Verfügung stehen
</dd></dl>
<p>Man muss zunächst in der httpd.conf das Modul mod_auth_mysql einbinden
</p><p>Also das Komentarzeichen von folgender Zeile wegnehmen:
</p><p>LoadModule mysql_auth_module modules/mod_auth_mysql.so
</p><p>Dadurch wird in der Zeile:
</p>
<pre>&lt;IfModule mod_auth_mysql.c&gt;
   Include conf/mod_auth_mysql.conf
&lt;/IfModule&gt;

</pre>
<p>Ebendieses Konfigurationsdatei geladen. Der entscheidende Teil für 
kvwmap sieht folgendermassen aus und muss für die eigene Version, das 
eigene Verzeichnis angepasst werden. Hier ist kvwmap_1.5.7 das zu 
schützende Verzeichnis
</p><p><br>
</p>
<pre>&lt;Location /kvwmap-1.5.7&gt;
 AuthName "MySQL Secured Place"
 AuthType Basic
 require valid-user
 AuthMySQLHost localhost
 # Der Name der Datenbank wo die Nutzer drin stehen.
 AuthMySQLDB kvwmap
 # Der Name des Nutzers, der sich da anmelden soll bei der Datenbank zum   nachsehen.
 AuthMySQLUser apachedemon
 AuthMySQLPassword # Das Passwort von apachedemon wenn es eins hat.
 AuthMySQLUserTable user # Die Tabelle wo die Nutzer drin stehen.
 AuthMySQLNameField login_name # Die Spalte wo die loginnamen drin stehen.
 AuthMySQLPasswordField passwort # Die Spalte wo die Passwörter drin stehen.
 # Setzen von Bedingungen, z.B. Einschraenkung des Zugriffs auf die Funktion --<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Benutzer:HolgerR" title="Benutzer:HolgerR">HolgerR</a> 18:02, 3. Aug 2006 (CEST)
 AuthMySQLUserCondition "Funktion = 'user'" # Mehrere Bedingungen in Klammern setzen; Verknüpfungen mit 'and' 'or' moeglich
 ## AuthMySQLGroupTable user_grp (here do not modify this for the simple test!)
 ## AuthMySQLGroupField group (here do not modify this for the simple test!)
 AuthMySQLPwEncryption none # Hier kann man einschalten, das verschlüsselte
 #Passwörter erkannt werden. (z.B. md5 oder crypt)
&lt;/Location&gt;

</pre>
<p>Infos unter <a href="http://modauthmysql.sourceforge.net/CONFIGURE" class="external free" target="_blank" title="http://modauthmysql.sourceforge.net/CONFIGURE" rel="nofollow">http://modauthmysql.sourceforge.net/CONFIGURE</a>
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=73" title="Dokumentation">bearbeiten</a>]</div><a name="Nutzer_anlegen"></a><h3>Nutzer anlegen</h3>
<div class="center"><div class="floatnone"><span><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Image018.jpg" class="image" title=""><img src="Dokumentation-Dateien/Image018.jpg" alt="" longdesc="/index.php/Bild:Image018.jpg" height="423" width="553"></a></span></div></div>
<p>Zum Anlegen eines neuen Nutzers wählt man den Menüpunkt „Nutzer 
anlegen“ im Obermenü Nutzerverwaltung. Es erscheint der Benuterdaten 
Editor wie in Abbildung dargestellt. Man trägt mindestens die Werte mit *
 ein und sendet das Formular mit „Als neuen Nutzer eintragen“ ab. Der 
eingetragene Nutzer hat anschließend sofort zugriff auf die Stellen, die
 im Feld „Berechtigte Stellen“ zugewiesen wurden.
</p><p>Nur beim erstmaligen anlegen muss man das Password festlegen. Die
 Rechte des Nutzers werden über die Zuordnung der Rechte zu den Stellen 
definiert.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=74" title="Dokumentation">bearbeiten</a>]</div><a name="Nutzer_.C3.A4ndern"></a><h3>Nutzer ändern</h3>
<p>Um Nutzerdaten zu ändern wählen Sie erst „Nuter anzeigen“ und dann „ändern“ oder „löschen“.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=75" title="Dokumentation">bearbeiten</a>]</div><a name="Layer"></a><h2>Layer</h2>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=76" title="Dokumentation">bearbeiten</a>]</div><a name="Zeichnungsreihenfolge_von_Layern_.C3.84ndern"></a><h3>Zeichnungsreihenfolge von Layern Ändern</h3>
<ul><li> Öffnen Sie kvwmap
</li><li> Wählen Sie unter dem Menüpunkt Stellenverwaltung den Eintrag "Stellen anzeigen". 
</li><li> Klicken Sie bei der gewünschten Stelle auf den Link "Layer". 
</li><li> Hier werden jetzt alle dieser Stelle zugeordneten Layer 
aufgelistet und man kann die Zeichenreihenfolge anpassen (größere Zahl =
 Layer oberhalb).
</li><li> Die Angaben werden in MySQL in der Tabelle used_layer, Spalte 
drawingorder abgelegt (Stelle_ID und Layer_ID können in den Tabellen 
stelle und layer nachgeschlagen werden)
</li></ul>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=77" title="Dokumentation">bearbeiten</a>]</div><a name="Layer_zu_einer_Stelle_hinzuf.C3.BCgen"></a><h3>Layer zu einer Stelle hinzufügen</h3>
<ul><li> Nachschlagen der Stellen_ID in Tabelle stelle, von der Stelle, zu der ein Layer hinzugefügt werden soll.
<dl><dd>Wenn die Stelle noch nicht vorhanden ist, siehe neue Stelle anlegen.
</dd></dl>
</li><li> Nachschlagen der Layer_ID in Tabelle layer vom Layer, der zur Stelle hinzugefügt werden soll.
<dl><dd>Wenn der Layer noch nicht vorhanden ist, siehe neuen Layer anlegen.
</dd></dl>
</li><li> Eintragen der Zugehörigkeit des Layers zur Stelle in der Tabelle used_layer
<ul><li>  used_layer_id = wird automatisch vergeben (Autowert, Inkrementell)
</li><li>  Stelle_ID = nachgeschlagene Nummer für Stelle
</li><li>  Layer_ID = nachgeschlagene Nummer für Layer
</li><li>  Status = 0
</li><li>  aktivStatus = 1 wenn der Layer gleich sichtbar sein soll, sonst 0
</li><li>  drawingorder = hängt davon ab an welcher Stelle der 
Reihenfolge der Layer gezeichnet werden soll. Schlagen sie die schon 
eingetragenen Nummern für die anderen Layer der Stelle in der Tabelle 
used_layer nach. Kleinere Nummern werden zuerst gezeichnet, größere 
später und überzeichnen vorherige. Rasterdaten sollten zuerst gezeichnet
 werden, da sie sonst andere Layer überdecken. siehe auch 
Zeichnungsreihenfolge von Layern Ändern
</li><li>  Die anderen Felder können Sie erstmal so lassen
</li><li>  Klicken Sie im Browser auf "neu Laden" aktivieren Sie den 
Layer und klicken noch mal "neu Laden". Ändern Sie ggf. nach Wunsch die 
Reihenfolge der Layer.
</li></ul>
</li></ul>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=78" title="Dokumentation">bearbeiten</a>]</div><a name="Neuen_Layer_anlegen"></a><h3>Neuen Layer anlegen</h3>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=79" title="Dokumentation">bearbeiten</a>]</div><a name="Vektor_Layer"></a><h4>Vektor Layer</h4>
<ul><li> Dateien des Layers in das Datenverzeichnis data des Servers 
kopieren. Das befindet sich in der www-root in der Regel unter 
/usr/local/httpd/htdocs/ oder bei XAMPP unter /opt/lampp/htdocs.
<dl><dd>Wenn es sich um eine neue Datenkategorie handelt, z.B. Daten zur
 Bebauungsplanung sollte aus Gründen der Übersichtlichkeit ein extra 
Ordner angelegt werden. Die Hinweise zur Vergabe von Datei- und 
Verzeichnisnamen sollten beachtet werden.
</dd></dl>
</li><li> Neuen Layer in der Tabelle layer anlegen
<ul><li>  Layer_ID wird von der Datenbank selbst vergeben.
</li><li>  Name ist der Name der dann auch in der Legende erscheint
</li><li>  Datenart
</li><li>  1 wenn es ein Punktlayer ist
</li><li>  wenn es ein Polygonlayer ist
</li><li>  wenn es ein Rasterlayer ist
</li><li>  In Gruppe wird die Zugehörigkeit zur Datenkategorie gekennzeichnet. (Rote Bezeichnung in der Legende)
</li><li>  pfad kann frei bleiben
</li><li>  In Data wird der Speicherort der Dateien eingetragen ohne 
Dateiendung. Wenn die Daten in einem Unterverzeichnis liegen, dieses mit
 angeben, z.B. Umwelt/biotope
</li><li>  tileindex und tileitem entfällt für Vektorlayer
</li><li>  In der Spalte labelitem steht der Name der Spalte aus der 
später mal Angaben für die Beschriftung des Layers entnommen werden 
sollen.
</li><li>  In der Spalte labelmaxscale gibt man an, ab welcher Maßstabszahl der Layer frühestens gezeichnet werden soll.
</li></ul>
</li><li> Klasse für Layer definieren
</li><li> Layer zur Stelle hinzufügen
</li><li> Für die Sachdatenabfrage des neuen Vektorlayers ist ein 
Template (Vorlage) anzulegen in dem definiert wird welche Sachdaten aus 
der DBF-Tabelle des Layers mit welchem Layout dargestellt werden soll.
</li><li> Am einfachsten ist es ein Template eines schon vorhandenen 
Layers zu kopieren. Der Name der Template-Datei muss dem Namen des 
Layers entsprechen, die Endung .php besitzen und im Verzeichnis 
kvwmap_Versionsnummer/layouts/snippets liegen. Wenn Sie die Konstanten 
LAYOUTPATH und/oder SNIPPETS in der Datei config.php anpassen, kann das 
Templatefile auch an anderer Stelle stehen.
</li></ul>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=80" title="Dokumentation">bearbeiten</a>]</div><a name="RasterLayer"></a><h4>RasterLayer</h4>
<ul><li> Rasterdateien in das Datenverzeichnis des Web-Servers kopieren.
<dl><dd>Wenn es sich um eine neue Datenkategorie handelt, z.B. Daten zur
 Bebauungsplanung sollte aus Gründen der Übersichtlichkeit ein extra 
Ordner angelegt werden. Die Hinweise zur Vergabe von Datei- und 
Verzeichnisnamen sollten beachtet werden.
</dd></dl>
</li><li> Wenn die Rasterdaten in einer gekachelten Darstellung 
angezeigt werden sollen (TILE) muss auch eine Shape-Datei mit den 
Verweisen zu den Rasterkarten in das Datenverzeichnis kopiert werden. 
Die Hinweise zum Anlegen eines TILEINDEX sind zu beachten.
</li></ul>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=81" title="Dokumentation">bearbeiten</a>]</div><a name="Beschriftung_f.C3.BCr_Layer_anlegen"></a><h3>Beschriftung für Layer anlegen</h3>
<ul><li> Spalte des Layers auswählen welche den Text für die Beschriftung enthält.
</li><li> Eintragen des Spaltennamens in die Tabelle layer in das Feld labelitem.
</li><li> Eintragen der maximalen Maßstabszahl in der die Beschriftung noch angezeigt werden soll in das Feld labelmaxscale
</li><li> Eintragen des Styles (Label_ID) für die Beschriftung in der 
Tabelle classes für die entsprechende Klasses des Layers, die 
Beschriftet werden soll in der Spalte Label_ID.
</li><li> Entweder eine vorhandene Label_ID aus der Tabelle labels übernehmen oder eine neue Labeldefinition anlegen.
</li></ul>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=82" title="Dokumentation">bearbeiten</a>]</div><a name="Neue_Klasse_f.C3.BCr_Layer_anlegen"></a><h3>Neue Klasse für Layer anlegen</h3>
<ul><li> Eintragen der neuen Klasse in die Tabelle classes.
</li><li> Die Class_ID wird automatisch vergeben.
</li><li> Der Name ist der Name unter der die Klasse in der Legende aufgeführt ist.
</li><li> Bei Layer_ID geben Sie die Nummer des Layers ein, zu dem die Klasse gehören soll.
</li><li> Für Style_ID geben Sie eine Nummer die das Aussehen der 
Zeichnungselemente der Klasse definiert. Styles sind in der Tabelle 
Styles vorgegeben. Siehe neuen Style anlegen.
</li><li> In der Spalte Expression wird der logische Ausdruck 
ausgegeben, der die Klasse hinsichtlich seiner Sachdaten definiert. z.B.
 werden mit "Objart = 1000" nur die Features angezeigt, die in der 
Spalte der DBF-Datei eine 1000 stehen haben.
</li><li> Die Spalte Label_ID ist für die Beschriftung der Klasse. siehe Neuen Beschriftungstyp einrichten
</li></ul>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=83" title="Dokumentation">bearbeiten</a>]</div><a name="Neuen_Layer_aus_PostGIS_anlegen"></a><h3>Neuen Layer aus PostGIS anlegen</h3>
<ul><li> Es gibt verschiedene Möglichkeiten Daten in PostGIS einzubinden um diese als Layer für MapServer nutzen zu können.
<dl><dd>Man kann z.B. von einer vorhandenen Shape-Datei aus mit shp2sql 
eine SQL-Datei generieren und die Tabelle mit samt Geometryspalte, Index
 und Inhalt erzeugen.
</dd><dd>Dazu wird das in PostGIS mitgelieferte Skript shp2sql ausgeführt (siehe mapserver-wiki) .
</dd></dl>
</li><li> shp2pgsql &lt;shapedateiname&gt; public.&lt;tabellenname&gt; | psql -d &lt;datenbankname&gt;
</li><li> Wer die Tabelle selbst definieren will geht folgendermassen vor:
<ul><li> Definieren der Tabelle und absenden über einen SQL-Datenbank Client
<dl><dd>Die möglichen Datentypen finden Sie in der Dokumentation zu postgres.
</dd><dd>Nachfolgend ein Beispiel für eine Tabelle zur Aufnahme von bodenrichtwertzonenn.
</dd></dl>
</li></ul>
</li></ul>
<p><br> 
</p>
<pre>CREATE TABLE bw_bodenrichtwertzonen(
  oid int8 NOT NULL DEFAULT 0,
  gmeinde_id int8 NOT NULL DEFAULT 0,
  zonennummer int8 NOT NULL DEFAULT 0,
  standort varchar(255),
  richtwertdefinition varchar(50),
  bodenwert int8,
  erschliessungsart varchar(20),
  sanierungsgebiet varchar(50),
  sichtbar bool NOT NULL DEFAULT true,
  stichtag date
);
</pre>
<p><br>
ALTER TABLE bw_bodenrichtwertzonen OWNER TO doberan;
</p><p>Die Tabelle muß die Systemspalte oid besitzen um von MapServer 
gelesen werden
zu können. Wenn man nicht WITHOUT oid angibt, wird dieser Index intern 
selbständig angelegt und man muß sich nicht darum kümmern. Die Anzahl 
der Objekte kann dann 2*2147483647 betragen. Mehr mehr will muß diesen 
Schlüssel selbst anlegen. (siehe auch PostgreSQL Doku)
</p>
<ul><li>Anschließend werden die Geometry-Spalten angelegt.
<dl><dd>Im Beispiel eine für den Umring der Bodenrichtwertzone mit EPSG-Code Gauß/Krüger 4. 3°-Streifen auf 
</dd></dl>
</li></ul>
<p>Krassowskie-Ellipsoid (42/83):
</p><p>SELECT AddGeometryColumn('public', 'bw_bodenrichtwertzonen','umring',2398,'POLYGON', 2)
</p><p>und eine für die Position der Beschriftung:
</p><p>SELECT AddGeometryColumn('public', 'bw_bodenrichtwertzonen','textposition',2398, 'POINT', 2)
</p><p>Der Syntax ist in der PostGIS Dokumentation beschrieben.
</p><p>Im nächsten Schritt werden Geometryindizee über die Tabellen gelegt.
</p><p>CREATE INDEX bw_bodenrichtwertzonen_umring_gist ON bw_bodenrichtwertzonen USING GIST ( umring GIST_GEOMETRY_OPS );
</p><p>CREATE INDEX bw_bodenrichtwertzonen_textposition_gist ON bw_bodenrichtwertzonen USING GIST ( textposition GIST_GEOMETRY_OPS );
</p><p>Eine Anleitung dazu findet man unter GIST-Indexes in der PostGIS-Doku
</p>
<ul><li> Als nächstes kann dann diese Tabelle als Layer in die Map-Datei oder Objekt Definition eingebunden werden.
<dl><dd>Das erfolgt über eine Abfrage. Was genau in dem Layer 
dargestellt werden soll, wird in der Anweisung Data des Map-Objektes 
definiert.
</dd><dd>Wenn z.B. die Umringe im Layer dargestellt werden sollen muss in es folgendermaßen heißen.
</dd></dl>
</li><li> CONNECTION "user=&lt;datenbanknutzername&gt; dbname=&lt;datenbankname&gt; host=&lt;hostname&gt;"
</li><li> DATA "umring FROM bw_bodenrichtwertzonen"
</li><li> Das Äquivalent in kvwmap wird in der Tabelle layer definiert. 
Der SQL-Text "umring FROM bw_bodenrichtwertzonen" wird in der Spalte 
Data abgelegt.
<dl><dd>Der Datentyp ist hier ein Polygon also Nummer 2. Connectiontyp 6
 definiert, daß es sich um einen PostGIS Layer handelt und in Connection
 kommt ein String der Form:
</dd><dd>"user=&lt;benutzername&gt; dbname=&lt;datenbankname&gt;".
</dd></dl>
</li><li> Wenn die Texte genau an den Positionen der abgespeicherten Punkte ausgegeben werden sollen nutzt man die Abfrage:
</li><li> textposition FROM bw_bodenrichtwertzonen
</li><li> Über eine WHERE Klausel in der SQL-Abfrage die Data zugeordnet
 wird, kann eine Selektion erfolgen. Um z.B. nur die Bodenrichtwertzonen
 zum Stichtag 31.12.2002 darzustellen gibt man folgendes ein:
</li></ul>
<p>umring FROM bw_bodenrichtwertzonen WHERE stichtag = '2002-12-31'
</p>
<ul><li> Möchte man einen Layer nicht von einer bestehenden Tabelle 
erzeugen, sondern von einer in PostgreSQL vorgefertigten Sicht, muss man
 dafür gesorgt haben, dass die Geometriespalte in der Abfrage auch in 
der Tabelle geometry_colums aufgeführt ist, sonst kann die srid nicht 
zugeordnet werden.
</li></ul>
<p><br>
Wie eine räumliche Einschränkung erfolgt ist im Abschnitt Retrieving GIS Data in der PostGIS-Doku beschrieben
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=84" title="Dokumentation">bearbeiten</a>]</div><a name="WMS-Layer_anlegen"></a><h3>WMS-Layer anlegen</h3>
<p>Zum Anlegen eines WMS-Layers muss man mindestens den getCapabilities Request des WMS kennen. Beispiel für einen WMS, den das <a href="http://www.lung.mv-regierung.de/insite/cms/umwelt/gis/kartenportal/kartendienste.htm" class="external text" target="_blank" title="http://www.lung.mv-regierung.de/insite/cms/umwelt/gis/kartenportal/kartendienste.htm" rel="nofollow">LUNG</a> zur Verfügung stellt (Umbrüche nur für die bessere Lesbarkeit):
</p>
<pre><a href="http://www.umweltkarten.mv-regierung.de/script/lung_wms_wms.php" class="external free" target="_blank" title="http://www.umweltkarten.mv-regierung.de/script/lung wms wms.php" rel="nofollow">http://www.umweltkarten.mv-regierung.de/script/lung_wms_wms.php</a>? //
VERSION=1.1.1&amp;SERVICE=WMS&amp;REQUEST=GetCapabilities&amp;LAYERS=t7_versalzung&amp;FORMAT=image/png&amp;STYLE=default
</pre>
<p>(Merkwürdigerweise steht dort in der OnlineResource 
"request=GetLegendGraphic", was uns aber zeigt, dass der Dienst auch 
eine Legende liefern kann). Ein GetMap-Aufruf könnte also <a href="http://www.umweltkarten.mv-regierung.de/script/lung_wms_wms.php?VERSION=1.1.1&amp;SERVICE=WMS&amp;REQUEST=GetMap&amp;LAYERS=t7_versalzung&amp;WIDTH=600&amp;HEIGHT=500&amp;BBOX=348800,5999707,374749,6021620&amp;FORMAT=image/png&amp;STYLE=default&amp;SRS=EPSG:25833" class="external text" target="_blank" title="http://www.umweltkarten.mv-regierung.de/script/lung wms wms.php?VERSION=1.1.1&amp;SERVICE=WMS&amp;REQUEST=GetMap&amp;LAYERS=t7 versalzung&amp;WIDTH=600&amp;HEIGHT=500&amp;BBOX=348800,5999707,374749,6021620&amp;FORMAT=image/png&amp;STYLE=default&amp;SRS=EPSG:25833" rel="nofollow">beispielsweise</a> so aussehen:
</p>
<pre><a href="http://www.umweltkarten.mv-regierung.de/script/lung_wms_wms.php" class="external free" target="_blank" title="http://www.umweltkarten.mv-regierung.de/script/lung wms wms.php" rel="nofollow">http://www.umweltkarten.mv-regierung.de/script/lung_wms_wms.php</a>? //
VERSION=1.1.1&amp;SERVICE=WMS&amp;REQUEST=GetMap&amp;LAYERS=t7_versalzung&amp; //
WIDTH=600&amp;HEIGHT=500&amp;BBOX=348800,5999707,374749,6021620&amp; //
FORMAT=image/png&amp;STYLE=default&amp;SRS=EPSG:25833
</pre>
<p><br>
Beim Koordinatenreferenzsystem (SRS) ist darauf zu achten, dass eins 
ausgewählt wird, das der Dienst im getCapabilities auch unterstützt. Der
 hier beispielhaft aufgeführte WMS unterstützt z.B. nicht den EPSG:2398.
 Im kvwmap-WMS-Layer bleiben die Felder <i>Query</i> und <i>Data</i> leer. Im Feld <i>Connection</i>
 wird der statische Teil des GetMap-Requests eingetragen, also alle 
Parameter, die sich beim Dienst-Aufruf nicht ändern. Im Beispiel also:
</p>
<pre><a href="http://www.umweltkarten.mv-regierung.de/script/lung_wms_wms.php" class="external free" target="_blank" title="http://www.umweltkarten.mv-regierung.de/script/lung wms wms.php" rel="nofollow">http://www.umweltkarten.mv-regierung.de/script/lung_wms_wms.php</a>? //
VERSION=1.1.1&amp;REQUEST=GetMap&amp;SERVICE=WMS&amp;SRS=EPSG:25833&amp;LAYERS=t7_versalzung&amp;FORMAT=image/png&amp;STYLE=default
</pre>
<p>Der <i>ConnectionType</i> ist "MS_WMS" (7) und als <i>Datentyp</i> 
wird "MS_Layer_Raster" (3) gewählt. Alle anderen Einstellungen erfolgen 
wie bei einem normalen Rasterlayer. Queryable kann auf "ja" gestellt 
werden, wenn eine Sachdatenabfrage auf den Dienst sinnvoll erscheint und
 im getCapabilities zu sehen ist, dass der WMS auch überhaupt abfragbar 
ist ("&lt;Layer queryable = '1' ... &gt;"). In dem Fall muss im Feld <i>Template</i> "getfeatureinfo.php" als Anzeigetemplate eingetragen werden.
</p><p><br>
Wenn in der kvwmap-Legende der WMS-Layer mit Legende erscheinen soll, 
ist im Layer eine Klasse anzulegen. Die Klasse muss einen Namen bekommen
 - welcher spielt keine Rolle, weil er nicht angezeigt wird.
</p><p><br>
Wenn der WMS Transparenz unterstützt, zeichnet ihn kvwmap auch 
transparent. Es ist also in den stellenabhängigen Eigenschaften keine 
Transparenz anzugeben, lediglich die Drawingorder muss berücksichtigt 
werden. Ob der WMS-Layer transparent gezeichnet werden kann, kann man im
 GetCapabilities-Dokument erkennen ("&lt;Layer opaque = '0' ... &gt;").
<br><br>
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=85" title="Dokumentation">bearbeiten</a>]</div><a name="SQL-Skriptunterst.C3.BCtzung_zum_Anlegen_eines_neuen_Layers"></a><h3>SQL-Skriptunterstützung zum Anlegen eines neuen Layers</h3>
<p>Insbesondere für neue Fachschalen ist es nützlich, wenn das Anlegen 
von Layern für eine Vielzahl von Stellen automatisiert werden kann. Dazu
 wurden eine Reihe von SQL-Befehlen in die Datei mysql_install.sql 
gepackt.
</p><p>Im oberen Teil befinden sich SQL-Statements für die 
Aktualisierung des Datenbankmodells und Konstanen, z.B. für den 
Benutzernamen und den Namen der Datenbank zum Zugriff auf PostGIS Layer.
</p><p>Die SQL-Statements für Aktualisierungen des Datenbankmodells sind
 mit einem Datum versehen, so dass man selber abchecken kann ob sein 
Datenbankmodell noch aktuell ist. Insbesondere können solche Änderungen 
über Versionswechsel hinweg erfolgen. Meistens sind es zusätzliche 
Attribute, neue Tabellen für n-m Verknüpfungen oder die Änderung von 
Datentypen.
</p><p>Die weiteren Statements sind zusammengefasst für die Fachschalen.
 Die einzelnen Statements sind kommentiert. Wer z.B. erstmalig einen 
Layer für die Bodenrichtwertzonen anlegt führt kopiert sich die 
Konstantendefinition in ein SQL-Fenster (z.B. in phpMyAdmin) und 
anschließend den Teil unter Bodenrichtwertzonen. Nach dem Ausführen 
sollte in der entsprechenden Stelle der Layer sofort verfügbar sein. 
Dazu sind aber auch einige Ersetzungen im Skript vorzunehmen. 
Gekennzeichnet sind diese Ersetzungsmöglichkeiten z.B. durch # Achtung 
Stelle_ID anpassen.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=86" title="Dokumentation">bearbeiten</a>]</div><a name="Metadatenlayer"></a><h3>Metadatenlayer</h3>
<p>Um einen Layer einzurichten, der die räumlichen Ausdehnungen der 
durch die Metadaten beschriebenen Daten und Dienste darstellt, sind 
folgende Angaben für Pfad und Layer zu verwenden:
</p>
<pre>Pfad: SELECT oid,*,AsText(the_geom) AS umringtxt FROM md_metadata WHERE (1=1)
</pre>
<pre>Data: the_geom from md_metadata
</pre>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=87" title="Dokumentation">bearbeiten</a>]</div><a name="Men.C3.BCverwaltung"></a><h2>Menüverwaltung</h2>
<p>Die auf der linken Seite angezeigten Menüpunkte sind immer einer 
Stelle zugewiesen. Welche Menüpunkte zu welchen Stellen gehören, kann in
 der Stellenverwaltung eingestellt werden. Menüs sind in Ober- und 
Untermenüs aufteilbar. In der Stellenverwatlung können derzeit nur 
Obermenüpunkte der Stelle zugeordnet werden.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=88" title="Dokumentation">bearbeiten</a>]</div><a name="Neuen_Men.C3.BCpunkt_anlegen"></a><h3>Neuen Menüpunkt anlegen</h3>
<p>Wenn der Obermenüpunkt schon existiert, muss nur noch der Unterpunkt 
angelegt werden, ansonsten beide, jedoch erst der Obermenüpunkt. Für das
 Anlegen eines neuen Menüpunktes sind die nachfolgend beschriebenen 
Arbeiten auszuführen. 
</p>
<ul><li> Eintragen des Menüpunktes in die Tabelle u_menues.
<ul><li> id ist eine fortlaufende Nummer
</li><li> die Angabe in der Spalte name ist der Text, der als Menüpunkt 
in der GUI erscheint. Hier können auch deutsche Umlaute enkodiert 
werden, z.B. &amp;auml für ä
</li><li> links enthält die Angabe des Anwendungsfalles, der aufgerufen 
werden soll. Wenn es ein Obermenüpunkt sein soll, ist hier 
index.php?go=changemenue einzutragen.
</li><li> bei obermenue ist die ID des Obermenüpunktes anzugeben, in dem
 das Menü enthalten sein soll. Ist es selbst ein Obermenü, kommt hier 
eine 0 rein
</li><li> In menueebene kommt eine 1, wenn es ein Obermenü ist sonst eine 2 für Untermenü
</li><li> In target kann optional gewählt werden, ob die Seite hinter 
dem Menüpunkt in einem neuen Fenster aufgehen soll oder im aktuellen, in
 dem das Menü ist. _blank öffent den Menüpunkt in einem neuen Fenster. 
Das reservierte Wort confirm sorgt dafür, dass die Ausführung des Punkte
 noch einmal vorab bestätigt werden muss und ggf. abgebrochen werden 
kann.
</li></ul>
</li></ul>
<ul><li> Beispiel: Eintragen des Übermenüpunktes in u_menues
</li></ul>
<pre>INSERT INTO `u_menues` ( `id` , `name` , `links` , `obermenue` , `menueebene` , `target` )
VALUES (NULL , 'Drucken', 'index.php?go=changemenue', '0', '1', NULL);
</pre>
<p>Fragen Sie anschließend die dabei erzeugte id in der Tabelle u_menues ab. z.B. 51
</p>
<ul><li> Beispiel: Eintragen des Untermenüpunktes zur Druckvorschau
</li></ul>
<pre>INSERT INTO `u_menues` ( `id` , `name` , `links` , `obermenue` , `menueebene` , `target` )
VALUES (NULL , 'Druckvorschau', 'index.php?go=Druckausschnittswahl', '&lt;id für Obermenü&gt;', '2', NULL);
</pre>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=89" title="Dokumentation">bearbeiten</a>]</div><a name="Zuordnen_des_Men.C3.BCs_zur_Stelle"></a><h3>Zuordnen des Menüs zur Stelle</h3>
<p>Die Zuordnung kann direkt in der Tabelle u_menue2stelle erfolgen. In 
diesem Fall müssen aber neben dem Obermenüpunkt auch alle Unterpunkte 
extra zugeordnet werden. Zusätzlich ist auch die Tabelle u_menue2rolle 
zu bestücken.
</p><p>Besser ist es den Obermenüpunkt über die Stellenverwaltung der Stelle zuzuordnen.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=90" title="Dokumentation">bearbeiten</a>]</div><a name=".C3.84ndern_der_Zuordnung_von_Men.C3.BCpunkten_zu_Obermen.C3.BCs"></a><h3>Ändern der Zuordnung von Menüpunkten zu Obermenüs</h3>
<p>Wenn ein Untermenü aus einem Obermenü entfernt werden soll, ist am 
besten zunächst in der Stellenverwaltung das ganze Menü zu entfernen.
</p><p>Anschließend ändert man die Nummer in der Spalte obermenue in der
 Tabelle u_menues in die ID des neuen Obermenüpunktes. Wenn der noch 
nicht existiert, legt man diesen vorher an. Danach kann der Menüpunkt 
wieder hinzugefügt werden.
</p><p><br>
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=91" title="Dokumentation">bearbeiten</a>]</div><a name="Druckrahmenverwaltung"></a><h2>Druckrahmenverwaltung</h2>
<p>Der Nutzer hat die Möglichkeit einen Kartenausschnitt in ein PDF zu 
exportieren. Das Layout des PDF-Dokuments kann mit Hilfe von 
verschiedenen, voher definierten Druckrahmen festgelegt werden. Im 
folgenden wird beschrieben, wie die Erstellung eines solchen 
Druckrahmens erfolgt.
</p><p>Die Erstellung eines Druckrahmens erfolgt in der 
Druckrahmenverwaltung. Um diese aufrufen zu können, muss es einen 
entsprechenden Menüpunkt mit der go-Variable 'Druckrahmen' geben 
(Tabelle: u_menues). Außderdem muss dieser Menüpunkt der Stelle 
(Tabelle: u_menue2stelle) und dem Nutzer dieser Stelle (Tabelle: 
u_menue2rolle) zugeordnet werden.
In der Druckrahmenverwaltung werden unter 'Druckrahmenauswahl' alle in 
der MySQL-Tabelle 'Druckrahmen' gespeicherten Rahmen in einer 
Auswahlliste angezeigt (1). Wählt man einen der Druckrahmen aus, werden 
die Parameter des Rahmens unter 'Druckrahmendaten' in einem Formular 
angezeigt. Ist noch kein Datensatz in der Tabelle 'Druckrahmen' 
vorhanden, sind sowohl die Auswahlliste als auch die Formularfelder 
leer.
</p><p>--<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Benutzer:Markus_Hentschel" title="Benutzer:Markus Hentschel">Markus Hentschel</a>
 12:55, 24. Apr 2007 (CEST) Damit sowohl in der Druckrahmenverwaltung 
als auch in der späteren Druckvorschau die textlichen Elemente angezeigt
 werden, müssen ImageMagick und Ghostscript auf dem Server installiert 
sein. Ist das der Fall, ist in der config.php der Parameter IMAGEMAGICK =
 'true' zu setzen. Ghostscript ist zumindest bei SuSE schon installiert.
 Die <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Installation_von_Imagemagick_mit_TIF-Support" title="Installation von Imagemagick mit TIF-Support">Installation von ImageMagick mit JPEG-, PNG- und TIF-Unterstützung</a> wird bei den HowTos erklärt.
</p><p>Ein Druckrahmen besteht aus mehreren Elementen und hat mehrere 
Parameter. Als erstes sollte man festlegen, welches Format der 
Druckrahmen haben soll. Das Formularfeld 'Format' bietet hier 4 
verschiedene Auswahlmöglichkeiten (2). Nachdem das Format festgelegt 
wurde, kann man einen Druckkopf für das Dokument definieren. Der 
Druckkopf dient in erster Linie als Kopf für das PDF-Dokument, kann aber
 auch als Hintergrund für das gesamte Dokument benutzt werden. Im 
Druckkopf sollten alle Informationen enthalten sein, die statisch, d.h. 
bei jedem PDF-Export konstant sind. Um einen Druckkopf in den 
Druckrahmen einzubinden, wählt man unter 'Druckkopf:  wählen:' eine 
entsprechende Bilddatei aus (3). Wichtig ist, das diese Datei im Format 
'jpg' vorliegt. --<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Benutzer:HolgerR" title="Benutzer:HolgerR">HolgerR</a>
 13:17, 22. Aug 2006 (CEST) Damit der Druckrahmen auf dem Server 
abgespeichert werden kann, muss der in der config.php festgelegte 
'DRUCKRAHMEN_PATH' physisch auf dem Server vorhanden sein. Um die Datei 
hochzuladen und ihre Abmessungen einzulesen, sollte man den Druckrahmen 
an dieser Stelle schon einmal speichern. Zuvor sollte man jedoch noch 
einen Namen vergeben, damit der Druckrahmen identifiziert werden kann. 
Dies erfolgt über das Formularfeld 'Name' (4). Jetzt klickt man auf 'Als
 neuen Rahmen speichern' (5) und der Datensatz wird in die Tabelle 
'Druckrahmen' geschrieben. Der Druckrahmen sollte sich nun auch in der 
Auswahlliste der Druckrahmen befinden.
</p><p>Die Position und Größe des Druckkopfes kann nun über die 
entsprechenden Formularfelder x,y (6) und Breite, Höhe (7) festgelegt 
werden. Die Felder x und y bestimmen dabei den Abstand des Druckkopfes 
vom linken bzw. oberen Rand des PDF-Dokuments. Die Maßeinheit ist bei 
allen Positions- und Größenangaben 1 Pixel im PDF. Neben dem 
Formularfeld 'Format' ist die Auflösung des PDF-Dokuments in Pixeln 
angegeben (8). Nachdem die Position und Größe des Druckkopfes definiert 
wurde, klickt man auf 'Änderungen speichern' (9). In der Vorschau (10) 
sollte nun der Druckrahmen zu sehen sein. Sollte die Position bzw. 
Skalierung des Druckkopfes noch nicht zufriedenstellend sein, kann diese
 verändert werden und nach erfolgter Speicherung in der Vorschau 
überprüft werden.
</p><p>Als nächsten Schritt sollte man die Position und Größe der Karte 
festlegen. Dies geschieht analog zum Druckkopf mit den Formularfeldern x
 und y (11) und Breite und Höhe (12). Nach Speicherung der Änderungen 
ist die Position der Karte in der Druckrahmenvorschau zu sehen und kann 
bei Bedarf korrigiert werden. Mit der Karte und dem Dokumentenkopf sind 
die beiden Hauptelemente des Druckrahmens, die zur korrekten Funktion 
benötigt werden, definiert worden.
</p><p><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Druckrahmena_beschriftet.jpg" class="image" title=""><img src="Dokumentation-Dateien/450px-Druckrahmena_beschriftet.jpg" alt="" longdesc="/index.php/Bild:Druckrahmena_beschriftet.jpg" height="448" width="450"></a>&nbsp;<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Druckrahmenb_beschriftet.jpg" class="image" title=""><img src="Dokumentation-Dateien/450px-Druckrahmenb_beschriftet.jpg" alt="" longdesc="/index.php/Bild:Druckrahmenb_beschriftet.jpg" height="461" width="450"></a>
</p><p>Neben der Karte und dem Druckkopf lassen sich weitere Elemente 
zum Druckrahmen hinzufügen. Dazu gehören u.a. ein Freitext (13), der 
Maßstab (14), das aktuelle Datum (15), die Gemarkung (16), die Flur (17)
 sowie die Angabe eines ursprünglichen Maßstabes der analogen Flurkarte 
(18) (hier ist die Datenquelle jedoch noch nicht integriert). Außer dem 
Freitext sind alle diese Elemente dynamisch, d.h. sie werden vom System 
automatisch gesetzt. Im Druckrahmenformular lässt sich die Position und 
die Schriftgröße jedes Elementes definieren. Werden die Änderungen am 
Druckrahmen gespeichert, so erscheinen auch diese Elemente in der 
Vorschau und können bei Bedarf angepasst werden.
</p><p>Zusätzlich zu der normalen Karte lässt sich bei Bedarf auch eine 
Referenzkarte zum Druckrahmen hinzufügen. Um dies tun zu können, sind 
mehrere Vorraussetzungen nötig. Zum einen muss ein Rahmen bzw. 
Hintergrund für die Referenzkarte festgelegt werden. Dieser Hintergrund 
liegt über der normalen Karte und unter der Referenzkarte. Dazu lässt 
sich analog zum Druckkopf über 'Ref.hintergrund:  wählen:' (19) eine 
entsprechende jpg-Datei auswählen und durch Klick auf 'Änderungen 
speichern' hochladen. Die Position und Größe dieses 
Referenzkartenhintergrunds lässt sich dann über die entsprechenden 
Felder anpassen (20). Nach der Festlegung des Referenzkartenhintergrunds
 kann man die Position und Skalierung der Referenzkarte definieren (21).
 Für die Referenzkarte muss man außerdem noch den Zoomfaktor einstellen,
 der festlegt, umwieviel diese Karte den Ausschnitt der normalen Karte 
vergrößert. Ein Zoomfaktor von -2 bewirkt hier beispielsweise, dass die 
Referenzkarte einen 2mal so großen Kartenausschnitt zeigt. Um festlegen 
zu können, welche Layer die Referenzkarte zeigen soll, wird für die 
Darstellung dieser Karte eine separates Mapfile verwendet. Der Pfad zu 
diesem Mapfile wird in der config.php über die Konstante 'REFMAPFILE' 
festgelegt. So ist es z.B. möglich, mittels der Referenzkarte eine 
Flurübersicht zu erzeugen, wie sie in ALK-Auszügen verwendet wird.
</p><p><br>
Um einen Kartenausschnitt unter Benutzung eines zuvor definierten 
Druckrahmens in ein PDF zu exportieren, muss es einen entsprechenden 
Menüpunkt mit der go-Variablen 'Druckausschnittswahl' geben (Tabelle: 
u_menues). Außderdem muss dieser Menüpunkt der Stelle (Tabelle: 
u_menue2stelle) und dem Nutzer dieser Stelle (Tabelle: u_menue2rolle) 
zugeordnet werden.
</p><p>Wie mit Hilfe der in der Stelle zugeordneten Druckrahmen gedruckt
 werden kann ist unter dem Punkt Benutzung von kvwmap beschrieben, siehe
 (<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Drucken_in_PDF" title="Dokumentation">Drucken in PDF</a>).
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=92" title="Dokumentation">bearbeiten</a>]</div><a name="Datenbankadministration"></a><h2>Datenbankadministration</h2>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=93" title="Dokumentation">bearbeiten</a>]</div><a name="Datensicherung_MySQL"></a><h3>Datensicherung MySQL</h3>
<p>Die Datenbank kann auf zwei verschiede Art und Weise gesichert werden.
</p>
<ul><li> Kopieren des gesamten Verzeichnisses einer Datenbank, Datenbank
 muss dazu gestoppt sein, oder es ist sicher, dass keiner mehr zugreift.
</li><li> Erzeugen und Sichern eines Datenbankdumps, geht aus dem laufendem Betrieb heraus.
</li></ul>
<p>Zu einer Datenbank gehört immer das gleichnamige Verzeichnis unter 
dem Datenverzeichnis von mysql. Das ist meißtens unter /var/lib/mysql 
kann aber auch unter /usr/local/mysql/var o.ä. sein. Das Verzeichnis der
 Datenbank einfach einpacken und später dahin wieder auspacken zur 
Wiederherstellung.
</p>
<pre>Beispiel für die Sicherung eines Datenbankverzeichnisses.
$cd /usr/local/mysql/var
$tar cvfz kvwmapdb160-2006-09-09.tar.gz kvwmapdb160
$tar xvfz kvwmapdb160-2006-09-09.tar.gz -C /usr/local/mysql/var
</pre>
<p>Für die andere Variante führt man zunächst einen Dump von der 
laufenden Datenbank aus über die Dumpfunktion von phpMyAdmin oder das 
Programm mysqldump unter /usr/local/bin
Es ist vorteilhaft den Pfad /usr/local/bin in die PATH Variable zu 
schreiben:
</p>
<pre>$export PATH=$PATH:/usr/local/bin
</pre>
<p>Optionen und Nutzung von mysqldump werden ausgegeben mit
</p>
<pre>$./mysqldump --help
</pre>
<p>Eine einzelne DB wird z.B. gesichert mit:
</p>
<pre>$./mysqldump -u root -p kvwmapdb160 &gt; kvwmapdb160-dump_2006-09-09.sql

</pre>
<p>Zum wiederherstellen der Datenbank muss eine neue Datenbank angelegt werden.
</p>
<pre>$./mysql -u root -p 
mysql$ create database kvwmapdb160;
mysql$ exit
</pre>
<p>Einlesen des Dump mit:
</p>
<pre>$./mysql -u root -p kvwmapdb160 &lt; kvwmapdb160-dump_2006-09-09.sql
</pre>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=94" title="Dokumentation">bearbeiten</a>]</div><a name="Datensicherung_PostgreSQL.2FPostGIS"></a><h3>Datensicherung PostgreSQL/PostGIS</h3>
<p>Die Datenbank kann auf zwei verschiede Art und Weise gesichert werden.
</p>
<ul><li> Kopieren des gesamten Verzeichnisses einer Datenbank, Datenbank
 muss dazu gestoppt sein. Das wiedereinsetzen der Dateien funktioniert 
normalerweise nur, wenn die neue Datenbank von der selben Version ist 
wie die ursprüngliche.
</li><li> Erzeugen und Sichern eines Datenbankdumps, geht aus dem laufendem Betrieb heraus.
</li></ul>
<p>Die Datenbank liegt bei Suse-Servern üblicherweise in 
/usr/local/pgsql/data, bei Nutzung des FGS-Pakets findet man sie in 
$FGS_HOME/apps/pgsql/data.
</p><p><br>
Die Sicherung der Datenbank im laufenden Betrieb funktioniert über <i>pg_dump</i> und <i>pg_restore</i> und kann cron-gesteuert erfolgen. <i>pg_dump</i> und <i>pg_restore</i> finden sich im bin-Verzeichnis von pgsql bzw. bei Nutzung des FGS-Pakets in $FGS_HOME/bin.
</p><p>Bei einer Neuinstallation der Datenbank muss PostgreSQL mit 
initdb initialisiert werden. Alle Konfigurationsdateien, in denen 
manuelle Änderungen vorgenommen wurden, müssen wiederhergestellt sein.
</p><p><br>
Die Datensicherung erfolgt zweckmäßigerweise zweigleisig, indem zum 
einen das Schema, zum anderen die Daten jeweils extra gesichert werden:
</p>
<pre># Schemasicherung
./pg_dump -U kvwmap -f /var/.si/dumps/pg_kvwmapsp_daily_schema.sql -s -F c kvwmapsp
# Datensicherung
./pg_dump -U kvwmap -f /var/.si/dumps/pg_kvwmapsp_daily_data.sql -a -F c kvwmapsp
</pre>
<p>Für das Wiederherstellen der Datenbank wird zunächst über den 
SQL-Befehl CREATE DATABASE oder dem Hilfsprogramm createdb eine neue, 
leere Datenbank angelegt. Dann wird das Datenbankschema angelegt:
</p>
<pre>./pg_restore -U kvwmap -d kvwmapsp_neu /var/.si/dumps/pg_kvwmapsp_daily_schema.sql
</pre>
<p>Möglicherweise kann das Schema nicht angelegt werden, weil 
Abhängigkeiten der Tabellen untereinander bestehen, die verlangen, dass 
diese Tabellen in einer bestimmten Reihenfolge angelegt werden. Dann 
wird aus der Schema-SQL-Datei zunächst eine Listendatei erstellt (siehe <a href="http://www.postgresql.org/files/documentation/books/pghandbuch/html/app-pgrestore.html" class="external text" target="_blank" title="http://www.postgresql.org/files/documentation/books/pghandbuch/html/app-pgrestore.html" rel="nofollow">PostgreSQL-Handbuch</a>):
</p>
<pre>pg_restore -l /var/.si/dumps/pg_kvwmapsp_daily_schema.sql &gt; /home/fgs/sicherung/liste.txt
</pre>
<p>Anschließend können die Zeilen in der ausgegebenen Datei umsortiert 
oder mit Semikolon auskommentiert werden. Die Wiederherstellung 
berücksichtigt dann die Reihenfolge in dieser Liste:
</p>
<pre>$ pg_restore -U kvwmap -d kvwmapsp_neu  -L /home/fgs/sicherung/liste.txt /var/.si/dumps/pg_kvwmapsp_daily_schema.sql
</pre>
<p>Wenn das Datenbankschema erfolgreich angelegt wurde, können die Daten eingespielt werden:
</p>
<pre>./pg_restore -U kvwmap -d kvwmapsp_neu /var/.si/dumps/pg_kvwmapsp_daily_data.sql
</pre>
<p>Oder auch unter Berücksichtigung der Listendatei, d.h. nur Wiederherstellung bestimmter Tabellen:
</p>
<pre>./pg_restore -U kvwmap -d kvwmapsp_neu -L /home/fgs/sicherung/liste.txt /var/.si/dumps/pg_kvwmapsp_daily_data.sql
</pre>
<p><br><br>
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=95" title="Dokumentation">bearbeiten</a>]</div><a name="Referenz_zur_MySQL-Datenbank_von_kvwmap"></a><h3> Referenz zur MySQL-Datenbank von kvwmap</h3>
<p>Dieser Abschnitt enthält eine Beschreibung der Feldinhalte zu 
Nutzerdaten und Layern, die in der MySQL-Datenbank von kvwmap 
gespeichert werden.
</p><p>Die Referenz entspricht der kvwmap-Version 1.7.5
</p><p>Ein Tabellen-Beziehungsmodell (ER-Diagramm) ist als <a href="http://kvwmap.geoinformatik.uni-rostock.de/images/a/aa/Er-modell_kvwmap_mysql.pdf" class="external text" target="_blank" title="http://kvwmap.geoinformatik.uni-rostock.de/images/a/aa/Er-modell kvwmap mysql.pdf" rel="nofollow">PDF-Datei</a> verfügbar.
</p><p>Eine ausführliche deutschsprachige Beschreibung aller 
MapFile-Parameter, die in der Datenbank abgebildet werden, findet sich 
unter <a href="http://mapserver.org/de/mapfile/" class="external free" target="_blank" title="http://mapserver.org/de/mapfile/" rel="nofollow">http://mapserver.org/de/mapfile/</a>. Das englische Original ist zu finden unter <a href="http://mapserver.org/mapfile/index.html#mapfile" class="external free" target="_blank" title="http://mapserver.org/mapfile/index.html#mapfile" rel="nofollow">http://mapserver.org/mapfile/index.html#mapfile</a>.
</p><p><br> 
</p><p>Alle nummerierten Parameter entsprechen den 
MapScript-Definitionen. Diese Definitionen können in der map.h der 
mapServer-Source im Abschnitt "General enumerated types" nachgesehen 
werden.
</p><p><br>
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=96" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22classes.22"></a><h4>Tabelle "classes"</h4>
<p>Jede Class wird genau einem Layer zugeordnet. Mit der Class können 
Daten, die in einem Shape liegen, nach bestimmten Kriterien selektiert 
und in unterschiedlichen Ausgestaltungen präsentiert werden.
</p><p><b>Name</b>
</p><p>Der Name der Class wird in der Legende angezeigt.
</p><p><b>Layer_ID</b>
</p><p>Die entsprechende ID aus der Tabelle "layer".
</p><p><b>Expression</b>
</p><p>Wenn der Layer mehrere Classes enthält, regelt "Expression" die 
Zugehörigkeit eines Features zur jeweiligen Class. Wenn kein Ausdruck 
vorhanden ist, werden alle Features einer Class zugeordnet.
</p><p>Kvwmap lässt momentan nur logical Expressions zu. Dabei muss das 
Attribut (Spaltenüberschrift in der DBF-Tabelle des Shapes) explizit 
angegeben werden. Die Notation erfolgt so:
</p>
<ul><li>Die komplette Expression wird grundsätzlich mit einer runden Klammer ( ) versehen.
</li><li>Das Attribut wird in eckige Klammern [ ] gesetzt. Handelt es 
sich um das Attribut eines Shapes, ist darauf zu achten, dass es in 
Großbuchstaben geschrieben wird. Handelt es sich um das Attribut einer 
PostGIS-Tabelle, ist darauf zu achten, dass es in Kleinbuchstaben 
geschrieben wird.
</li><li>Wird eine Zeichenkette abgefragt, wird sowohl die eckige 
Klammer des Attributs als auch der Ausdruck in einfache 
Anführungszeichen ' ' gesetzt.
</li><li>Folgende logische Operatoren werden unterstützt: =, &gt;, &lt;,
 &lt;=, &gt;=, =, lt (lower than), gt (greater than), ge (greater 
equal), le (lower equal), eq (equal), ne (not equal).
</li><li>logische Ausdrücke können mit "AND" bzw. "OR" beliebig verschachtelt werden.
</li></ul>
<p>Beispiel:
</p>
<pre>([EINWOHNERZAHL] &gt;= 20000 AND '[ART]' ne 'Stadt')
</pre>
<p><b>drawingorder</b>
</p><p>Darstellungsreihenfolge der Classes in der Legende. Wenn nichts angegegeben wird, werden die Classes alphanumerisch sortiert.
</p><p><b>text</b>
</p><p>Möchte man einen feststehenden Text für alle Objekte der class erzeugen, gibt man diesen Text in Hochkommata an.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=97" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22colors.22"></a><h4>Tabelle "colors"</h4>
<p>speichert Farben im RGB-Schema, die für die (normale und 
klassifizierte) Suchergebnisanzeige verwendet werden. Farbverläufe kann 
man z.B. hier erstellen: <a href="http://www.homepage-total.de/html/farbverlauf.php" class="external autonumber" target="_blank" title="http://www.homepage-total.de/html/farbverlauf.php" rel="nofollow">[1]</a> oder <a href="http://www.redio.info/werkzeuge/farbverlauf.html" class="external autonumber" target="_blank" title="http://www.redio.info/werkzeuge/farbverlauf.html" rel="nofollow">[2]</a>
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=98" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22datendrucklayouts.22"></a><h4>Tabelle "datendrucklayouts"</h4>
<p>speichert layerbezogen die Sachdaten-Drucklayouts.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=99" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22ddl2freitexte.22"></a><h4>Tabelle "ddl2freitexte"</h4>
<p>speichert die Freitexte eines Sachdaten-Drucklayouts.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=100" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22ddl2stelle.22"></a><h4>Tabelle "ddl2stelle"</h4>
<p>weist das Sachdaten-Drucklayout einer Stelle zu.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=101" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22ddl_elemente.22"></a><h4>Tabelle "ddl_elemente"</h4>
<p>Speichert die Elemente des Sachdaten-Drucklayouts, d.h. die zu 
druckenden Attribute des Layers mit ihrer layoutspezifischen Gestaltung.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=102" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22druckausschnitte.22"></a><h4>Tabelle "druckausschnitte"</h4>
<p>speichert Kartenausschnitt, Druckmaßstab und verwendeten Druckrahmen,
 die ein User beim Drucken für spätere Wiederverwendung speichern kann. 
Wird von kvwmap automatisch gefüllt.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=103" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22druckfreibilder.22"></a><h4>Tabelle "druckfreibilder"</h4>
<p>speichert die Grafiken, die in der Druckrahmenverwaltung einem 
Druckrahmen zugeordnet werden. Wird von kvwmap bei Benutzung des 
entsprechenden Menüs gefüllt.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=104" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22druckfreitexte.22"></a><h4>Tabelle "druckfreitexte"</h4>
<p>speichert die Freitexte, die in der Druckrahmenverwaltung einem 
Druckrahmen zugeordnet werden. Wird von kvwmap bei Benutzung des 
entsprechenden Menüs gefüllt.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=105" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22druckrahmen.22"></a><h4>Tabelle "druckrahmen"</h4>
<p>speichert die Parameter der einzelnen Druckrahmen. Diese Tabelle wird von kvwmap bei Benutzung des entsprechenden Menüs gefüllt.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=106" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22druckrahmen2freibilder.22"></a><h4>Tabelle "druckrahmen2freibilder"</h4>
<p>ordnet die Grafiken aus der Tabelle druckfreibilder den Druckrahmen 
zu und enthält die Position der Bilder im Druckrahmen sowie die Größe 
und den Drehwinkel die für die Darstellung der Bilder im Druckrahmen 
verwendet werden sollen. Muss zur Zeit noch per Hand eingetragen werden.
Wenn die Bilder größer sind, als die Größenangaben in dieser Tabelle, 
wird das Bild gestaucht und erhält damit eine höhere Auflösung.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=107" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22druckrahmen2freitexte.22"></a><h4>Tabelle "druckrahmen2freitexte"</h4>
<p>ordnet die Texte ausder Tabelle druckfreitexte den Druckrahmen zu. 
Wird von kvwmap bei Benutzung des entsprechenden Menüs gefüllt.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=108" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22druckrahmen2stelle.22"></a><h4>Tabelle "druckrahmen2stelle"</h4>
<p>ordnet die Druckrahmen den Stellen zu. Wird von kvwmap bei Benutzung des entsprechenden Menüs gefüllt.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=109" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22labels.22"></a><h4>Tabelle "labels"</h4>
<p><a href="http://www.mapserver.org/mapfile/label.html" class="external text" target="_blank" title="http://www.mapserver.org/mapfile/label.html" rel="nofollow">MapFile-Doku</a> <a href="http://www.mapserver.org/mapscript/php/index.html#labelobj" class="external text" target="_blank" title="http://www.mapserver.org/mapscript/php/index.html#labelobj" rel="nofollow">MapScript-Doku</a>
</p><p>Sämtliche Parameter dieser Tabelle werden in der MapServer 
Referenz unter den o.a. Internetadressen ausführlich beschrieben. Hier 
sollen nur die "Schalter" benannt werden:
</p><p><b>Type</b>
</p>
<ul><li>"0" = Truetype
</li><li>"1" = Bitmap
</li></ul>
<p>Standardmäßig wird "0" verwendet. Der Font muss im Ordner "Fonts" enthalten sein und in der fonts.txt eingetragen sein!
</p><p><b>minsize, maxsize</b>
</p><p>Definiert die minimale bzw. maximale Größe der Texte des Layers 
(in Pixel).
Hinweis: Damit die Darstellung skalierbar wird, müssen in der Tabelle 
"used_layer" ein Wert für symbolscale und in der Tabelle "layer" Werte 
für labelminscale bzw. labelmaxscale gesetzt sein.
</p><p><b>Position</b>
</p>
<ul><li>"0" = Die Beschriftung befindet sich links über dem Bezugspunkt
</li><li>"1" = Die Beschriftung befindet sich rechts unter dem Bezugspunkt
</li><li>"2" = Die Beschriftung befindet sich rechts über dem Bezugspunkt
</li><li>"3" = Die Beschriftung befindet sich links unter dem Bezugspunkt
</li><li>"4" = Die Beschriftung befindet sich rechts vom Bezugspunkt
</li><li>"5" = Die Beschriftung befindet sich links vom Bezugspunkt
</li><li>"6" = Die Beschriftung befindet sich über dem Bezugspunkt
</li><li>"7" = Die Beschriftung befindet sich unter dem Bezugspunkt
</li><li>"8" = Die Beschriftung befindet sich genau auf dem Bezugspunkt
</li><li>"9" = "Auto", kalkuliert eine Beschriftungsposition, die keine andere Beschriftung beeinträchtigen wird.
</li></ul>
<p><b>offsetx, offsety</b>
</p><p>Versetzt den Text aller Objekte des Layers in X- bzw. Y-Richtung um den angegebenen Betrag (negative Werte sind auch möglich).
</p><p><b>angle, autoangle</b>
</p><p>"angle" speichert einen festen Winkel, unter dem alle Texte des 
Layers gedreht werden. "autoangle = 1" dreht jeden einzelnen Text nach 
dem Winkel, der zum entsprechenden Objekt in dem Attribut gespeichert 
ist, das in der Tabelle <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Tabelle_.22layer.22" title="Dokumentation">layer</a> unter "labelangleitem" gespeichert ist. Default ist 0.
</p><p><b>buffer</b>
</p><p>Erzwingt einen Leerraum um alle Texte dieses Layers in Pixeln. Default ist 0.
</p><p><b>Antialias</b>
</p><p>Kantenglättung. Funktioniert nur bei "Truetype".
</p>
<ul><li>"0" = ja
</li><li>"1" = nein
</li></ul>
<p><b>minfeaturesize, maxfeaturesize</b>
</p><p>Wird in Pixeln eingegeben. Wenn die Größe eines Objektes (in 
Pixeln) unter der eingetragenen Grenze liegt, wird der Text des Objekts 
nicht mehr gezeichnet. Der Eintrag "auto" bewirkt die Beschriftung 
ausschließlich der Objekte, die größer sind als der zugehörige Text.
</p><p><b>Partials</b>
</p><p>Zeigt Texte, die vom Kartenrand abgeschnitten werden.
</p>
<ul><li>"0" = ja: auch Teile des Textes sollen noch angezeigt werden.
</li><li>"1" = nein: wenn der Text angeschnitten wird, ist er nicht mehr zu sehen.
</li></ul>
<p>Wird nichts angegeben, wird standardmäßig "0" gesetzt.
</p><p><b>wrap</b>
</p><p>Ermöglicht es, Zeilenumbrüche in Texte einzufügen. Als "wrap" ist
 der Dezimalwert des entsprechenden ASCII-Zeichens (= "ANSI Character") 
einzugeben, der dann durch einen Zeilenumbruch ersetzt wird, z.B. "35" 
für das Zeichen "#".
</p><p><b>the_force</b>
</p><p>Zwingt Beschriftungen zur Anzeige, ohne Rücksicht auf Kollisionen.
</p>
<ul><li>"0" = nein
</li><li>"1" = ja
</li></ul>
<p>Wird nichts angegeben, wird standardmäßig "0" gesetzt.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=110" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22layer.22"></a><h4>Tabelle "layer"</h4>
<p>Jeder Layer beinhaltet einen thematisch logischen und abgegrenzten 
Teilaspekt der Gesamtdatenmenge. Dabei wird in Raster-, Punkt-, Linien- 
und Flächenlayer unterschieden. Layer (soweit nicht Rasterlayer) können 
in kvwmap als Shapes vorliegen, aus einer PostgreSQL/PostGIS-Datenbank 
stammen oder als WMS bezogen werden.
</p><p><b>Name</b>
</p><p>Der Name des Layers wird in der Legende angezeigt. Wird kein Name
 vergeben, wird dieser Layer nicht in der Legende angezeigt. Layernamen 
sollten keine Sonderzeichen enthalten, Umlaute und Leerzeichen sind 
dagegen kein Problem.
</p><p><b>Datentyp</b>
</p>
<ul><li>"0" = Punktlayer ("Point")
</li><li>"1" = Linienlayer ("Line")
</li><li>"2" = Flächenlayer ("Polygon")
</li><li>"3" = Rasterlayer ("Raster")
</li><li>"4" = Beschriftungslayer ("Annotation", erzeugt nur Beschriftungen)
</li><li>"5" = Abfragelayer ("Query", wird nicht gezeichnet, kann nur abgefragt werden)
</li><li>"6" = Kreislayer ("Circle", erzeugt Ellipsen durch die Angabe eines Rechtecks) 
</li></ul>
<p>Ausführlichere Angaben, z.B. zum Ort der Beschriftung, siehe die deutschsprachige <a href="http://mapserver.org/de/mapfile/" class="external text" target="_blank" title="http://mapserver.org/de/mapfile/" rel="nofollow">Mapfile-Referenz</a>.
</p><p>Der Datentyp muss nicht derselbe Typ sein wie das Feature selbst.
 Eine Polygon Feauture kann beispielsweise auch als Punkt-, Linien- oder
 Abfragelayer generiert werden.
</p><p><b>Gruppe</b>
</p><p>Layer werden einer Gruppe zugeordnet. In der Legende erscheinen sie dann unter dieser Gruppenbezeichnung.
</p><p><b>pfad</b>
</p><p>Dieses Feld enthält vordefinierte SQL-Statements für die 
Sachdatenabfrage von PostGIS-Layern. Beispiele für ein Abfragestatement 
in diesem Feld sind:
</p>
<pre>SELECT * FROM gd_lk_fluren WHERE 1=1
</pre>
<pre>SELECT *,AsText(koordinaten) AS punkte FROM fp_punkte_temp WHERE art IN (0,1)
</pre>
<pre>SELECT o.objnr as oid,o.objart,o.folie,AsText(o.the_geom) AS umring,f.flurstkennz,f.gemkgschl
FROM alkobj_e_fla AS o,alknflst as f WHERE o.folie='001' AND o.objnr=f.objnr
</pre>
<p>Auf alle hier selektierten Tabellenfelder kann eine Abfrage 
durchgeführt werden, wenn der Layer abfragbar geschaltet ist. Soll von 
der Sachdatenanzeige zum Objekt in der Karte gezoomt werden, ist <i>the_geom</i>
 ebenfalls im pfad anzugeben. Die Reihenfolge der Attribute in der 
Abfrage bestimmt die Reihenfolge der Attribute in der Sachdatenanzeige.
</p><p>Schwierigkeiten bereiten bestimmte SQL-Befehle, die Kommata 
enthalten sowie Abfragen über mehrere Tabellen, wenn oids uneindeutig 
sind oder ganz fehlen. In diesen Fällen bietet sich an, die eigentliche 
Abfrage in einen View zu schreiben und im <i>pfad</i> (vielleicht auch in <i>data</i>)
 auf diesen View zuzugreifen. Möglicherweise ist es beim View dann 
allerdings nötig, Rules zu schreiben, die die INSERT-, UPDATE- und 
DELETE-Anweisungen durchführen.
</p><p>Die Sachdatenanzeige erfolgt über den <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Generischer_Layereditor" title="Dokumentation">Generischen Layereditor</a>. Bei besonderen Darstellungen kann alternativ auch ein <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Vektor_Layer" title="Dokumentation">Template</a>" angelegt werden, dessen Dateiname im Feld "template" der Tabelle <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Tabelle_.22used_layer.22" title="Dokumentation">used_layer</a> eingetragen wird.
</p><p><b>Data</b>
</p>
<ul><li>Bei Anbindung eines Shapes der Name des Shapes ohne Endung.
</li><li>Bei Daten aus einer PostGIS-Tabelle wird die Geometriespalte und der Tabellenname angegeben, Beispiel:
</li></ul>
<pre>the_geom from bplan as foo using unique oid using srid=2398
</pre>
<p>Auch hier können komplexe Abfragen definiert werden, Beispiel:
</p>
<pre>centroid(the_geom) from (
 SELECT fl.objnr AS oid, fl.objnr AS id, fl.the_geom, ab.flurstkennz, ab.blattnr
 FROM alb_f_baulasten ab, alknflst f, alkobj_e_fla fl
 WHERE fl.folie = '001' AND ab.flurstkennz = f.flurstkennz AND f.objnr = fl.objnr
) as foo using unique oid using srid=2398

</pre>
<p>Wenn nicht einfach "the_geom from &lt;tabellenname&gt; ..." 
eingetragen wird, muss das in Klammern stehende SELECT alle für den 
Mapserver notwendigen Elemente aufführen: Das unique-Attribut 
(üblicherweise <i>oid</i>), eventuelle Beschriftungs- und 
Klassifizierungsattribute (LABELITEM, CLASSITEM, FILTERITEM), eventuell 
in den Expressions der Klassen verwendete Attribute und natürlich 
the_geom.
</p><p>Das eingeschlossene SQL-Statement kann auch in einem View gespeichert werden.
</p><p><b>schema</b>
</p><p>Speichert den Schemanamen in der Postgre-DB, in der die Tabelle liegt. Default ist "public".
</p><p><b>documentpath</b>
</p><p>speichert die Angabe eines Pfades für einen Ordner, in dem 
layerbezogen die Dokumente abgelegt werden sollen. Wird hier nichts 
angegeben, ist CUSTOM_IMAGE_PATH aus der config.php der default.
</p><p><b>tileindex</b>
</p><p>Wird nur bei Rasterlayern gesetzt. Wenn Rasterbilder gekachelt 
vorliegen und in einem Bildkatalog indiziert wurden, wird der Name des 
Index-Shapes hier angegeben. Die Eingabe im Feld "Data" entfällt. 
Hinweis: Die Indizierung kann z.B. mit dem Werkzeug gdaltindex aus der 
GDAL-Installation erfolgen.
</p><p><b>tileitem</b>
</p><p>Wird nur bei indizierten Rasterlayern gesetzt. Attributname (= 
Spaltenüberschrift im Index­shape), in dem die Pfade zu den einzelnen 
Bildern stehen.
</p><p><b>labelangleitem</b>
</p><p>Enthält den Attributnamen der Sachdaten des Layers, der die 
Winkel der Texte enthält. Braucht nur ausgefüllt werden, wenn 
beschriftet werden soll und der Text nach bestimmten Werten in den 
Sachdaten ausgerichtet werden soll.
</p><p><b>labelitem</b>
</p><p>Wird nur gesetzt, wenn eine Beschriftung erzeugt werden soll. 
Attributname (= Spaltenüberschrift im entsprechenden Shape), aus dem die
 Beschriftung entnommen werden soll.
</p><p><b>labelmaxscale</b>
</p><p>Größte Maßstabszahl, über die hinaus der Layer nicht mehr beschriftet wird (z.B. 400.000)
</p><p><b>labelminscale</b>
</p><p>Kleinste Maßstabszahl, unterhalb der der Layer nicht mehr beschriftet wird (z.B. 500)
</p><p><b>labelrequires</b>
</p><p>macht die Beschriftung abhängig von der Darstellung der Beschriftung eines anderen Layers, siehe Feld "requires" in der Tabelle <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Tabelle_.22used_layer.22" title="Dokumentation">used_layer</a>.
</p><p><b>connection</b>
</p><p>Die Angabe der connection entfällt bei Shapefiles. Die connection
 ist im Falle einer Datenbank die Zeichenkette der Datenbankverbindung, 
bestehend aus Benutzername, Passwort, Datenbankname, Hostnamen, Name des
 Vorgangs. Beispiel:
</p>
<pre>user=kvwmap password=****** dbname=kvwmapsp159 host=localhost port=5432
</pre>
<p>In der connection kann auch ein Dienst angegeben werden. Vom 
OGC-konformen Aufruf wird der "feste" Teil eingegeben, die änderbaren 
Parameter SRS, WIDTH, HEIGHT, BBOX und FORMAT werden von kvwmap bei 
jedem Aufruf an die in connection angegebene URL angehängt.
Beispiel für eine WMS-Angabe:
</p>
<pre>http://geoportal.lk-nvp.de:8080/cgi-bin/mapserv?MAP=/home/fgs/fgs/www/wms/gemarkungen_fluren.map&amp;REQUEST=getMap&amp;VERSION=1.1.1&amp;LAYERS=Gemarkungen,Fluren,Gemarkungsnamen,Flurnummern
</pre>
<p>Und so sieht der Aufruf beispielsweise vollständig aus:
</p>
<pre> http://geoportal.lk-nvp.de:8080/cgi-bin/mapserv? \\
 MAP=/home/fgs/fgs/www/wms/gemarkungen_fluren.map&amp; \\
 REQUEST=getMap&amp; \\
 VERSION=1.1.1&amp; \\
 LAYERS=Gemarkungen,Fluren,Gemarkungsnamen,Flurnummern&amp; \\
 SRS=EPSG:2398&amp; \\
 WIDTH=600&amp;HEIGHT=500&amp; \\
 BBOX=4550000,6010000,4560000,6018000&amp; \\
 FORMAT=image/png
 
(Zur Übersichtlichkeit ist der Aufruf in mehrere Zeilen aufgetrennt.)
</pre>
<p><b>printconnection</b>
</p><p>Erlaubt die Angabe eines WMS, der im Druck für diesen Layer verwendet wird.
</p><p><b>connectiontype</b>
</p><p>Der connectiontype ist die Einstellung des Verbindungstyps, z.B.:
</p>
<ul><li>"6" = postgis
</li><li>"7" = WMS
</li><li>"9" = WFS
</li></ul>
<p>Die Angabe des connectiontypes kann bei Shapefiles entfallen.
</p><p><b>classitem</b>
</p><p>Attributname (= Spaltenüberschrift im entsprechenden Shape), aus dem die <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Tabelle_.22classes.22" title="Dokumentation">Class</a> erzeugt werden soll.
</p><p><b>filteritem</b>
</p><p>Angabe zum Einsatz der "Filter"-Ausdrücke aus der Tabelle 
"used_layer". Im Regelfall wird kein Filter definiert, dann sollte das 
Feld mit "id" gefüllt sein. Wird der Layer aus einer Sicht erzeugt, muss
 ein in der Sicht verwendeter Attributname (z.B. "objnr") eingetragen 
werden.
</p><p><b>tolerance</b>
</p><p>Die Empfindlichkeit von punktbasierten Abfragen. Wie weit darf 
man den Punkt verfehlen, damit er dennoch gefangen wird? Gilt in kvwmap 
bei der Abfrage von PostGIS-Layern auch beim Aufziehen von 
Rechteckboxen.
</p><p><b>toleranceunits</b>
</p><p>Einheit der Tolerance-Werte. Standardmäßig ist "pixels" gesetzt. 
Für die Abfrage von PostGIS-Layern wird die Angabe von "tolerance" mit 
der aktuellen Pixelgröße multipliziert. Ist "toleranceunits" leer wird 
auch die Pixelgröße verwendet, ist sie "meters" wird die "tolerance" mit
 1 multipliziert.
</p><p><b>epsg_code</b>
</p><p>Die Angabe des Koordinatensystems, in dem die Daten dieses 
Features vorliegen. Stimmt das originäre Koordinatensystem nicht mit dem
 Ausgabekoordinatensystem überein, dass im Feld "epsg_code" in der 
Tabelle <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Tabelle_.22rolle.22" title="Dokumentation">Rolle</a> definiert wird, werden die Koordinaten vom MapServer on-the-fly transformiert.
</p><p><b>template</b>
</p><p>Defaulttemplate, der beim Einfügen des Layers in eine Stelle übernommen wird.
</p><p><b>queryable</b>
</p><p>Defaultwert für die Abfragbarkeit des Layers, der beim Einfügen des Layers in eine Stelle übernommen wird.
</p><p><b>transparency</b>
</p><p>Defaultwert für die Transparenz des Layers, der beim Einfügen des Layers in eine Stelle übernommen wird.
</p><p><b>drawingorder</b>
</p><p>Defaultwert für die Zeichenreihenfolge des Layers, der beim Einfügen des Layers in eine Stelle übernommen wird.
</p><p><b>minscale, maxscale</b>
</p><p>Defaultwerte für den Maßstabsbereich des Layers, die beim Einfügen des Layers in eine Stelle übernommen werden.
</p><p><b>offsite</b>
</p><p>Defaultwert für den transparent zu zeichnenden RGB-Farbwert, der 
beim Einfügen des (Raster-)Layers in eine Stelle übernommen wird.
</p><p><b>ows_srs</b>
</p><p>Angabe des Ausgabekoordinatensystems, wenn der Layer als WMS bzw. WFS zur Verfügung gestellt werden soll, in der Form:
</p>
<pre>"EPSG:&lt;code&gt;"
</pre>
<p><b>wms_name</b>
</p><p>Angabe des Layernamens, wenn der Layer als WMS bzw. WFS zur 
Verfügung gestellt werden soll. Wird das Feld freigelassen, wird der im 
Feld "Name" verwendete Layername ausgegeben. Hinweis: Bei Layernamen, 
die deutsche Sonderzeichen enthalten, empfiehlt sich die Angabe eines 
WMS-Namens ohne deutsche Sonderzeichen.
</p><p><b>wms_server_version</b>
</p><p>kvwmap unterstützt alle WMS-Versionen bis einschließlich 1.3.0
</p><p><b>wms_format</b>
</p><p>Das Rasterformat des Ausgabebildes, wenn der Layer als WMS bzw. WFS zur Verfügung gestellt werden soll.
</p><p><b>wms_connectiontimeout</b>
</p><p>Zeitspanne, nach der der WMS als "nicht verfügbar" klassifiziert 
wird und der Verbindungsaufbau auf diesen Layer abgebrochen wird.
</p><p><b>wms_auth_username</b>
</p><p>Basiert der Layer auf einem passwortgeschützten WMS, wird hier der entsprechende Username gespeichert.
</p><p><b>wms_auth_password</b>
</p><p>Basiert der Layer auf einem passwortgeschützten WMS, wird hier das entsprechende (verschlüsselte) Passwort gespeichert.
</p><p><b>wfs_geom</b>
</p><p>Gibt bei WFS-Diensten mit mehreren Geometrie-Attributen dasjenige Attribut an, das Mapserver als Geometrie verwenden soll.
</p><p><b>selectiontype</b>
</p><p>"radio" erzeugt in der Legende einen Radiobutton statt des 
üblichen Häkchenfeldes zum Ein- oder Ausschalten des Layers. Sind alle 
Layer einer Gruppe "radio", so kann also immer nur ein Layer in dieser 
Gruppe angeschaltet sein. Default ist NULL.
</p><p><b>querymap</b>
</p><p>"1" = in der Sachdatenanzeige wird eine kleine Übersichtskarte mit dem Objekt gezeichnet. Default ist 0.
</p><p><b>logconsume</b>
</p><p>Definiert, ob Zugriffe auf diesen Layer geloggt werden sollen:
</p>
<ul><li>"0" = Dieser Layer soll generell nicht geloggt werden
</li><li>"1" = Dieser Layer kann geloggt werden.
</li></ul>
<p>Ob die Zugriffe auf die mit "1" gekennzeichneten Layer tatsächlich in der Tabelle <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Tabelle_.22u_consume2layer.22" title="Dokumentation">u_consume2layer</a> protokolliert werden, entscheidet die Einstellung des Feldes "logconsume" der jeweiligen <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Tabelle_.22stelle.22" title="Dokumentation">Stelle</a>, in der dieser Layer aufgerufen wird.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=111" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22layer_attributes.22"></a><h4>Tabelle "layer_attributes"</h4>
<p>Jedes Attribut eines Layers kann im Generischen Layereditor angezeigt werden, wenn es im <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Tabelle_.22layer.22" title="Dokumentation">pfad-Statement</a> genannt wird.
</p><p><b>name</b>
</p><p>Attributname, wie er im pfad-Statement aus der Datenbank geholt 
wird (also nicht unbedingt identisch mit dem Tabellenattributnamen).
</p><p><b>real_name</b>
</p><p>Tatsächlicher Tabellen-Attributname auf Datenbankebene.
</p><p><b>tablename</b>
</p><p>Tatsächlicher Tabellen-Name auf Datenbankebene.
</p><p><b>table_alias_name</b>
</p><p>Tabellen-Name, wie er im pfad-Statement aus der Datenbank geholt wird (i.d.R. als Alias).
</p><p><b>type</b>
</p><p>Datentyp des Attributes, wie er im pfad-Statement aus der Datenbank geholt wird.
</p><p><b>geometrytype</b>
</p><p>Geometrietyp des Attributs, wenn es vom Typ <i>geometry</i> ist.
</p><p><b>constraints</b>
</p><p>Einschränkungen, die auf Datenbankebene in der Tabelle gesetzt sind.
</p><p><b>nullable</b>
</p><p>'1', wenn das Attribut auf Datenbankebene NOT NULL ist. Default '0'.
</p><p><b>length</b>
</p><p>Einschränkung der Zeichenkettenlänge auf Datenbankebene.
</p><p><b>default</b>
</p><p>Standardwerte auf Datenbankebene, die bei Nichtausfüllen 
automatisch gesetzt werden bzw. von kvwmap im Generische Layereditor als
 Vorgabewert bei einem neuen Datensatz automatisch vorgeschlagen werden.
 Betrifft auch Vorgaben aus Sequenzen.
</p><p><b>form_element_type</b>
</p><p>Beschreibung des Formelements, in dem das Attribut angezeigt wird:
</p>
<ul><li>Text
</li><li>Textfeld
</li><li>Auswahlfeld
</li><li>Geometrie
</li><li>SubFormPK
</li><li>SubFormFK
</li><li>SubFormEmbeddedPK
</li><li>Dokument
</li><li>Link
</li><li>Time
</li><li>User
</li></ul>
<p>SubFormPK und SubFormFK dienen der Erzeugung verschachtelter 
Tabellen. Time und User werden von kvwmap automatisch gefüllt. Weiter 
Informationen siehe die <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Generischer_Layereditor" title="Dokumentation">Dokumentation zum Generischen Layereditor</a>.
</p><p><b>options</b>
</p><p>Zuweisung bestimmter Vorgabewerte für den Attributtyp Auswahlfeld
</p><p><b>alias</b>
</p><p>Zuweisung von (langschriftlichen) Attributnamen für die Anzeige im Generischen Layereditor zur besseren Lesbarkeit.
</p><p><b>tooltip</b>
</p><p>Der hier gespeicherte Text erscheint in der Sachdateneinzeige des
 GLE als Tooltipp, wenn man mit dem Cursor über den Attributnamen fährt.
</p><p><b>mandatory</b>
</p><p>'1': es handelt sich um ein Pflichtattribut in der Layersuche, das ausgefüllt werden muss. Default ist '0'.
</p><p><b>order</b>
</p><p>speichert die Reihenfolge der Attribute in der pfad-Angabe, die 
maßgeblich für die Reihenfolge der Attribute in der Sachdatenanzeige 
ist.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=112" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22layer_attributes2stelle.22"></a><h4>Tabelle "layer_attributes2stelle"</h4>
<p>Setzt für jedes Attribut des Layers in jeder Stelle die Rechte des Benutzers auf das Attribut.
</p><p><b>Attributname</b>
</p><p>Attributname, wie er im pfad-Statement aus der Datenbank geholt 
wird (also nicht unbedngt identisch mit dem Tabellenattributnamen).
</p><p><b>privileg</b>
</p><p>Bestimmt die Möglichkeiten des Users in der Stelle:
</p>
<ul><li>kein Eintrag = der User kann das Attribut nicht sehen
</li><li>"0" = der User kann das Attribut lesen, aber nicht editieren
</li><li>"1" = der User kann das Attribut editieren
</li></ul>
<p><b>tooltip</b>
</p><p>Bestimmt, ob das Attribut beim Überfahren des Objekts mit der Maus als Tooltip angezeigt wird oder nicht:
</p>
<ul><li>"0" = wird nicht als Tooltip angezeigt
</li><li>"1" = wird als Tooltip angezeigt
</li></ul>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=113" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22m_grids.22"></a><h4>Tabelle "m_grids"</h4>
<p>Dient der Erzeugung eines Gitternetzes.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=114" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22m_grids2used_layer.22"></a><h4>Tabelle "m_grids2used_layer"</h4>
<p>Ordnet das Gitternetz aus der Tabelle "m_grids" einem Layer zu.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=115" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22referenzkarten.22"></a><h4>Tabelle "referenzkarten"</h4>
<p>Diese Tabelle regelt den Aufbau der Übersichtskarte. Die 
Koordinatenwerte der linken unteren bzw. rechten oberen Ecke müssen der 
tatsächlichen ausdehnung des Koordinatenausschnitts im Koordinatensystem
 der Stelle entsprechen.
</p><p><b>Name</b>
</p><p>Bezeichnung für die Übersichtskarte, kann frei gewählt werden.
</p><p><b>Dateiname</b>
</p><p>Name der Rasterbild-Datei. Pfad zur Übersichtskarte ist in der config.php gesetzt!
</p><p><b>xmin, ymin, xmax, ymax</b>
</p><p>Ausdehnung der Übersichtskarte.
</p><p><b>width, height</b>
</p><p>Größe der Übersichtskarte (in Pixeln), z.B. 120, 90.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=116" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22rolle.22"></a><h4>Tabelle "rolle"</h4>
<p>Durch die Rolle werden dem jeweiligen Benutzer (User) beim Start von 
kvwmap verschiedene Stellen (mindestens eine) zunächst angeboten und 
nach erfolgter Auswahl zugeordnet. Für jeden User können beliebig viele 
Rollen angelegt werden. Zu jeder Rolle gehört genau eine Stelle. Erst 
durch die Rolle (d.h. eben durch die Zuweisung des Benutzers zu einer 
Stelle) werden dem Benutzer bestimmte Rechte verliehen, die sich aus der
 Zuordnung zur Stelle ergeben.
</p><p><b>user_id</b>
</p><p>Die entsprechende ID aus der Tabelle "user". Es können beliebig 
viele Rollen angelegt werden, in denen die user_id identisch ist, nur 
muss jeweils das Feld "stelle_id" anders belegt werden.
</p><p><b>stelle_id</b>
</p><p>Die entsprechende ID aus der Tabelle "stelle". Zum Begriff "Stelle" siehe dort.
</p><p><b>nImageWidth, nImageHeight</b>
</p><p>Größe des Kartenfensters beim Start (in Pixeln), z.B. "500, 500".
 Diese Einstellung wird aus der jeweils letzten Sitzung übernommen.
</p><p><b>minx, miny, maxx, maxy</b>
</p><p>Ausdehnung des Kartenausschnitts beim Start (in Koordinaten). Diese Einstellung wird aus der jeweils letzten Sitzung übernommen.
</p><p><b>nzoomFaktor</b>
</p><p>Faktor, der das Maß des Herein- bzw. Herauszoomens bestimmt. "2" 
ist Verdoppelung bzw. Halbierung des Maßstabs. Diese Einstellung wird 
aus der jeweils letzten Sitzung übernommen.
</p><p><b>selectedButton</b>
</p><p>Speichert, welcher Zoom-Button beim Beenden aktiviert war.
</p><p><b>epsg_code</b>
</p><p>Definiert das Ausgabekoordinatensystem für den jeweiligen User in
 dieser Stelle. Hinweis: Jeder User einer Stelle kann also sein 
Kartenbild in einem anderen Koordinatensystem erhalten.
</p><p><b>epsg_code2</b>
</p><p>Definiert ein zusätzliches Ausgabekoordinatensystem für den 
jeweiligen User in dieser Stelle, das nur für die Anzeige unter der 
Karte verwendet wird.
</p><p><b>active_frame</b>
</p><p>Hier wird die aktuelle Druckrahmen-ID gespeichert.
</p><p><b>last_time_id</b>
</p><p>Speichert den Zeitpunkt des letzten aufgerufenen Kartenausschnitts eines Users.
</p><p><b>gui</b>
</p><p>speichert die graphische Oberfläche, die der User ausgewählt hat.
 Standard: "gui.php". Hinweis: Eigene GUIs können im Ordner 
layouts/custom von kvwmap gespeichert werden. Sie werden dann z.B. so 
angegeben: "custom/gui_1".
</p><p><b>language</b>
</p><p>Speichert die Sprachversion, die der User in der Stelle auswählt.
</p><p><b>charset</b>
</p><p>Speichert den entsprechenden zu verwendenden Zeichensatz, abhängig von language.
</p><p><b>hidemenue</b>
</p><p>Speichert, ob der User in der Stelle das Menü zu- oder weggeschaltet hat.
</p><p><b>hidelegend</b>
</p><p>Speichert, ob der User in der Stelle die Legende zu- oder weggeschaltet hat.
</p><p><b>fontsize_gle</b>
</p><p>Speichert die Textgröße, die der User für die Sachdatenanzeige in der Stelle ausgewählt hat.
</p><p><b>highlighting</b>
</p><p>Speichert, ob der User in der Stelle die Objekte gehighlightet haben will oder nicht.
</p><p><b>buttons</b>
</p><p>Speichert, welche Buttons der Navigationsleiste der User in der Stelle benutzen will.
</p><p><b>scrollposition</b>
</p><p>Speichert die Position des Scrollbalkens an der Legende.
</p><p><b>result_color</b>
</p><p>Speichert die ID der Farbe aus der Tabelle <i>colors</i>, die für die Anzeige von Suchergebnissen verwendet werden soll.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=117" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22rollenlayer.22"></a><h4>Tabelle "rollenlayer"</h4>
<p>Ersetzt die Einträge in den Tabellen <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Tabelle_.22layer.22" title="Dokumentation">layer</a>, <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Tabelle_.22used_layer.22" title="Dokumentation">used_layer</a>, <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Tabelle_.u_rolle2used_layer.22" title="Dokumentation">u_rolle2used_layer</a> und <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Tabelle_.classes.22" title="Dokumentation">classes</a>,
 wenn ein Layer nicht allen Usern der Stelle zur Verfügung stehen soll, 
z.B. die Suchergebnislayer. Zu den entsprechenden Feldern siehe die 
Beschreibungen in den genannten Tabellen.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=118" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22rolle_nachweise.22"></a><h4>Tabelle "rolle_nachweise"</h4>
<p>Dient der Speicherung von Suchpolygonen für die Fachschale <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Nachweisverwaltung" title="Dokumentation">Nachweisverwaltung</a>.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=119" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22stelle.22"></a><h4>Tabelle "stelle"</h4>
<p>Der Begriff  "Stelle" meint eine Arbeitsstelle oder besser 
Arbeitsaufgabe. An die Stelle ist eine festgelegte Benutzeroberfläche 
geknüpft mit allen daran hängenden Rechten an Funktionen, räumlicher 
Ausdehnung und Bedienelementen. Die Stelle definiert auch den Zugriff 
auf die Daten, die der Benutzer sehen und abfragen darf.
</p><p><b>Bezeichnung</b>
</p><p>Wenn der Benutzer kvwmap startet, kann er aus den Stellen 
auswählen, die ihm über die Rolle zugewiesen wurden. In der Auswahl 
erscheint die Bezeichnung der Stellen.
</p><p><b>start, stop</b>
</p><p>Damit kann die zeitliche Zuordnung des Benutzers zur Stelle 
eingestellt werden, z.B. bei Auslegungsfristen für Bürgerbeteiligungen 
oder für zeitlich begrenzte Gast-Zugriffe.
</p><p><b>minxmax, minymax, maxxmax, maxymax</b>
</p><p>Maximal erlaubte Ausdehnung (in Koordinaten) des Kartenausschnitts, z.B. der gesamte Landkreis, die Stadt oder eine Gemeinde.
</p><p><b>epsg-code</b>
</p><p>Default-EPSG, wenn die Stelle als neue Stelle kopiert wird.
</p><p><b>Referenzkarte_ID</b>
</p><p>Die entsprechende ID aus der Tabelle "referenzkarten" zur Anbindung der Übersichtskarte. Zum Begriff "Referenzkarte" siehe dort.
</p><p><b>Authentifizierung</b>
</p><p>Regelt, ob für den Zugriff auf diese Stelle eine Benutzerauthentifizierung nötig ist ('1') oder nicht ('0').
</p><p><b>ALB_status</b>
</p><p>Regelt die PDF-Ausgabe des ALB. 
</p>
<ul><li>"30" = Eigentümerangaben nicht sichtbar
</li><li>"35" = Eigentümerangaben sichtbar.
</li></ul>
<p><b>wappen</b>
</p><p>Dateiname des zugehörigen Wappens (Pfad wird in die config.php eingetragen).
</p><p><b>wasserzeichen</b>
</p><p>ermöglicht das Zeichnen eines Textes, der als Wasserzeichen in der Karte angezeigt wird.
</p><p><b>alb_raumbezug</b>
</p><p>Mit "alb_raumbezug" und "alb_raumbezug_wert" kann man eine 
räumliche Einschränkung auf die ALB-Daten für eine Stelle vornehmen. 
Auswahlmöglichkeiten: "Kreis", "Amt", "Gemeinde".
</p><p><b>alb_raumbezug_wert</b>
</p><p>Gibt den Schlüssel des Kreises/des Amtes/der Gemeinde an.
</p><p><b>logconsume</b>
</p>
<ul><li>"0" = es erfolgt keine Protokollierung der Layerzugriffe für die User dieser Stelle
</li><li>"1" = wenn ein User dieser Stelle in der Karte navigiert oder 
eine Layerauswahl vornimmt, werden alle logbaren Layer in der Tabelle <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Tabelle_.22u_consume2layer.22" title="Dokumentation">u_consume2layer</a> mit Angabe eines Zeitstempels gespeichert.
</li></ul>
<p>Hinweis: Es werden nur die Layer der Stelle protokolliert, die im Feld "logconsume" der Tabelle <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Tabelle_.22layer.22" title="Dokumentation">layer</a> als protokollierbar gekennzeichnet sind.
</p><p><b>ows_ ...</b>
</p><p>Einträge, die relevant sind, wenn Daten der Stelle als Dienst 
angeboten werden. Die Einträge erscheinen im GetCapabilities-Dokument.
</p><p><b>check_client_ip</b>
</p>
<ul><li>"1" = es erfolgt eine Prüfung ob der User von einer der in der 
Tabelle user in Spalte ips eingetragenen IP Adressen aus auf kvwmap 
zugreift.
</li><li>"0" = keine Prüfung
</li></ul>
<p><b>check_password_age</b>
</p>
<ul><li>"1" = es erfolgt eine Prüfung ob das Password des Nutzers zum 
Zeitpunkt des Einloggens älter ist als in Spalte allowed_password_age 
für die Stelle angegeben. Tritt der Fall ein, muss der Nutzer erst sein 
Passoword ändern um sich einloggen zu können. (Funktion ist in Version 
1.7.0 in Arbeit)
</li><li>"0" = es erfolgt keine Prüfung
</li></ul>
<p><b>allowed_password_age</b>
Erlaubtes Alter der Passwörter der Benutzer die sich an der Stelle 
anmelden wollen. Angegeben als ganze Zahl, eine Anzahl von Monaten 
definiert. Wirkt nur wenn check_password_age=1 für die Stelle gesetzt 
ist.
</p><p><b>Tabellenstruktur:</b>
</p>
<pre>CREATE TABLE `stelle` (
 `ID` int(11) NOT NULL auto_increment,
 `Bezeichnung` varchar(255) character set latin1 NOT NULL default <i>,</i>
 `Bezeichnung_low-german_windows-1252` varchar(255) character set latin1 default NULL,
 `Bezeichnung_english_windows-1252` varchar(255) character set latin1 default NULL,
 `Bezeichnung_vietnamese_utf-8` varchar(255) character set latin1 default NULL,
 `start` date NOT NULL default '0000-00-00',
 `stop` date NOT NULL default '0000-00-00',
 `minxmax` double default NULL,
 `minymax` double default NULL,
 `maxxmax` double default NULL,
 `maxymax` double default NULL,
 `epsg_code` int(5) NOT NULL default '2398',
 `Referenzkarte_ID` int(11) default NULL,
 `Authentifizierung` enum('0','1') character set latin1 NOT NULL default '1',
 `ALB_status` enum('30','35') character set latin1 NOT NULL default '30',
 `wappen` varchar(150) character set latin1 NOT NULL default 'wappen_nvp.png',
 `wasserzeichen` varchar(150) character set latin1 default NULL,
 `alb_raumbezug` set(<i>,'Kreis','Amtsverwaltung','Gemeinde') character set latin1 NOT NULL default </i>,
 `alb_raumbezug_wert` varchar(255) character set latin1 NOT NULL default <i>,</i>
 `logconsume` enum('0','1') character set latin1 default NULL,
 `pgdbhost` varchar(25) character set latin1 NOT NULL default 'localhost',
 `pgdbname` varchar(25) character set latin1 default NULL,
 `pgdbuser` varchar(25) character set latin1 default NULL,
 `pgdbpasswd` varchar(25) character set latin1 default NULL,
 `ows_title` varchar(255) character set latin1 default NULL,
 `wms_accessconstraints` varchar(255) character set latin1 default NULL,
 `ows_abstract` varchar(255) character set latin1 default NULL,
 `ows_contactperson` varchar(255) character set latin1 default NULL,
 `ows_contactorganization` varchar(255) character set latin1 default NULL,
 `ows_contactemailaddress` varchar(255) character set latin1 default NULL,
 `ows_contactposition` varchar(255) character set latin1 default NULL,
 `ows_fees` varchar(255) character set latin1 default NULL,
 `ows_srs` varchar(255) character set latin1 default NULL,
 `check_password_age` enum('0','1') character set latin1 NOT NULL default '0',
 `allowed_password_age` tinyint(4) NOT NULL default '6',
 `check_client_ip` enum('0','1') character set latin1 NOT NULL default '0',
 PRIMARY KEY  (`ID`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1 COLLATE=latin1_german2_ci;
</pre>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=120" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22stelle_gemeinden.22"></a><h4>Tabelle "stelle_gemeinden"</h4>
<p>Sowohl Adress- als auch Flurstückssuche können auf die Gemeinden, auf die die Stelle Zugriff haben soll, eingeschränkt werden.
</p><p><b>Stelle_ID</b>
</p><p>Die ID der Stelle, die die Einschränkung erfahren soll.
</p><p><b>Gemeinde_ID</b>
</p><p>Der (achtstellige) Gemeindeschlüssel der Gemeinde, die in dieser 
Stelle zur Auswahl stehen soll. Sollen mehrere Gemeinden in der Stelle 
zur Auswahl stehen, werden für die entsprechende Stelle mehrere Einträge
 erzeugt.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=121" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22styles.22"></a><h4>Tabelle "styles"</h4>
<p>Styles beinhalten Parameter zur Symbolisierung und Ausgestaltung der im Layer enthaltenen Geometrien.
</p><p><b>symbol</b>
</p><p>Die laufende Nummer des Symbols in der Symboldatei (z.B. 
symbols.sym). Beginnend mit 1, ist also das fünfte Symbol die Nummer 5. 
In der Symboldatei müssen dafür keine Nummern explizit angegeben werden.
</p><p>Hinweis: Große Schwierigkeiten gibt’s, wenn Symbole in die 
Symbol-Datei eingefügt werden. Besser nur den Symbolnamen verwenden und 
das Feld "Symbol" grundsätzlich freilassen.
</p><p><b>symbolname</b>
</p><p>Wenn die Symbole der Symboldatei Namen haben, sollten diese 
benutzt werden. Diese Verfahrensweise ist derjenigen der Symbolnummern 
vorzuziehen.
</p><p><b>size</b>
</p><p>Angabe der Höhe (in Pixeln) des Symbols bzw. des Musters, wenn es
 sich um einen Linienlayer handelt. Werden "Sizeunits" gesetzt, bezieht 
sich die Angabe auf die definierte Einheit (momentan von kvwmap noch 
nicht unterstützt).
</p><p>Für Symbole vom Type HATCH ist der angegebene Wert der Abstand zwischen den Schraffurlinien.
</p><p>Die Umrandungen von Flächenlayern werden immer mit size=1 
erzeugt. Sollen hier andere Größen bzw. auch Muster erscheinen, müssen 
Fläche und Umringslinie über zwei Classes und zwei Styles separat 
definiert werden.
</p><p>"Size" bei Flächenlayern in Kombination mit der Angabe von 
"Symbol" erzeugt eine Flächenfüllung mit dem angegebenen Muster und der 
angegebenen Größe.
</p><p>Sollen Flächenlayer, die nur eine Farbe enthalten (siehe color), 
druckbar sein, darf für size niemals der Wert 0 gesetzt werden. Bei der 
Druckaufbereitung wird der Wert für size mit in die Umrechnung der 
Auflösung mit einbezogen. Wenn size=0 eingestellt ist hat das zur Folge,
 dass der entsprechende layer weder in der Druckvorschau noch im Druck 
ausgegeben wird.
</p><p><b>color</b>
</p><p>Farbe des Symbols, der Linie, der Fläche. Wird angegeben in "R G B" (3 Zahlen mit Leerzeichen getrennt: "125 200 50").
</p><p><b>backgroundcolor</b>
</p><p>Angabe einer Farbe für nicht-transparente Symbole.
</p><p><b>outlinecolor</b>
</p><p>Angabe einer Farbe, um Polygone und bestimmte Markersymbole zu 
umranden. Linien haben keine outlinecolor, hier müssen gegebenenfalls 
mehrere Styles miteinander kombiniert werden.
</p><p><b>minsize, maxsize</b>
</p><p>Definiert die minimale bzw. maximale Anzahl der Pixel, um ein 
Symbol zu zeichnen.
Hinweis: Damit die Darstellung skalierbar wird, müssen in der Tabelle 
"used_layer" ein Wert für symbolscale und die Werte für minscale und 
maxscale gesetzt sein.
</p><p><b>angle</b>
</p><p>Angabe des Winkels, unter dem alle Symbole der <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Tabelle_.22classes.22" title="Dokumentation">class</a>
 erscheinen sollen. Wenn kein Wert angegeben werden soll (z.B. bei 
Kreissignaturen), darf nicht '0' eingetragen werden, sondern 'NULL' oder
 '360'.
</p><p><b>angleitem</b>
</p><p>Angabe des Attributs in einem Layer, in dem der jeweilige Winkel eines Symbols gespeichert ist.
</p><p><b>antialias</b>
</p><p>'1': Schaltet die Kantenglättung bei TrueType- und Cartoline-Symbolen ein. Hat keine Auswirkungen auf andere Style-Typen.
</p><p><b>width</b>
</p><p>Die Dicke der zu zeichnenden Linien in Pixel, Default ist 1. Bei 
Symbolen vom Typ HATCH wird mit width die Breite der Schraffurlinien 
angegeben.
</p><p><b>minwidth, maxwidth</b>
</p><p>Minimale bzw. maximale Breite von Linien (in Pixel). Damit Linienstärken skalieren, muss in der Tabelle <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Tabelle_.22layer.22" title="Dokumentation">layer</a> ein Symbolscale eingetragen sein und in der Tabelle <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Tabelle_.22used_layer.22" title="Dokumentation">used_layer</a> ein minscale bzw. maxscale.
</p><p><b>sizeitem</b>
</p><p>Wenn die Größe der Linien in einem Attribut gespeichert wird, 
kann man den Attributnamen angeben. Damit können die Objekte einer 
Klasse verschieden breite Linien bzw. verschieden große Symbole 
bekommen.
</p><p><b>offsetx, offsety</b>
</p><p>Verschiebt das Symbol um den angegebenen Betrag in X- bzw. Y-Richtung. Die Eingabe von negativen Werten ist möglich.
</p><p><br>
Die Anwendergruppe kvwmap veröffentlicht <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Symbole%2C_Signaturen_und_karthographische_HowTos" title="Symbole, Signaturen und karthographische HowTos">Symbole, Signaturen und karthographische HowTos</a> hier in diesem WIKI.
Weitere Informationen zur Erstellung von Symbolen und Liniensignaturen z.B. hier: <a href="http://www.mapmedia.de/dokumente/umn_signaturen_howto/index.html" class="external free" target="_blank" title="http://www.mapmedia.de/dokumente/umn signaturen howto/index.html" rel="nofollow">http://www.mapmedia.de/dokumente/umn_signaturen_howto/index.html</a>
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=122" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22used_layer.22"></a><h4>Tabelle "used_layer"</h4>
<p>Jeder Stelle können beliebig viele Used Layer zugeordnet werden. Zu 
jedem Used Layer gehört genau ein Layer. Umgekehrt ausgedrückt: Durch 
die Tabelle "used_layer" kann ein Layer beliebig vielen Stellen 
zugeordnet werden.
</p><p><b>stelle_id</b>
</p><p>Die entsprechende ID aus der Tabelle "stelle".
</p><p><b>layer_id</b>
</p><p>Die entsprechende ID aus der Tabelle "layer". Zum Begriff "Layer" siehe dort.
</p><p><b>queryable</b>
</p><p>Layer können als abfragbar ("1") oder nicht abfragbar ("0") 
gekennzeichnet werden. Entsprechend ist das Info-Häkchenfeld in der 
Legende vorhanden oder nicht.
</p><p><b>drawingorder</b>
</p><p>Die Zeichenreihenfolge, in der die Layer dargestellt werden, ist 
entscheidend für das Aussehen der Karte. Der Layer mit der kleinsten 
drawingorder wird zuerst gezeichnet. Die drawingorder regelt weiterhin 
die Position des Layers innerhalb der Gruppe in der 
Themenauswahl/Legende. Die drawingorder kann bis zu elf Stellen 
besitzen, es empfiehlt sich also, großzügig bei der Vergabe zu sein, um 
später in kvwmap integrierte Layer noch sinnvoll einfügen zu können. 
Rasterlayer sollten zuerst gezeichnet werden, Beschriftungslayer 
zuletzt.
</p><p>Durch die Angabe der Zeichenreihenfolge in den Used Layern kann 
jeder Stelle individuell eine eigene Zeichenreihenfolge gegeben werden.
</p><p><b>minscale</b>
</p><p>Kleinste Maßstabszahl, unterhalb der der Layer nicht mehr angezeigt wird (z.B. 500).
</p><p><b>maxscale</b>
</p><p>Größte Maßstabszahl, über die hinaus der Layer nicht mehr angezeigt wird (z.B. 10.000).
</p><p><b>offsite</b>
</p><p>erzeugt einen Farbindex [R G B] bei Rasterlayern, um sie transparent zu machen.
</p><p><b>transparency</b>
</p><p>Wert, der angibt, wie opak der Layer sein soll, zwischen 
</p>
<ul><li>"0" = vollkommen durchsichtig und
</li><li>"100" = gar nicht durchsichtig.
</li></ul>
<p><b>postlabelcache</b>
</p><p>Zeichnet den Layer nach allen anderen und auch nach der Beschriftung, wenn "1" angegeben wird.
</p><p><b>Filter</b>
</p><p>Dieser Parameter erlaubt für Daten spezifische Attributfilter 
einzusetzen, die zur selben Zeit abgearbeitet werden wie die räumlichen 
Filter, aber <b>bevor</b> irgendwelche CLASS-Ausdrücke ausgewertet werden.
</p><p>Beispiel zur Einschränkung über den Gemarkungsschlüssel: 
</p>
<ul><li> für eine bestimmte Gemarkung - (gemkgschl = '132100')
</li><li> oder bei mehreren Gemarkungen - (gemkgschl = '132100' or gemkgschl = '132105')
</li><li> oder mit Platzhaltern - (gemkgschl = '1321%')
</li></ul>
<p>"gemkschl" ist der Spaltenname zu den Objekten, die in der 
PostgreSQL-Datenbank gehalten werden, und um dessen Wert die Anfrage 
gefiltert werden soll. 
</p><p><b>template</b>
</p><p>Angabe eines PHP-Snippets, wenn NICHT der Generische Layereditor 
für die Sachdatenanzeige verwendet werden soll. Wenn Layer in 
verschiedenen Stellen unterschiedliche Sachdatenanzeigen bekommen 
sollen, können verschiedene Snippets zur Anzeige definiert werden. 
(Beispiel: biotope_amt1.php, biotope_amt2.php, etc.)
</p><p><b>symbolscale</b>
</p><p>Gibt den Maßstab an, bei dem ein Symbol oder eine Beschriftung 
die Größe haben soll, die ihm in der Tabelle "styles" bzw. "labels" als 
size zugewiesen ist. Funktioniert nur, wenn gleichzeitig die Felder 
"minsize" und "maxsize" in der Tabelle "styles" bzw. "labels" mit Werten
 gefüllt sind.
</p><p>Werden bei "symbolscale" keine Angaben gemacht, hat das Symbol 
bzw. die Beschriftung immer genau die Größe, die durch "size" definiert 
ist.
</p><p><b>requires</b>
</p><p>Angabe um den Zusammenhang zum Anzeigen des Layers festzulegen. Beispiel für einen Layer "Gebäudepunkte":
</p>
<pre>([Gebäude] = 1)
</pre>
<p>D.h. der Layer "Gebäudepunkte" ist nur dann sichtbar, wenn auch der 
Layer "Gebäude" sichtbar ist. Hinweis: In der Legende bzw. Themenauswahl
 erscheint der Layername dann nicht mehr (im Beispiel also der Layer 
"Gebäudepunkte"), es werden nur noch seine Classes angezeigt.
</p><p><b>logconsume</b>
</p><p>entscheidet, ob der Zugriff auf den Layer in der Tabelle <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Tabelle_.22u_consume2layer.22" title="Dokumentation">u_consume2layer</a> geloggt werden soll.
</p><p><b>privileg</b>
</p><p>Regelt den grundsätzlichen Zugriff auf sämtliche Objekte des 
Layers in der Stelle im Generischen Layereditor. Die Rechte auf die 
einzelnen Attribute des Layers werden in der Tabelle 
layer_attributes2stelle gesetzt.
</p>
<ul><li>"0" = Der User darf sämtliche Attribute lesen und bearbeiten
</li><li>"1" = Der User darf lesen, bearbeiten und neue Datensätze erzeugen
</li><li>"2" = Der User darf lesen, bearbeiten, neue Datensätze erzeugen und Datensätze löschen.
</li></ul>
<p><b>start_aktiv</b>
</p><p>'1': Schaltet den Layer automatisch ein, wenn es sich um eine Gast-Stelle handelt. Default ist '0'.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=123" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22user.22"></a><h4>Tabelle "user"</h4>
<p>In dieser Tabelle werden die einzelnen Benutzer von kvwmap 
eingetragen. Jeder Benutzer wird mit Name und Vorname einzeln 
eingetragen. Das Anlegen von Gruppenbezeichnungen ("Naturschutz", 
"Kataster" o.ä.) empfiehlt sich nicht. Hier erfolgt keine Zuweisung von 
Rechten oder Daten!
</p><p><b>login_name</b>
</p><p>Der Login-Name erscheint im Browserfenster als "Nutzer" unten rechts.
</p><p><b>ips</b>
</p><p>Hier können eine oder mehrere mit&nbsp;; getrennte IP Adressen 
eingetragen werden, von denen der Nutzer aus auf kvwmap zugreifen darf. 
Tritt aber nur in Kraft, wenn in Tabelle <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Tabelle_.22stelle.22" title="Dokumentation">stelle</a>
 in die Spalte check_client_ip eine 1 eingetragen wurde. Wenn 
check_client_ip=1 ist und in dieser Spalte ips steht nichts, bekommt der
 User keinen Zugang.
</p><p><b>password_setting_time</b>
</p><p>Hier wird das Datum eingetragen an dem der Nutzer das letzte mal 
das Passwort geändert hat. Wird berücksichtigt, wenn in der Stelle in 
der der Nutzer sich anmelden will (siehe Tabelle stelle), der Parameter 
check_password_age = 1 gesetzt ist. Die Zeitdifferenz zwischen der 
aktuellen Zeit und der hier eingetragenen darf dann nicht größer sein 
als in der Spalte allowed_password_age in der Tabelle stelle.
</p><p><b>Funktion</b>
</p><p>Wenn es sich um einen Gast-Nutzer handelt, wird 'gast' eingetragen. Default ist 'user'.
</p><p><b>stelle_id</b>
</p><p>Hier wird die Stelle angegeben, der dieser User beim ersten Start von kvwmap zugeordnet sein soll.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=124" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22u_attributfilter2used_layer.22"></a><h4>Tabelle "u_attributfilter2used_layer" </h4>
<p>Speicherung der Attribut-Filter der Layer einer Stelle. Diese Tabelle
 wird von kvwmap bei Benutzung des entsprechenden Menüs gefüllt.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=125" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22u_consume.22"></a><h4>Tabelle "u_consume"</h4>
<p>Speichert die räumliche Ausdehnung aller Kartenausschnitte, die von 
den Benutzern generiert werden. Diese Tabelle wird von kvwmap bei 
Benutzung des entsprechenden Menüs gefüllt.
</p><p><b>user_id</b>
</p><p>Speichert die ID-Nummer des Benutzers.
</p><p><b>stelle_id</b>
</p><p>Speichert die ID-Nummer der Stelle, die der User im Moment der Ausschnittgenerierung gewählt hat.
</p><p><b>time_id</b>
</p><p>Speichert Datum und Uhrzeit des Zeitpunkts, an dem der Ausschnitt erzeugt wurde.
</p><p><b>activity</b>
</p><p>Speichert die Art des Zugriffs.
</p><p><b>nimagewidth, nimageheight</b>
</p><p>Speichert die Kartenfenstergröße.
</p><p>minx, miny, maxx, maxy
</p><p>Speichert die Eckpunktkoordinaten des erzeugten Kartenausschnitts.
</p><p><b>prev, next</b>
</p><p>Speichert, ob dieser Kartenausschnitt über die <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Navigation" title="Dokumentation">History-Funktion</a> entstanden ist und ob er einen Vorgänger- bzw. Nachfolgerkartenausschnitt hat.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=126" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22u_consume2comments.22"></a><h4>Tabelle "u_consume2comments"</h4>
<p>Wenn ein Nutzer einen räumlichen Ausschnitt über die Funktion <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Kartenausschnitt_speichern.2Fabrufen" title="Dokumentation">Kartenausschnitt speichern</a> speichert, dann wird von kvwmap diese Tabelle bei Benutzung des entsprechenden Menüs gefüllt.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=127" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22u_consume2layer.22"></a><h4>Tabelle "u_consume2layer"</h4>
<p>Diese Tabelle speichert die Auswahl der Layer, die ein Benutzer in 
einer Stelle auswählt. Damit diese Protokollierung erfolgt, muss das 
Feld "logconsume" der entsprechenden Stelle in der Tabelle <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Tabelle_.22stelle.22" title="Dokumentation">stelle</a> mit "1" belegt werden.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=128" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22u_consumeALB.22"></a><h4>Tabelle "u_consumeALB" </h4>
<p>Speichert die druckenden Zugriffe eines Users auf das ALB, das 
jeweils ausgedruckte ALB-Format und die Anzahl der ausgedruckten Seiten.
 Wird von kvwmap bei Benutzung des entsprechenden Menüs ausgefüllt.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=129" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22u_consumeALK.22"></a><h4>Tabelle "u_consumeALK"</h4>
<p>Speichert die druckenden Zugriffe eines Users auf die ALK und den 
jeweils verwendeten Druckrahmen. Wird von kvwmap bei Benutzung des 
entsprechenden Menüs ausgefüllt.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=130" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22u_funktion2stelle.22"></a><h4>Tabelle "u_funktion2stelle"</h4>
<p>Die Zuweisung der <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Tabelle_.22u_funktionen.22" title="Dokumentation">Funktionen</a> zur jeweiligen Stelle. Dadurch wird erreicht, dass bestimmte Funktionen nur bestimmten Stellen zur Verfügung stehen.
</p><p><b>Funktion_id</b>
</p><p>Die entsprechende ID aus der Tabelle "u_funktionen".
</p><p><b>Stelle_id</b>
</p><p>Die entsprechende ID aus der Tabelle "stelle".
</p><p><b>Erlaubt</b>
</p><p>Wenn eine Funktion zugeordnet werden soll, muss sie mit "1" auch explizit erlaubt werden.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=131" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22u_funktionen.22"></a><h4>Tabelle "u_funktionen"</h4>
<p>Funktionen sind spezielle Anwendungen, deren Ablauf in der index.php 
definiert wird. Mit Funktionen sind nicht die Navigationswerkzeuge oder 
die Menüs gemeint, sondern bestimmte Anwendungen wie etwa die Anzeige 
von Eigentümerdaten, für die benutzerbezogen Rechte vergeben werden 
müssen.
</p><p><b>Bezeichnung</b>
</p><p>Der Name wird in der Funktionenauswahl angezeigt.
</p><p><b>Link</b>
</p><p>Der Link weist auf den Anwendungsfall, der in der index.php definiert ist. Zur Schreibweise siehe Tabelle <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Tabelle_.22u_menues.22" title="Dokumentation">u_menues</a>.
</p><p>Derzeit läuft es so, dass man die Funktion so definiert, wie der 
Anwendungsfall, den man schützen will. Also wenn man z.B. den 
Anwendungsfall: "ALB_Aenderung" schützen möchte, muss "ALB_Aenderung" in
 Bezeichnung eingegeben werden.
</p><p>In der index.php werden diese Einschränkungen für den jeweiligen 
Anwendungsfall aber nur dann wirksam, wenn die Rechteeinschränkung 
abgefragt wird.
</p><p>Ein Anwendungsfall ohne Rechteeinschränkungsmöglichkeit:
</p>
<pre>case "Anwendungsfall"&nbsp;:
{
 $GUI-&gt;functiondieausgefuehrtwerdensoll();
}
</pre>
<p>Anwendungsfall mit Einschränkungsmöglicheit:
</p>
<pre>case "Anwendungsfall"&nbsp;:
{
   if ($GUI-&gt;Stelle-&gt;isFunctionAllowed($GUI-&gt;formvars['go'])) {
     $GUI-&gt; functiondieausgefuehrtwerdensoll();
   }
   else {
     # Benutzer ist nicht berechtigt zum Ausführen der Funktion
     $GUI-&gt;Fehlermeldung='Sie sind nicht berechtigt diesen Anwendungsfall auszuführen.';
     $GUI-&gt;rollenwahl($Stelle_ID);
     $GUI-&gt;output();
   }
}
</pre>
<p>Man sieht, dass im Falle der erteilten Berechtigung der 
Anwendungsfall ausgeführt wird und man sonst auf die Stellenauswahl 
geleitet wird. Man könnte meinen, dass diese Verzweigung generell für 
alle Anwendungsfälle vor der Abarbeitung der cases ausgeführt werden 
könnte, dann kann man aber nicht individuell entscheiden was geschehen 
soll, wenn keine Rechte vorliegen.
</p><p>Bisher gilt also, wenn Sie Anwendungsfälle extra schützen wollen 
(zusätzlich zu der Möglichkeit den Link zur Anwendung in der Stelle gar 
nicht erst anzuzeigen) dann teilen sie es den Entwicklern mit und diese 
können das fest in die index.php aufnehmen. Es hindert sie natürlich 
keiner daran ihre eigene index.php zu erstellen. Achtung dann aber beim 
Update.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=132" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22u_groups.22"></a><h4>Tabelle "u_groups"</h4>
<p>Speichert den Namen einer Gruppe. Alle <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Tabelle_.22layer.22" title="Dokumentation">Layer</a> werden einer Gruppe zugeordnet.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=133" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22u_groups2rolle.22"></a><h4>Tabelle "u_groups2rolle"</h4>
<p>Speichert benutzerbezogen, ob die Layer einer Gruppe gerade sichtbar sind oder nicht.
</p><p>Die Felder "user_id", "stelle_id" und "id" müssen für jeden User 
in jeder Stelle erstellt werden. In das Feld "Status" speichert kvwmap 
den jeweiligen Zustand der Gruppe.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=134" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22u_labels2classes.22"></a><h4>Tabelle "u_labels2classes"</h4>
<p>Da mehrere Label zu einer Class gehören können, wird die Zuordnung des jeweiligen Labels in einer eigenen Tabelle vorgenommen.
</p><p><b>class_id</b>
</p><p>Die entsprechende ID aus der Tabelle "classes".
</p><p><b>label_id</b>
</p><p>Die entsprechende ID aus der Tabelle "labels".
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=135" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22u_menue2rolle.22"></a><h4>Tabelle "u_menue2rolle"</h4>
<p>Speichert für jeden User, ob ein Menü aufgeklappt ist oder nicht.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=136" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22u_menue2stelle.22"></a><h4>Tabelle "u_menue2stelle"</h4>
<p>Die Zuweisung der Menüs zur jeweiligen Stelle. Dadurch wird erreicht,
 dass bestimmte Menüs nur bestimmten Stellen zur Verfügung stehen.
</p><p><b>stelle_id</b>
</p><p>Die entsprechende ID aus der Tabelle "stelle".
</p><p><b>menue_id</b>
</p><p>Die entsprechende ID aus der Tabelle "u_menues".
</p><p><b>menue_order</b>
</p><p>Reihenfolge der Darstellung bei der Sortierung der Menüs in der 
Stelle.
Das Menü mit der kleinsten Menue_order-Nummer wird zuerst gezeichnet. 
Die Nummer kann bis zu elf Stellen besitzen, es empfiehlt sich also, 
großzügig bei der Vergabe zu sein, um später für die Stelle 
hinzukommende Menüs noch einfügen zu können.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=137" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22u_menues.22"></a><h4>Tabelle "u_menues"</h4>
<p>Menüs sind bestimmte Funktionen, z.B. die Suchfunktionen oder die 
Hilfe. Mit Menü ist nicht die Themenauswahl oder die Navigationsleiste 
gemeint. Jeder Stelle können unterschiedliche Menüs zugeordnet werden.
</p><p>Menüs werden weiterhin für die <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Fachschalen" title="Dokumentation">Fachschalen</a> benötigt.
</p><p><b>name</b>
</p><p>Der Name wird im Menütext angezeigt.
</p><p><b>links</b>
</p><p>Der Link weist auf den Anwendungsfall, der in der index.php 
definiert ist.
Beispiel: Der Nutzer soll Flurstücke suchen können. Der Anwendungsfall 
in der index.php lautet "Flurstueck_Auswaehlen". Der entsprechende 
Eintrag im Feld "Links" lautet dann
"index.php?go=Flurstueck_Auswaehlen"
</p><p><b>obermenue</b>
</p><p>Die Menüs werden verschachtelt. Es gibt Obermenüs und darunter 
angeordnet Untermenüs. Soll ein Menü ein Untermenü sein, so wird hier 
die ID des entsprechenden Obermenüs angegeben.
Beispiel: Die Flurstückssuche soll keinem Obermenü zugeordnet werden. Im
 Feld wird eine "0" eingetragen.
</p><p>Beispiel: Die ALB-Fortführung soll ein Untermenü im Menü 
"Fortführung" sein. Das Menü "Fortführung" hat die ID "17". Diese ID 
wird im Feld eingetragen.
</p><p><b>menueebene</b>
</p><p>Die Verschachtelungstiefe wird in Ebenennummern beginnend bei "1"
 angegeben.
Beispiel: Die Flurstückssuche soll in der Verästelung am Anfang stehen. 
Im Feld wird eine "1" eingetragen.
Beispiel: Die ALB-Fortführung soll in der Verästelung unter dem Menü 
"Fortführung" erscheinen. Im Feld wird eine "2" eingetragen, da das Menü
 "Fortführung" die Menüebene "1" hat.
</p><p><b>target</b>
</p><p>"_blank" öffnet ein neues Fenster. Das kann z.B. bei der Hilfe 
nützlich sein. Standardmäßig wird nichts eingetragen, dann wird die 
Funktion im gleichen Fenster ausgeführt.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=138" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22u_rolle2used_layer.22"></a><h4>Tabelle "u_rolle2used_layer"</h4>
<p>Die Tabelle speichert beim Verlassen von kvwmap den Status der 
Häkchenfelder in der Legende. Damit werden die Einstellungen eines 
Benutzers gespeichert, unabhängig davon, ob ein anderer Benutzer in der 
selben Stelle andere Einstellungen vornimmt.
</p><p><b>aktivStatus</b>
</p><p>Speichert benutzerbezogen den letzten Zustand dieses Layers in Bezug auf die Sichtbarkeit.
</p>
<ul><li>"0" = Layer ist ausgeschaltet
</li><li>"1" = Layer ist eingeschaltet
</li><li>"2" = Layer ist eingeschaltet, aber in der Legende nicht sichtbar, weil die Gruppe zugeklappt ist.
</li></ul>
<p><b>queryStatus</b>
</p><p>Speichert benutzerbezogen den letzten Zustand dieses Layers in Bezug auf seine Abfragbarkeit.
</p>
<ul><li>"0" = Layer ist nicht abfragbar geschaltet
</li><li>"1" = Layer ist abfragbar geschaltet
</li><li>"2" = Layer ist abfragbar geschaltet, aber in der Legende nicht sichtbar, weil die Gruppe zugeklappt ist.
</li></ul>
<p><b>showclasses</b>
</p><p>Speichert benutzerbezogen, ob die <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Tabelle_.22classes.22" title="Dokumentation">Classes </a> des Layers ein- oder ausgeblendet sind.
</p><p><b>logconsume</b>
</p>
<ul><li>"0" = Layer wird nicht geloggt.
</li><li>"1" = Layer wird innerhalb der Stelle für den bestimmten Nutzer
 geloggt. Z.B. für User Müller innerhalb der Gemeinde xy für den Layer 
Flurstücke. 
</li></ul>
<p>Damit die Protokollierung erfolgt, muss entweder in der Tabelle <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Tabelle_.22stelle.22" title="Dokumentation">stelle</a> oder in der Tabelle <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Tabelle_.22layer.22" title="Dokumentation">layer</a> oder in der Tabelle <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Tabelle_.22used_layer.22" title="Dokumentation">used_layer</a> das Feld "logconsume" = "1" gesetzt sein.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=139" title="Dokumentation">bearbeiten</a>]</div><a name="Tabelle_.22u_styles2classes.22"></a><h4>Tabelle "u_styles2classes"</h4>
<p>Da mehrere Styles zu einer Class gehören können, wird die Zuordnung des jeweiligen Styles in einer eigenen Tabelle vorgenommen.
</p><p><b>class_id</b>
</p><p>Die entsprechende ID aus der Tabelle "classes".
</p><p><b>style_id</b>
</p><p>Die entsprechende ID aus der Tabelle "styles".
</p><p><b>drawingorder</b>
</p><p>Legt die Zeichnungsreihenfolge der Styles fest, wenn (z.B. bei 
komplexeren Linienausgestaltungen) mehrere Styles in einer Class 
enthalten sind.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=140" title="Dokumentation">bearbeiten</a>]</div><a name="API_Doc"></a><h2> API Doc </h2>
<p><b>Automatisierte Dokumentation der Klassen und dessen Funktionen aus Kommentaren im Quelltext</b>
</p><p>Ich habe mal einen ersten Versuch unternommen mit <a href="http://www.phpdoc.de/" class="external text" target="_blank" title="http://www.phpdoc.de" rel="nofollow">PHPDoc</a> eine Referenzdokumentation zu allen in kvwmap vorhandenen Klassen zu erstellen. Das <a href="https://kvwmap.geoinformatik.uni-rostock.de/PHPDoc/apidoc/phpdoc_packagelist.html" class="external text" target="_blank" title="https://kvwmap.geoinformatik.uni-rostock.de/PHPDoc/apidoc/phpdoc packagelist.html" rel="nofollow">Resultat</a>
 liefert zwar schon alle Klassen und dazugehörigen Funktionen und 
Parameter, aber ist noch weitestgehend ohne zusätzliche Beschreibung. 
Die Dokumentation im Quellcode kann aber nach und nach so angepasst und 
erweitert werden, dass daraus eine passable API Doc wird.
Für die Funktion loadMap habe ich das mal beispielhaft gemacht. Es 
bedarf wirklich nur ein paar formatierter Zeilen Kommentar, die so 
aussehen:
</p>
<pre>/**
* Laden der Daten für das Map-Objekt aus Variablen, der Datenbank und/oder einer Map-Datei.
* 
* Diese Funktion ließt die Werte, die notwendig sind um die Karte zu konfigurieren. Die Quellen werden in Abhängigkeit vom Parameter $loadMapSource aus Variablen, aus einer Datenbank oder aus einem MapFile
* 
* Reihenfolge: Übersichtssatz - Kommentar - Tags.
* 
* @param  string	$loadMapSource Art der Quelle, aus der die Werte für das Map-Objekt gelesen werden sollen
*                 Mögliche Werte zur Zeit:
*                 Post: Werte werden aus Variablen gelesen, die über Post mitgeschickt wurden
*                        Dabei werden einige defaultmäßig zu setzende Parameter aus dem angegebenen MapFile gelesen.
*                 File: Die Werte für das Map-Objekt werden aus einer Map-Datei gelesen
*                 DataBase: Dies ist der Standardfall. Die Werte für das Map-Objekt werden aus der Datenbank gelesen.
* @return boolean	liefert derzeit immer true zurück.
* @see    db_mapObj(), $map
*/
</pre>
<p>Die Kommentare finden sich dann dirket in der Dokulmentation wieder, siehe <a href="https://kvwmap.geoinformatik.uni-rostock.de/PHPDoc/apidoc/GUI.html#function_loadMap%28%29" class="external autonumber" target="_blank" title="https://kvwmap.geoinformatik.uni-rostock.de/PHPDoc/apidoc/GUI.html#function loadMap()" rel="nofollow">[3]</a>.
Um nach einer Änderung eine aktuelle API Doc zu erstellen muss man nur den Link
<a href="https://kvwmap.geoinformatik.uni-rostock.de/PHPDoc/" class="external autonumber" target="_blank" title="https://kvwmap.geoinformatik.uni-rostock.de/PHPDoc/" rel="nofollow">[4]</a> aufrufen. Alle Dokumentationsdateien werden daraufhin in ca. 8 Sekunden neu erstellt.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=141" title="Dokumentation">bearbeiten</a>]</div><a name="Benutzung_von_kvwmap"></a><h1>Benutzung von kvwmap</h1>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=142" title="Dokumentation">bearbeiten</a>]</div><a name="Stelle_W.C3.A4hlen"></a><h2>Stelle Wählen</h2>
<p>Die Anzeige von Karteninhalten erfolgt immer über Stellen. Jeder 
Benutzer ist einer oder mehreren Stellen zugewiesen. Innerhalb der 
Stellen kann der Benutzer seine eigenen Einstellungen speicher. Einige 
werden auch automatisch gespeichert, z.B. der letzte Kartenausschnitt, 
die letzten aktiven Layer und welche Menüpunkte aufgeklappt waren.
Um in eine bestimmte Stelle zu wechsen benutzt man den Menüpunkt
"Stelle wählen", der standardmäßig in allen Menüs enthalten ist.
<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Rollenwahl.png" class="image" title="Bild:Rollenwahl.png"><img src="Dokumentation-Dateien/Rollenwahl.png" alt="Bild:Rollenwahl.png" longdesc="/index.php/Bild:Rollenwahl.png" height="424" width="527"></a>
</p><p>In dem Formular können die verfügbaren Stellen (ggf. steht nur 
eine zur Verfügung) ausgewählt werden. Wenn eine andere Stelle gewählt 
wird, werden automatisch die Einstellungen der unten angegebenen 
Parameter nachgeladen und angezeigt. Möchte man diese Parameter auch 
verändern, werden diese über den Butten "Weiter" gespeichert. Damit 
kommt man auch zur Kartendarstellung der gewählten Stelle.
</p><p><b>Zoomfaktor</b>
</p><p>Mit Zoomfaktor legt man fest um das wievielfache der Zoom 
erfolgen soll, wenn man mit dem einfachen Zoomwerkzeug "Hereinzoomen" 
und "Herauszoomen" Zoomen möchte. Achtung! Wenn hier der Wert 1 steht, 
erfolgt nur eine Verschiebung zur angeklickten Stelle, keine 
Maßstabsänderung. Steht hier etwa ein negativer Wert, wird Hineinzoomen 
zum Herauszoomen und umgekehrt.
</p><p><b>Graphische Oberfläche</b>
</p><p>Über die Auswahlliste Graphische Oberfläche kann, soweit vom 
Administrator angeboten, ein anderes Layout gewählt werden. Wenn man ein
 angepasstes eigenes Layout haben möchte, muss man eine eigene php-Datei
 erzeugen. Dazu fragt man am besten bei den Entwicklern nach oder schaut
 sich die Datei gui.php an und kopiert eine veränderte Datei in das 
Verzeichnis layouts/custom. Diese ist dann für alle auswählbar.
</p><p><b>Kartenfenstergröße</b>
</p><p>Hier stellt man die Größe des Kartenfensters ein. Die Angaben 
erfolgen nach dem Schema Breite x Höhe. Möchte man weitere Formate außer
 denen, die zur Auswahl stehen, muss man die Datei rollenwahl.php 
anpassen. Dort stehen die Option im Formularfeld "mapsize". Fragen Sie 
dazu ihren Administrator oder jemanden, der Zugang zu dieser Datei hat.
</p><p><b>Aktuelle Kartenausdehnung</b>
</p><p>Hier kann die aktuelle Kartenausdehnung eingestellt werden. Die 
Kartenausdehnung wird in dem Format "minx miny,maxx maxy" angegeben. Die
 Koordinaten müssen immer in dem System angegeben sein, welches in dem 
Feld "Kartenprojektion (EPSG-Code)" ausgewählt wurde.
</p><p><b>Kartenprojektion (EPSG-Code)</b>
</p><p>Hier kann man schließlich ein Koordinatensystem auswählen, 
welches für die Anzeige verwendet werden soll. Diese Funktion steht seit
 der Version 1.6.5 zur Verfügung. Es ist jedoch zu beachten, dass sich 
dies erstmal nur auf die Darstellung bezieht. Bei der Digitalisierung 
von neuen Objekten auf einer Kartendarstellung mit einem 
Koordinatensystem, welches nicht dem System der Daten in der PostGIS 
Tabelle entspricht, kann noch zu Problemen führen. Also für die 
Erfassung und Änderung von Daten sollte man zunächst immer den EPSG Code
 wählen, der für den Layer in PostGIS festgelegt wurde. In MV dürfte das
 meißtens 2398 sein.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=143" title="Dokumentation">bearbeiten</a>]</div><a name="Drucken_in_PDF"></a><h2>Drucken in PDF</h2>
<p>Um in einer Stelle in PDF drucken zu können, muss der Administrator 
vorher einen Menüpunkt sowie einen oder mehrere zur Auswahl stehende 
Druckrahmen eingerichtet haben.
</p><p>Der Druck erfolgt zunächst über eine Druckausschnittswahl, in der
 der aktuelle Kartenausschnitt zu sehen. Darunter befinden sich Felder 
zur Angabe des gewünschten Druckmaßstabes und zur Auswahl des 
Druckrahmens. Nach Auswahl dieser Felder kann man auf der Karte den 
gewünschten Kartenausschnitt wählen, der in das PDF exportiert werden 
soll. Ist der Kartenausschnitt zu klein bzw. zu groß, muss der 
Druckmaßstab entsprechend angepasst werden.
</p><p>Hat der Kartenausschnitt die gewünschte Position, gelangt man 
durch Klick auf 'Vorschau' zu einer Druckansicht, die Aufschluß darüber 
gibt, wie das spätere PDF-Dokument aussehen wird. Hier kann man 
überprüfen, ob beispielsweise alle benötigten Kartenelemente zu erkennen
 sind. Bei Bedarf kann dazu die Vorschau mit Hilfe der Buttons '+' und 
'-' vergrößert und wieder verkleinert werden. Ist die Druckvorschau 
nicht zufriedenstellend, gelangt man durch Klick auf 'zurück' wieder zur
 Druckausschnittswahl und kann die Einstellungen anpassen. Ist die 
Vorschau in Ordnung, kann man durch Klick auf 'Drucken' das PDF 
erzeugen.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=144" title="Dokumentation">bearbeiten</a>]</div><a name="Metadaten"></a><h2>Metadaten</h2>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=145" title="Dokumentation">bearbeiten</a>]</div><a name="Eingabe"></a><h3>Eingabe</h3>
<p>Zur Erfassung von Metadaten wird zunächst der entsprechende Menüpunkt ausgewählt.
Zur Einbindung des Menüpunktes siehe<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Men.C3.BCverwaltung" title="Dokumentation">Menüverwaltung</a>. Der Linke auf diesen Anwendungsfall lautet index.php?go=Metadateneingabe.
</p><p>Das Eingabeformular für die Metadaten enthält gemäß ISO 19119 für
 Servicemetadaten einige Pflichtangaben und einige optionale. Die 
Pflichtangaben sind durch * gekennzeichnet, siehe <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Metadateneingabe.png" title="Bild:Metadateneingabe.png">Bild:Metadateneingabe.png</a>.
 Je nachdem was man beschreiben möchte wählt man die Art der Metadaten 
aus. Die Id des Metadatensatzes wird vorgegeben. Vorgegeben werden auch 
die Auswahlmöglichkeiten für die Kategorie und Schlagwörter. Wenn die 
Listen angepasst werden sollen, muss dies im Snippets 
"metadateneingabeformular.php" bzw. in der Tabelle md_keywords durch 
einen Administrator erfolgen.
</p><p>Um das Umschließende Rechteck zu ermitteln kann man in der Karte 
ein Rechteckaufziehen und den Button "Box aus Karte" wählen. Die 
Koordinaten werden in die Textfelder übernommen.
</p><p>Einige Metadaten gelten nur für Services, Datensätze oder Applikationen und müssen nur bei Bedarf ausgefüllt werden.
</p><p>Nach dem Senden des Metadatendokumentes wird geprüft ob alle 
Pflichtfelder ausgefüllt wurden. Wenn die Speicherung erfolgte, werden 
die Angaben für eine nächste Eingabe übernommen. Das entsprechende 
Auswahlfeld neben dem Zurücksenden Button sorgt dafür, dass nach dem 
Senden mehr Infos zu Metadaten angezeigt werden, z.B. die Bezeichnungen 
der Metadatenelemente im Standard oder sonsotige Hinweise.
</p><p>Alle eingegebenen Daten werden in die Tabelle md_metadata 
gespeichert. Die Zuordnung zwischen den Schlagwörtern und dem 
Metadatendokument erfolgt über die Tabelle md_keywords2metadata.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=146" title="Dokumentation">bearbeiten</a>]</div><a name="Suche_2"></a><h3>Suche</h3>
<p>Nach Metadaten kann entweder über ein spezielles Suchfenster gesucht 
werden oder über die normale Sachdatenabfrage im Kartenfenster. Bei 
letzerer Variante muss jedoch ein Layer für die Metadatenboxanzeige 
angelegt und der Stelle zugewiesen worden sein, siehe Abschnitt <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Layer" title="Dokumentation">Layer</a>.
</p><p>Für das Suchen über das Suchfenster nutzt man den Menüpunkt 
"Suchen" Unterpunkt "Metadaten". Wenn dieser noch nicht eingerichtet 
ist, muss das vorher durch einen Administrator erfolgen. Der Link auf 
den Anwendungsfall lautet:index.php?go=Metadaten_Auswaehlen, siehe 
Abschnitt: <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Men.C3.BC" title="Dokumentation">Menü</a>.
Das Suchformular ist einfach gehalten. Es kann nach dem Was, Wo, Wer und
 Wann gesucht werden. Die Suche wird in den entsprechenden 
Metadatenelementen räumlich, thematisch und/oder zeitlich vorgenommen.
Zur räumlichen Auswahl kann auch hier wieder ein Rechteck in der Karte 
gezeichnet werden und mit "Box aus Karte" in die Formularfelder 
übernommen werden, siehe <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Metadatensuche.png" title="Bild:Metadatensuche.png">Bild:Metadatensuche.png</a>.
</p><p>Das Suchergebnis besteht aus einer Trefferliste mit verkürzten Informationen zu dem Metadatensatz, siehe <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Metadatenergebnis.png" title="Bild:Metadatenergebnis.png">Bild:Metadatenergebnis.png</a>. Ein Link führt auf die Detailanzeige, siehe <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Metadatendetailansicht.png" title="Bild:Metadatendetailansicht.png">Bild:Metadatendetailansicht.png</a> und ein Link zur Bearbeitung des Datensatzes, wie im Eingabeformular.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=147" title="Dokumentation">bearbeiten</a>]</div><a name="Anzeige_2"></a><h3>Anzeige</h3>
<p>Die Anzeige der Metadaten erfolgt nach der Suche über das spezielle 
Suchformular oder nach der Sachdatenabfrage über die Karte. Da wie bei 
allen Layern das Template für die Sachdatenanzeige frei gewählt werden 
kann, ist es möglich, dass ein Administrator auch ein anderes Layout für
 die Anzeige der Metadaten wählt, als standardmäßig vom GLE erzeugt 
wird. Bei Metadaten ist es z.B. genau das selbe Template zu verwenden, 
wie es auch für die Trefferlistenanzeige verwendet wird. Dazu ist das 
Template "Metadaten.php" in den stellenbezogenen Layereigenschaften 
einzutragen.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=148" title="Dokumentation">bearbeiten</a>]</div><a name="Layer_aus_Mapdatei_laden"></a><h2>Layer aus Mapdatei laden</h2>
<p>Über die Funktion "Layer aus Mapdatei laden" (go-Variable: 
layerfrommapfile) hat man die Möglichkeit Mapdateien einzulesen und die 
darin enthaltenen Layer-, Klassen-, Styles- und Labels in die MySQL-DB 
zu speichern.
</p><p><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Layerfrommapfile.jpg" class="image" title="Bild:layerfrommapfile.jpg"><img src="Dokumentation-Dateien/Layerfrommapfile.jpg" alt="Bild:layerfrommapfile.jpg" longdesc="/index.php/Bild:Layerfrommapfile.jpg" height="149" width="448"></a>
</p><p>Man kann entweder eine einzelne Mapdatei hochladen oder eine 
gezippte Verzeichnisstruktur, in der die Fonts, Symbole usw. enthalten 
sind. Läd man eine Zip-Datei hoch, stehen alle in diesem Archiv 
vorhandenen Mapdateien für den Einlesevorgang zur Auswahl. Beim Einlesen
 der Mapdateien ist darauf zu achten, dass die Pfadangaben für das 
Fontset und das Symbolset in der Mapdatei stimmen. Ansonsten 
funktioniert der Einlesevorgang nämlich nicht. 
</p><p>Nachdem die ausgewählte Mapdatei eingelesen wurde, werden alle in
 ihr enthaltenen Layer nach Gruppen geordnet untereinander aufgelistet. 
Die Layer, die in der Mapdatei keiner Gruppe zugeordnet wurden, werden 
der Gruppe "Gruppe1" zugeordnet. Hinter jedem Layer gibt es eine 
Checkbox, über die man festlegen kann, ob der jeweilige Layer in die 
Datenbank gespeichert werden soll. Zusätzlich kann hier noch ausgewählt 
werden, ob das Font- und Symbolset um die zusätzlichen Fonts bzw. 
Symbole erweitert werden soll. Bei Auswahl der Fontseterweiterung werden
 außerdem noch die neuen Fonts in den Fontordner kopiert. Hierbei ist 
jedoch darauf zu achten, dass keine vorhandenen Symbole oder Fonts 
überschrieben werden. Daher empfiehlt es sich, diese beiden Anpassungen 
von Hand zu machen.
</p><p>Nach Auswahl der gewünschten Layer klickt man auf "Layer 
hinzufügen" und die entsprechenden Layer werden in die Datenbank 
geschrieben. Nach erfolgter Speicherung der Layer wird ausgegeben, 
wieviele Gruppen, Layer, Klassen, Styles und Labels in die Datenbank 
eingefügt wurden.
</p><p><br>
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=149" title="Dokumentation">bearbeiten</a>]</div><a name="ALB-.C3.84nderung"></a><h2>ALB-Änderung</h2>
<ul><li> Zum Einlesen von ALB Daten aus WLDGE-Dateien gibt es 
verschiedene Möglichkeiten. Zum einen können eine oder mehrere 
Grunddatenbestände und zum anderen Fortführungsdateien eingelesen 
werden.(siehe Abbildung)
</li><li> Der Anwendungsfall für die ALB-Änderungen nennt sich: ALB_Aenderung
</li><li> Wer also die ALB-Änderung in einen Menüpunkt einbinden möchte 
(Wenn noch nicht geschehen) sollte in der Tabelle u_menues in der Spalte
 links "index.php?go=ALB_Aenderung" eintragen.
</li><li> Nach Auswahl des Menüpunktes erscheint ein Formular zum 
Auswählen der WLDGE-Datei. Wenn die Datei schon auf dem Server liegt, 
geben Sie den Pfad und den Dateinamen im ersten Formularfeld an, 
ansonsten wählen Sie eine Datei von Ihrem lokalen Rechner zum hochladen 
aus.
</li><li> Dann wählen Sie über den Radiobutton aus ob es sich um eine Fortführung oder einen Grundbestand handelt aus.
</li><li> Wählen Sie in welche Datenbank die Daten sollen. Empfohlen 
wird PostgreSQL, weil da auch die ALK-Daten sind und die ALB-Daten sonst
 nicht mit ALK genutzt werden können. Nur wer seine ALK-Datein in MySQL 
hat und die ALB-Daten auch darein haben möchte sollte MySQL wählen. Die 
Unterstützung für das Speichern unter MySQL läuft aber aus. 
Mittelfristig sollen alle GIS-Daten, wozu auch die ALB-Daten zählen in 
die PostgreSQL Datenbank. Der Knopf MySQL wird also bald verschwinden.
</li></ul>
<p><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:Wldgeauswaehlen.png" class="image" title=""><img src="Dokumentation-Dateien/636px-Wldgeauswaehlen.png" alt="" longdesc="/index.php/Bild:Wldgeauswaehlen.png" height="592" width="636"></a>
</p>
<ul><li> Wenn nicht direkt in die Datenbank geschrieben werden soll, 
sondern nur die Logdatei angelegt werden soll mit den SQL-Statements zum
 Einlesen der ALB Daten, kann als nächstes die Checkbox ausgewählt 
werden.
</li><li> Die Checkbox "Datenbank vorher leeren" darf nur ausgewählt 
werden, wenn die allererste Grundbestandsdatei eingelesen wird. Wenn 
mehrere Grundbestandsdateien eingelesen werden nur bei der ersten diesen
 Haken setzen.
</li><li> "Ohne Transaktion" sollte nur gewählt werden, wenn es sich um 
sehr große Dateien handelt, man das Einlesen testen möchte oder das 
Schreiben in die Datenbank sowieso unterdrückt hat. Die SQL-Befehle für 
den Begin der Transaktion wird dann auch nicht in die Logfiles 
geschrieben. Die Ausführung der SQL in einer Transaktion beim späteren 
Einlesen obliegt dann also dem Nutzer.
</li><li> Die Prüfung der WLDGE Kopfzeilen kann unterdrückt werden, wenn
 Fortführungen ohne Kopfzeilen oder mit falschen Datumsangaben 
eingelesen werden sollen. Geprüft wird:
</li></ul>
<pre>- Ob die Datei mit der richtigen Dateikennung beginnt (1).
- Ob bei einer Fortführung die Fortführungsart S enthalten ist.
- Ob die Druckauftragsart 11 (Ausgabe mit Entschlüsselung) ist.
- Ob die Dateikennungen 1.E.20 und 1.E.30 bei Fortführungen existieren.
- Ob die Kennung der Erstabgabe L ist.
- Ob das Datum der Grundausstattung ein gültiges ist.
- Ob das Datum der Grundausstattung in der WLDGE Datei in der Datenbank vorkommt
- Ob die Datumsangaben für den Zeitraum einer Fortführung gültig sind.
- Ob das Anfangsdatum der Fortführung mit dem Enddatum der letzten Fortführung bereinstimmt.
</pre>
<ul><li> Letztlich kann noch gewählt werden ob die SQL-Statements in 
eine Logdatei geschrieben werden sollen oder nicht. Die Logdateien 
werden in den Pfad geschrieben, der in der Konstante:LOGPATH aus der 
Datei config.php angegeben ist.
</li><li> Die Namen der Logdateien der Grundbestandsdateien setzen sich wie folgt zusammen:
</li></ul>
<pre>WLDGE_Dump_&lt;Datenbank&gt;_&lt;Datumsstempel&gt;.sql
</pre>
<ul><li> Die Namen der Fortführungen:
</li></ul>
<pre>WLDGE_update_Dump_&lt;Datenbank&gt;_&lt;Datumsstempel&gt;.sql
</pre>
<ul><li> Nach dem Anklicken des Buttons Abschicken wird die Datei 
geprüft, eingelesen und die entsprechenden Tabellen in der Datenbank 
aktualisiert.
</li></ul>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=150" title="Dokumentation">bearbeiten</a>]</div><a name="ALK-Aktualisieren"></a><h2>ALK-Aktualisieren</h2>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=151" title="Dokumentation">bearbeiten</a>]</div><a name="Mit_Shapefiles"></a><h3>Mit Shapefiles</h3>
<ul><li> Menüpunkt Fortführung Unterpunkt ALK_Änderung ausführen.
</li><li> Die Shape-Dateien ALK_Flurstuecke, ALK_Gebaeude, ALK_Nutzungen
 und ALK_Ausgest im Verzeichnis data/ werden eingelesen und die 
dazugehörigen Tabellen in der Datenbank aktualisiert.
</li><li> Die Fortführung erfolgt im Moment nur komplett über den gesamten Datenbestand im Shape-Format.
</li></ul>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=152" title="Dokumentation">bearbeiten</a>]</div><a name="Mit_EDBS-Dateien_.28BZSN.29"></a><h3>Mit EDBS-Dateien (BZSN)</h3>
<ul><li> Die Postgres-Datenbank mit PostGIS-Unterstützung muss vorhanden
 sein. Der Konverter EDBS2WKT muss auf einem Windows-Rechner installiert
 sein und eine ODBC-Verbindung zum Datenbankserver existieren. Die 
ALK-Tabellen müssen mit EDBS2WKT angelegt werden.
</li><li> Dann kann das Einlesen der EDBS-Dateien über EDBS2WKT erfolgen.
</li><li> Es kann sein, dass die Dateien noch vom UNIX Textformat in 
PC-Format geändert werden müssen. Dazu kann das Tool UnixToWin verwendet
 werden. Zu finden unter: <a href="http://62.153.231.87/alb/daten/UnixToWin.exe" class="external free" target="_blank" title="http://62.153.231.87/alb/daten/UnixToWin.exe" rel="nofollow">http://62.153.231.87/alb/daten/UnixToWin.exe</a>
</li></ul>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=153" title="Dokumentation">bearbeiten</a>]</div><a name="WMS-Konformit.C3.A4t"></a><h2>WMS-Konformität</h2>
<p>Kvwmap kann auf zwei Arten als WMS konformer MapServer eingesetzt werden.
</p><p>1. über CGI
Dazu produziert kvwmap „Mapfiles“ mit entsprechenden Metadaten (siehe MapServer WMS Server HOWTO).
</p><p>Den Speicherort für Mapdateien stellen Sie über die Konstante WMS_MAPFILE_Path ein.
</p><p>Wenn Sie eine WMS konforme Map-Datei erstellen wollen, klicken 
auf den Menüpunkt WMS-Export und geben dort den Namen  der Datei (z.B. 
wms_test.map) an. In dieser Datei wird dann der zuletzt angezeigte 
Zustand der kvwmap Kartenansicht abgelegt und ist für die Nutzung in 
einem Web Map Service nutzbar. Die Map-Datei enthält alle Metadaten, die
 für den getCapabilities Request erforderlich sind.
</p><p>Die Map-Datei sollte in einem WWW-Verzeichnis stehen, z.B. /meinwwwroot/WMS. Dieses Verzeichnis muss wwwrun gehören.
</p><p>Auf diese Map-Datei kann dann wie folgt zugegriffen werden.
</p><p>getCapabilities-Request
</p>
<pre>http...://www.myserver.de/cgi-bin/mapserv?map=/mywwwroot/WMS/wms_test.map
&amp;request=getcapabilities&amp;service=wms&amp;version=1.1.0
</pre>
<p>In dem vom MapServer geliefertem XML-Dokument sind die verfügbaren 
Layer aufgelistet. Diese können dann im getMap-Request zur Ansicht 
gebracht werden.
</p><p>getMap-Request
</p>
<pre>http...://www.myserver.de/cgi-bin/mapserv?map=/mywwwroot/WMS/wms_test.map&amp;service=wms
&amp;request=getmap&amp;version=1.1.0&amp;layers=Landkreis,Gemeinde,Gemarkung,LSG&amp; Height=500&amp;width=500
</pre>
<p>2. über kvwmap selbst
</p><p>Dazu wird direkt kvwmap aufgerufen mit dem Anwendungsfall go=OWS.
 Genau wie beim normalen Aufruf der Anwendung muß sich der Nutzer auch 
hier beim ersten Mal authentifizieren. Dann stehen alle Layer des 
Nutzers in der aktuellen (letzten) Stelle als WMS zur Verfügung.
</p><p>Hinter dem Parameter go können dann alle WMS konformen Anfrageparameter angehängt werden, für alle Requestarten.
Um auch auf die Layer einer anderen Stelle des Nutzers zugreifen zu können, läßt sich der Parameter Stelle_ID angeben.
</p><p>Im Beispiel ist ein getCapabilities Aufruf dargestellt.
</p>
<pre>http...://www.server.de/kvwmap/index.php?go=OWS&amp;request=getCapabilities&amp;service=wms&amp;version=1.1.0&amp;Stelle_ID=1
</pre>
<p>Existiert eine Stelle nicht oder jemand versucht auf eine falsche 
Stelle zuzugreifen, für die keine Berechtigung vorliegt wird folgende 
Exception zurückgeliefert:
</p><p><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:OWSServiceException.png" class="image" title="Bild:OWSServiceException.png"><img src="Dokumentation-Dateien/OWSServiceException.png" alt="Bild:OWSServiceException.png" longdesc="/index.php/Bild:OWSServiceException.png" height="99" width="456"></a>
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=154" title="Dokumentation">bearbeiten</a>]</div><a name="ESRI-Shape_Import"></a><h2> ESRI-Shape Import</h2>
<p>Der Import von Shape Dateien in die PostGIS Datenbank wird mit dem Anwendungsfall: go=SHP_Import gestartet.
</p><p><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:SHP_import.png" class="image" title="Oberfläche zum Hochladen der Shape Dateien"><img src="Dokumentation-Dateien/SHP_import.png" alt="Oberfläche zum Hochladen der Shape Dateien" longdesc="/index.php/Bild:SHP_import.png" height="115" width="346"></a>
</p><p>Die Einzulesenden Shape-Dateien werden als ZIP-Datei gepackt und 
gemeinsam, zunächst temporär auf den Server hochgeladen. Anschließend 
können Einstellungen für den Import vorgenommen werden.
</p><p><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bild:SHP_import_settings.jpg" class="image" title="Einstellungen zum Import von Shape Dateien"><img src="Dokumentation-Dateien/SHP_import_settings.jpg" alt="Einstellungen zum Import von Shape Dateien" longdesc="/index.php/Bild:SHP_import_settings.jpg" height="403" width="663"></a>
</p><p>Dabei kann gewählt werden, ob die Daten in eine neue Tabelle 
eingefügt werden, eine vorhandene Tabelle überschrieben werden soll oder
 die Daten an eine vorhandene Tabelle angehängt werden sollen. Für das 
Anlegen neuer Tabellen kann noch angegeben werden, welches 
Koordinatensystem zugeordnet (EPSG-Code) und ob ein GIST Index erzeugt 
werden soll. Die Zuordnung zwischen den Attributen in der dbf-Tabelle 
und den Tabellen der Datenbank kann folgendermaßen erfolgen.
Entfernen des Häkchens aus der Checkbox bedeutet, dass das Attribut 
nicht übernommen wird. Ansonsten kann neben dem jeweiligen Attribut aus 
der dbf Tabelle der Name der Spalte in der PostGIS Tabelle angegeben 
werden. Außerdem kann der Datentyp geändert werden. Mit dem Radiobutton 
hinter jedem Attribut läßt sich festlegen, ob dieses Attribut der 
Primärschlüssel sein soll. Alternativ dazu kann auch ein zusätzlicher 
Primärschlüssel 'gid' angelegt werden. Zu beachten ist, dass die 
Geometrien der eingelesenen Daten gleich sein müssen und auch bei 
Fortführungen vom gleichen Typ sein müssen.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit&amp;section=155" title="Dokumentation">bearbeiten</a>]</div><a name="Weitere_Hilfe"></a><h1> Weitere Hilfe </h1>
<p>Unter der Rubrik Foren in der Menüleiste links finden Sie weitere Hilfe.
Unter anderem befindet sich dort ein Bug-Report, eine Liste mit <a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/HowTo-Liste" class="external text" target="_blank" title="http://kvwmap.geoinformatik.uni-rostock.de/index.php/HowTo-Liste" rel="nofollow">HowTo</a> und eine allgemeine Fragen-Liste zu kvwmap.
</p><p>Viele Einträge sind von Nutzern selber gemacht worden. Scheuen 
Sie sich also nicht hier im Wiki auch zur Dokumentation von kvwmap 
beizutragen.
</p>
<!-- Saved in parser cache with key kvwmap_wiki:pcache:idhash:1292-0!1!0!0!!de!2 and timestamp 20110902031619 -->
<div class="printfooter">
Von "<a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation">http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation</a>"</div>
	    	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-main" class="selected"><a title="View the content page [alt-c]" accesskey="c" href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation">Artikel</a></li><li id="ca-talk" class="new"><a title="Discussion about the content page [alt-t]" accesskey="t" href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Diskussion:Dokumentation&amp;action=edit">Diskussion</a></li><li id="ca-edit"><a title="You can edit this page. Please use the preview button before saving. [alt-e]" accesskey="e" href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=edit">bearbeiten</a></li><li id="ca-history"><a title="Past versions of this page. [alt-h]" accesskey="h" href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=history">Versionen</a></li><li id="ca-protect"><a title="Protect this page [alt-=]" accesskey="=" href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=protect">Schützen</a></li><li id="ca-delete"><a title="Delete this page [alt-d]" accesskey="d" href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=delete">löschen</a></li><li id="ca-move"><a title="Move this page [alt-m]" accesskey="m" href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Spezial:Movepage/Dokumentation">verschieben</a></li><li id="ca-watch"><a title="Add this page to your watchlist [alt-w]" accesskey="w" href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;action=watch">Beobachten</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-personal">
	  <h5>'Persönliche Werkzeuge</h5>
	  <div class="pBody">
	    <ul>
	    <li id="pt-userpage"><a title="My user page [alt-.]" accesskey="." href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Benutzer:Rahn">Rahn</a></li><li id="pt-mytalk"><a title="My talk page [alt-n]" accesskey="n" href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Benutzer_Diskussion:Rahn" class="new">Meine Diskussion</a></li><li id="pt-preferences"><a title="My preferences" href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Spezial:Preferences">Einstellungen</a></li><li id="pt-watchlist"><a title="The list of pages you're monitoring for changes. [alt-l]" accesskey="l" href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Spezial:Watchlist">Beobachtungsliste</a></li><li id="pt-mycontris"><a title="List of my contributions [alt-y]" accesskey="y" href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Spezial:Contributions/Rahn">Meine Beiträge</a></li><li id="pt-logout"><a title="Log out [alt-o]" accesskey="o" href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Spezial:Userlogout&amp;returnto=Dokumentation">Abmelden</a></li>	    </ul>
	  </div>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(&quot;/skins/kvwmap/images/kvwmap-wiki.gif&quot;);" href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Hauptseite" title="Hauptseite"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class="portlet" id="p-navigation">
	  <h5>Navigation</h5>
	  <div class="pBody">
	    <ul>
	    	      <li id="n-mainpage"><a title="Visit the Main Page [alt-z]" accesskey="z" href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Hauptseite">Hauptseite</a></li>
	     	      <li id="n-kvwmap-Portal"><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/kvwmap:Portal">kvwmap-Portal</a></li>
	     	      <li id="n-Dokumentation"><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation">Dokumentation</a></li>
	     	      <li id="n-Funktionsumfang"><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Dokumentation#Funktionalit.C3.A4t_im_Client">Funktionsumfang</a></li>
	     	      <li id="n-Versionen"><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Changelog">Versionen</a></li>
	     	      <li id="n-Metadaten"><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Metadaten">Metadaten</a></li>
	     	      <li id="n-Fragen+Antworten"><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/FAQ">Fragen+Antworten</a></li>
	     	    </ul>
	  </div>
	</div>
		<div class="portlet" id="p-SourceForge.net">
	  <h5>SourceForge.net</h5>
	  <div class="pBody">
	    <ul>
	    	      <li id="n-Projektseite"><a href="http://sourceforge.net/projects/kvwmap/">Projektseite</a></li>
	     	      <li id="n-Mailingliste"><a href="http://sourceforge.net/mailarchive/forum.php?forum_name=kvwmap-users">Mailingliste</a></li>
	     	      <li id="n-Downloads"><a href="http://sourceforge.net/project/showfiles.php?group_id=137679">Downloads</a></li>
	     	      <li id="n-Kontakt"><a href="http://sourceforge.net/project/memberlist.php?group_id=137679">Kontakt</a></li>
	     	    </ul>
	  </div>
	</div>
		<div class="portlet" id="p-Foren">
	  <h5>Foren</h5>
	  <div class="pBody">
	    <ul>
	    	      <li id="n-Wunschliste"><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Wunsch-Liste">Wunschliste</a></li>
	     	      <li id="n-ToDo-Liste"><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/ToDo-Liste">ToDo-Liste</a></li>
	     	      <li id="n-Bug-Report"><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Bug-Report">Bug-Report</a></li>
	     	      <li id="n-HowTos"><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/HowTo-Liste">HowTos</a></li>
	     	      <li id="n-GLE-Fachschalen"><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/GLE-Fachschalen">GLE-Fachschalen</a></li>
	     	      <li id="n-InternetGIS"><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/InternetGIS">InternetGIS</a></li>
	     	    </ul>
	  </div>
	</div>
		<div class="portlet" id="p-Extras">
	  <h5>Extras</h5>
	  <div class="pBody">
	    <ul>
	    	      <li id="n-kvwmap-Nutzer"><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Kvwmap-Nutzer">kvwmap-Nutzer</a></li>
	     	      <li id="n-Anwendertreffen"><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Anwendertreffen">Anwendertreffen</a></li>
	     	      <li id="n-Wiki-Teilnehmer"><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Spezial:Listusers">Wiki-Teilnehmer</a></li>
	     	      <li id="n-recentchanges"><a title="The list of recent changes in the wiki. [alt-r]" accesskey="r" href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Spezial:Recentchanges">Letzte Änderungen</a></li>
	     	      <li id="n-Aktuelles"><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Vorlage:Aktuelles">Aktuelles</a></li>
	     	      <li id="n-help"><a title="The place to find out." href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/kvwmap:Hilfe">Hilfe</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Suche</label></h5>
	  <div class="pBody">
	    <form name="searchform" action="/index.php/Spezial:Search" id="searchform">
	      <input id="searchInput" name="search" accesskey="f" type="text">
	      <input name="go" class="searchButton" id="searchGoButton" value="Los" type="submit">&nbsp;<input name="fulltext" class="searchButton" value="Suche" type="submit">
	    </form>
	  </div>
	</div>
	<div class="portlet" id="p-tb">
	  <h5>Werkzeuge</h5>
	  <div class="pBody">
	    <ul>
		  		  <li id="t-whatlinkshere"><a title="List of all wiki pages that link here [alt-j]" accesskey="j" href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Spezial:Whatlinkshere/Dokumentation">Was zeigt hierhin</a></li>
		  		  <li id="t-recentchangeslinked"><a title="Recent changes in pages linked from this page [alt-k]" accesskey="k" href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Spezial:Recentchangeslinked/Dokumentation">Verlinkte Seiten</a></li>
		                	      	      	      	      	      	      	      <li id="t-upload"><a title="Upload images or media files [alt-u]" accesskey="u" href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Spezial:Upload">Hochladen</a></li>	      	      <li id="t-specialpages"><a title="List of all special pages [alt-q]" accesskey="q" href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/Spezial:Specialpages">Spezialseiten</a></li>	      	      	      <li id="t-print"><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php?title=Dokumentation&amp;printable=yes&amp;printable=yes">Druckversion</a></li>
	      	    </ul>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="Dokumentation-Dateien/poweredby_mediawiki_88x31.png" alt="MediaWiki"></a></div>		<ul id="f-list">
	  <li id="f-lastmod"> Diese Seite wurde zuletzt geändert um 12:35, 26. Aug 2011.</li>	  <li id="f-viewcount">Diese Seite wurde bisher 104415 mal abgerufen.</li>	  	  	  	  <li id="f-about"><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/kvwmap:%C3%9Cber_kvwmap" title="kvwmap:Über kvwmap">Über kvwmap</a></li>	  <li id="f-disclaimer"><a href="http://kvwmap.geoinformatik.uni-rostock.de/index.php/kvwmap:Lizenzbestimmungen" title="kvwmap:Lizenzbestimmungen">Lizenzbestimmungen</a></li>	  	</ul>
      </div>
    </div>
    <!-- Served by berg in 0.16 secs. -->  

</body></html>